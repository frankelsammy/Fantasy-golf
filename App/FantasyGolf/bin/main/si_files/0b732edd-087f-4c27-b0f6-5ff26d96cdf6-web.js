/*! permutive-javascript-sdk v19.94.0 (web) (built 2023-07-14T19:26:48.299Z) */(()=>{"use strict";var __webpack_modules__={2688:(e,t,i)=>{function n(e){return e instanceof Error?e:new Error("string"==typeof e?e:JSON.stringify(e))}i.d(t,{w:()=>n})},787:(e,t,i)=>{i.d(t,{A:()=>a});var n=i(3735),r=i(6567);function a(e){return(0,n.zG)((0,r.Y3)((()=>JSON.parse(e))),(0,r.fS)(n.gn))}},7183:(e,t,i)=>{i.d(t,{h:()=>n});const n=e=>new r(e);class r{constructor(e){const t=this;this._worker=e,this._callbacks={},this._id=0,e.addEventListener("message",(function(e){r.onMessage(t,e)}))}set id(e){this._id=e}get id(){return this._id}newId(){const e=this.id;return this.id=this.id+1,e}static onMessage(e,t){if(i=t.data,!(Array.isArray(i)&&i.length>=2))return;var i;const[n,r,a]=t.data,o=e._callbacks[n];o&&(delete e._callbacks[n],o(r,a))}static isServiceWorker(e){return void 0!==e.controller}postMessage(e){const t=this,i=this.newId(),n=[i,e];return new Promise((function(e,a){var o;if(t._callbacks[i]=function(t,i){if(t)return a(new Error(t.message));e(i)},r.isServiceWorker(t._worker)){const e=new MessageChannel;e.port1.onmessage=function(e){r.onMessage(t,e)},null===(o=t._worker.controller)||void 0===o||o.postMessage(n,[e.port2])}else t._worker.postMessage(n)}))}}},5912:(e,t,i)=>{i.r(t),i.d(t,{CleanRoomAddon:()=>D,load:()=>P,segmentationService:()=>q});var n=i(655),r=i(3735),a=i(2688),o=i(1500),s=i(5e3),c=i(6567),u=i(6934),l=i(2851),d=i(2652),p=i(4730),g=i(7826);class m{putOrResetUnprocessed(e){return(0,n.mG)(this,void 0,void 0,(function*(){return(0,r.zG)(e,c.g_((()=>u.Y3((()=>this.unprocessedPrebidAuctions.reset()),a.w)),(e=>u.Y3((()=>this.unprocessedPrebidAuctions.put(e)),a.w))),u.vx((e=>(this.reportError(`Unprocessed auctions failed to put. Got ${e}`),u.F2((0,r.Q1)())))),(e=>e()))}))}get allAuctions(){return Object.assign(Object.assign({},this.stagedAuctions),this.trackableAuctions)}constructor(e){this.prefix="[clean_room]",this.debouncedPutOrResetUnprocessed=this.setupUnprocessedPrebidAuctions(),this.stagedAuctions={},this.trackableAuctions={},this.trackAuctionsInterval=null,this.permutive=e.permutive,this.api=e.api,this.logger=e.logger,this.unprocessedPrebidAuctions=e.unprocessedEvents.PrebidAuctions,this.sessionManager=e.sessionManager,this.clientContext=e.clientContext,this.viewId=e.viewId,(0,r.zG)(e.pbjs,l.UI(c.EQ((()=>{this.logInfo("Waiting for PrebidJS to start PrebidAuctions tracking...")}),(e=>this.startPrebidAuctions(e)))))}startPrebidAuctions(e){return(0,n.mG)(this,void 0,void 0,(function*(){yield this.trackUnprocessedPrebidAuctions(),this.logDebug("Starting PrebidAuctions tracking",{prebid:e});const t=(0,g.zi)(e),i=e=>0===e.bidsReceived.length&&0===e.noBids.length?null:(0,r.zG)(this.mapToStagedAuctions(e),s.tS((()=>s.Y3((()=>e.bidsReceived.forEach((e=>{var i;("rendered"===(i=e).status||"targetingSet"===i.status)&&this.setBidToWon(t,e)}))),(e=>{const t=`Failed to process auction. Got ${(0,a.w)(e)}`;return this.reportError(t),(0,a.w)(t)})))));e.onEvent("auctionEnd",(e=>{i(e),this.storeAuctionsAsUnprocessed(this.allAuctions)}));const c=i=>{const n=(0,d.qh)(i);this.logDebug("Processing setTargeting event",{adUnitCodes:n});const a=s.DT((e=>{let[t,i]=e;return!!t&&!!i.hb_adid}),(()=>new Error("Missing targeting data"))),c=(0,r.ls)(a,s.tS((t=>{let[i,{hb_adid:n}]=t;return(0,r.zG)(e.getAllPrebidWinningBids(),(0,o.Ew)((e=>e.adId===n&&e.adUnitCode===i)),s.Yo((()=>new Error("Prebid winning bid does not exist"))))})),s.UI((e=>{this.setBidToWon(t,e)})));return n.forEach(c)};e.onEvent("setTargeting",(e=>{c(e),this.storeAuctionsAsUnprocessed(this.allAuctions)})),e.onEvent("bidWon",(e=>{this.setBidToWon(t,e),this.storeAuctionsAsUnprocessed(this.allAuctions)}));const u=(e,i)=>{this.logDebug("Processing render event",{isRendered:e,props:i}),i.bid&&(e&&this.setBidToRendered(t,i.bid),this.promoteAuctionToTrackable(i.bid),this.storeAuctionsAsUnprocessed(this.allAuctions),this.trackEligibleAuctions())};e.onEvent("adRenderSucceeded",(e=>{u(!0,e)})),e.onEvent("adRenderFailed",(e=>{u(!1,e)})),e.getEvents().forEach((e=>"auctionEnd"===e.eventType?i(e.args):"setTargeting"===e.eventType?c(e.args):"bidWon"===e.eventType?this.setBidToWon(t,e.args):"adRenderSucceeded"===e.eventType?u(!0,e.args):"adRenderFailed"===e.eventType?u(!1,e.args):void 0)),this.storeAuctionsAsUnprocessed(this.allAuctions,{debounced:!1}),(0,d.aT)((()=>(0,n.mG)(this,void 0,void 0,(function*(){this.trackAuctionsInterval=null;const e=this.allAuctions;this.stagedAuctions={},this.trackableAuctions={},yield this.trackPrebidAuctions(e,{useBeacon:!0}),yield this.storeAuctionsAsUnprocessed(null,{debounced:!1})}))))}))}trackUnprocessedPrebidAuctions(){return(0,r.zG)(u.Y3((()=>(0,n.mG)(this,void 0,void 0,(function*(){return(0,r.zG)(yield this.unprocessedPrebidAuctions.getIfPresent(),c.g_((()=>this.logDebug("No unprocessed PrebidAuctions found")),(e=>{var{props:t}=e,i=(0,n._T)(e,["props"]);return this.logDebug("Found unprocessed PrebidAuctions",{props:t,unprocessedData:i}),Promise.all([this.permutive.track("PrebidAuctions",t,{unprocessedData:i}),this.unprocessedPrebidAuctions.reset()])})))}))),(e=>{const t=`Failed to track unprocessed PrebidAuctions. Got ${(0,a.w)(e)}`;return this.reportError(t),(0,a.w)(t)})),(e=>e()))}setupUnprocessedPrebidAuctions(){const e=new p.b(1e3,2500),t=this.putOrResetUnprocessed.bind(this);return e.schedule(t)}storeAuctionsAsUnprocessed(e){let{debounced:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.mG)(this,void 0,void 0,(function*(){this.logDebug("Store auctions as unprocessed",{auctionsToStore:e,debounced:t});const i=u.Y3((()=>(0,n.mG)(this,void 0,void 0,(function*(){const t=(0,d.qh)(null!=e?e:{}).map((e=>{let[t,i]=e;return Object.assign(Object.assign({},i),{auction_id:t})})),i=yield this.clientContext.getClient();return(0,r.zG)(t,c.DT((e=>e.length>0)),c.UI((e=>({props:{isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",aggregations:{auctions:e}},client:i,viewId:this.viewId.get(),sessionId:this.sessionManager.getSessionId()}))))}))),a.w);return(0,r.zG)(i,u.EQ((e=>{this.reportError(`Failed to process auctions: ${e}`)}),(e=>{const i=this.debouncedPutOrResetUnprocessed(e);return t?i:Promise.all([this.putOrResetUnprocessed(e),i])})),(e=>e()))}))}mapBidProperties(e,t){var i;return{ad_id:t.adId,ad_unit_code:t.adUnitCode,advertiser_domains:(0,g.Cg)(t),advertiser_id:(e=>{var t,i;const n=e.rubicon&&"object"==typeof e.rubicon&&"advertiserId"in e.rubicon&&e.rubicon.advertiserId||(null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.buyerId)||(null===(i=null==e?void 0:e.meta)||void 0===i?void 0:i.advertiserId);return n?`${n}`:void 0})(t),advertiser_name:(e=>{var t,i,n;const r=(null===(t=e.meta)||void 0===t?void 0:t.clickUrl)||(null===(i=e.adomain)||void 0===i?void 0:i[0])||(null===(n=e.meta)||void 0===n?void 0:n.advertiserName);return r?`${r}`:void 0})(t),bid_available:"string"==typeof t.statusMessage&&t.statusMessage.indexOf("empty")<0,bidder:t.bidder,bidder_timeout:e.bidderTimeout,brand_id:(e=>{var t;const i=null===(t=e.meta)||void 0===t?void 0:t.brandId;return i?`${i}`:void 0})(t),brand_name:(e=>{var t;return null===(t=e.meta)||void 0===t?void 0:t.brandName})(t),cpm:(0,g.Qd)(t),creative_id:`${t.creativeId}`,deal_id:(0,g.$7)(t),dsp_id:(0,g.cs)(t),hb_pb:null===(i=t.adserverTargeting)||void 0===i?void 0:i.hb_pb,height:(0,d.rH)(t.height),request_timestamp:t.requestTimestamp,response_timestamp:t.responseTimestamp,time_to_respond:t.timeToRespond,width:(0,d.rH)(t.width)}}collectAdUnitCodes(e){const t=new Set;return e.reduce(((e,i)=>{let{adUnitCode:n}=i;return!n||t.has(n)||(t.add(n),e.push({ad_unit_code:n})),e}),[])}mapToStagedAuctions(e){return s.Y3((()=>{const{auctionId:t,bidsReceived:i,noBids:n}=e,r=this.collectAdUnitCodes(i),a=this.collectAdUnitCodes(n);return this.stagedAuctions[t]={bids:r,no_bids:a},this.logDebug("Added auction",this.stagedAuctions[t]),this.stagedAuctions[t]}),(e=>{const t=`Failed to map auction. Got ${(0,a.w)(e)}`;return this.reportError(t),(0,a.w)(t)}))}findAuction(e){return(0,r.zG)(this.getStagedAuction(e.auctionId),s.vx((()=>this.getTrackableAuction(e.auctionId))),s.vx((()=>this.mapToStagedAuctions({auctionId:e.auctionId,bidsReceived:[e],bidderRequests:[],noBids:[]}))))}setBidByOperation(e,t,i){const n=e=>e.hasOwnProperty("ad_id"),c=(i,c)=>{const u=e=>e.ad_id===i.adId,l=e=>e.ad_unit_code===i.adUnitCode,[d,p]=(0,r.zG)(c,(0,o.uK)((e=>n(e)&&u(e)&&l(e))),(e=>[e.left,e.right]));this.logDebug(`Bids for ${t}`,{nonMatching:d,matching:p});const g=(0,r.ls)(s.DT((e=>1===e.length),(()=>new Error("No matching bids"))),s.UI((e=>{let[i]=e;return this.logDebug(`Found bid for ${t}`,{found:i}),{found:i,others:d}}))),m=s.DT((e=>e.length<=1),(()=>new Error("Ad ID is not unique"))),f=(0,r.ls)(g,s.vx((()=>s.Y3((()=>{const r=this.mapBidProperties(e,i),a=d.filter((e=>!(!l(e)||!n(e))||!l(e)));return this.logDebug(`Creating bid for ${t}`,{created:r,others:a}),{found:r,others:a}}),(e=>(0,a.w)(`Failed to create bid. Got ${(0,a.w)(e)}`))))));return(0,r.zG)(p,m,s.tS(f))};return(0,r.ls)((e=>(0,r.zG)(this.findAuction(e),s.tS((n=>(0,r.zG)(c(e,n.bids),s.tS((e=>{let{found:t,others:n}=e;return s.Y3((()=>({updated:i(t),others:n})),a.w)})),s.UI((e=>{let{updated:i,others:r}=e;const a=[i,...r];n.bids=a,this.logDebug(`Bid operation ${t} successful`,i,a)}))))))),s.Vn((e=>{const i=`Failed bid operation ${t}. Got ${(0,a.w)(e)}`;return this.reportError(i),(0,a.w)(i)})))}setBidToWon(e,t){return this.setBidByOperation(e,"setWon",(e=>Object.assign(Object.assign({},e),{winning_bid:!0})))(t)}setBidToRendered(e,t){return this.setBidByOperation(e,"setRendered",(e=>Object.assign(Object.assign({},e),{winning_bid:!0,is_rendered:!0,rendered_timestamp:(new Date).getTime()})))(t)}promoteAuctionToTrackable(e){let{auctionId:t}=e;const i=this.stagedAuctions[t];if(i){if(this.trackableAuctions[t])return this.logError("Auction is already promoted to trackable",{auction:this.trackableAuctions[t]});this.trackableAuctions[t]=i,delete this.stagedAuctions[t],this.logDebug("Auction promoted to trackable",{auctionId:t,trackableAuctions:this.trackableAuctions})}}trackEligibleAuctions(){if(this.trackAuctionsInterval)return;this.trackAuctionsInterval=(0,d.PQ)((()=>(0,n.mG)(this,void 0,void 0,(function*(){if(!this.trackAuctionsInterval)return;this.trackAuctionsInterval=null;const e=this.trackableAuctions;this.trackableAuctions={},yield this.trackPrebidAuctions(e),yield this.storeAuctionsAsUnprocessed(this.stagedAuctions,{debounced:!1})}))),{timeout:5e3})}trackPrebidAuctions(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){const i=(0,d.qh)(e).map((e=>{let[t,i]=e;return Object.assign(Object.assign({},i),{auction_id:t})}));i.length&&(yield this.permutive.track("PrebidAuctions",{isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",aggregations:{auctions:i}},t),this.logDebug("Tracked auctions",{auctions:i}))}))}getStagedAuction(e){return(0,r.zG)(this.stagedAuctions[e],s.DT(Boolean,(()=>new Error("Staged auction not found"))),s.Vn((t=>(this.logError(t,{auctionId:e}),t))))}getTrackableAuction(e){return(0,r.zG)(this.trackableAuctions[e],s.DT(Boolean,(()=>new Error("Trackable auction not found"))),s.Vn((t=>(this.logError(t,{auctionId:e}),t))))}reportError(e){return this.api.reportError(`${this.prefix} ${e}`)}logInfo(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.log(this.prefix,...t)}logDebug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.debug(this.prefix,...t)}logError(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.error(this.prefix,...t)}}var f=i(6930),h=i(167),_=i(2116);const v=(e,t)=>(0,r.zG)(y(e),(0,h.n)({backoffAfterErrorMs:6e5}),_.YO("fetchSegments"),_.ak("fullSegmentationResult",(e=>{let{fetchSegments:i}=e;return(0,f.m)(l.UI((e=>({validityKey:()=>e.userId,freshnessKey:()=>e.sessionId,refresh:()=>(0,r.zG)([e.customCohorts,e.standardCohorts],c.DT((()=>e.isInitd)),c.tS((t=>{let[n,r]=t;return i({userId:e.userId,fps:n,stds:r,newSession:!0})})),c.UI((t=>t.then((t=>{let{queries:i}=t;return{queries:i,viewId:e.viewId,sessionId:e.sessionId}})))))})),t))})),_.ak("deltaSegmentationResult",(e=>{let{fullSegmentationResult:i,fetchSegments:n}=e;return(0,f.m)((0,r.zG)(l.vP({input:t,fullSegmentationResult:i}),l.UI((e=>{let{input:t,fullSegmentationResult:i}=e;return{validityKey:()=>(0,r.zG)(i,c.UI((e=>e.sessionId)),c.fS((()=>"")),(e=>`${t.userId},${e}`)),freshnessKey:()=>t.viewId,refresh:()=>(0,r.zG)(i,c.hX((()=>t.isInitd)),c.hX((e=>e.sessionId===t.sessionId&&e.viewId!==t.viewId)),c.UI((()=>[t.customCohorts,t.standardCohorts])),c.tS((e=>{let[i,r]=e;return n({userId:t.userId,fps:i,stds:r,newSession:!1})})))}}))))})),_.UI((0,r.ls)((e=>{let{fullSegmentationResult:t,deltaSegmentationResult:i}=e;return l.vP(t,i)}),l.UI((e=>{let[t,i]=e;const n=(0,r.ls)(c.UI((e=>e.queries)),c.fS(w));return k.concat(n(i),n(t))}))))),b=(e,t)=>i=>{(0,r.zG)(i.segments.direct_buy,l.YP((t=>{0===t.length?e.removeExternalData(E):e.setExternalJsonData(E,t)}))),(0,r.zG)((0,r.zG)(l.vP(i.segments.programmatic,l.UI((e=>e.demandPartnerCohorts),t)),l.UI((e=>{let[t,i]=e;return[...i,...t]}))),l.YP((t=>{0===t.length?e.removeExternalData(S):e.setExternalJsonData(S,t)})))},y=e=>t=>{var{newSession:i}=t,r=(0,n._T)(t,["newSession"]);return e.permutiveApi.req({url:e.permutiveUrls.getAdvertiserEndpointUrl("/segment",c.G(e.config.advertiserApiVersion),[["new-session",i.toString()]]),method:"POST",payload:r,contentType:"text/plain",dataType:"json",withCredentials:!1}).then((e=>{var t,i;return{queries:{direct_buy:null!==(t=e.queries.direct_buy)&&void 0!==t?t:[],programmatic:null!==(i=e.queries.programmatic)&&void 0!==i?i:[]}}}))},w=()=>({direct_buy:[],programmatic:[]}),k={concat:(e,t)=>({direct_buy:[...new Set([...e.direct_buy,...t.direct_buy])],programmatic:[...new Set([...e.programmatic,...t.programmatic])]})},E="_pcrdbs",S="_pcrprs",I="clean_room",P=e=>{e.q.push({functionName:"addon",arguments:[I,{}]})};class D extends m{}function q(e,t){return(0,r.zG)(t,l.UI((e=>{var{initdAddons:t}=e,i=(0,n._T)(e,["initdAddons"]);return Object.assign(Object.assign({},i),{isInitd:t.has(I)})})),(t=>M(e,t)))}const M=function(e,t){const i=w();return(0,r.zG)(t,_.KD([[e=>!e.consent||e.addonsLoaded&&!e.isInitd,_.K4((()=>l.a9(i)))],v(e,t)]),_.UI((0,r.ls)(l.xH,(e=>({segments:{all:(0,r.zG)(e,l.UI((e=>[...new Set([...e.direct_buy,...e.programmatic])])),l.D8(d.cO)),direct_buy:(0,r.zG)(e,l.UI((e=>e.direct_buy)),l.D8(d.cO)),programmatic:(0,r.zG)(e,l.UI((e=>e.programmatic)),l.D8(d.cO))}})),(0,d.bw)(b(e.externalData,t)))))}},9557:(e,t,i)=>{i.r(t),i.d(t,{SspAddon:()=>f,load:()=>m,realService:()=>p,sspService:()=>l,stubService:()=>d});var n=i(2851),r=i(9853),a=i(3735),o=i(3328),s=i(2116),c=i(4011),u=i(2652);const l=p;function d(e,t){return s.K4((()=>(e.removeExternalData(h),n.a9({cohorts:[],ssps:[],gamTargetingValues:[]}))))}function p(e,t){const i=(0,r.Hn)(g),l=i("ssps",[]),d=i("cohort_mapping",{}),p=l.includes("google_pps"),m={cohorts:[],ssps:[]};return(0,a.zG)(n.vP({consent:t.consent,addonsLoaded:t.addonsLoaded,addonInitd:n.UI((e=>e.has(g)),t.initdAddons)}),s.KD([[e=>{let{consent:t,addonsLoaded:i,addonInitd:n}=e;return!t||i&&!n},s.K4((()=>(e.removeExternalData(h),n.a9(m))))],[e=>{let{addonsLoaded:t,addonInitd:i}=e;return!t&&!i},s.K4((()=>n.a9(Object.assign(Object.assign({},m),e.getExternalJsonData(h)))))],s.K4((i=>{let{onServiceStop:r}=i;return(0,a.zG)(t.standardCohorts,n.UI(o.hX((e=>e in d))),n.D8(o.Eh(c.Eq)),n.UI((0,a.ls)(o.UI((e=>d[e])),(e=>({ssps:l,cohorts:e})))),(0,u.bw)((0,a.ls)(n.YP((t=>e.setExternalJsonData(h,t))),(e=>r(e)))))}))]),s.UI(n.xH),s.UI(n.UI((e=>Object.assign(Object.assign({},e),{gamTargetingValues:p?e.cohorts:[]})))))}const g="ssp",m=e=>{({standard_cohorts:{auto_init:!0,activationConfigs:[]},ssp:{auto_init:!0,ssps:["appnexus","smartadserver","openx","google_pps"],cohort_mapping:{1e7:"bgyz",10000001:"bhgp",10000002:"bhhc",10000003:"bhhg",10000004:"bhhk",10000005:"bhhp",10000006:"bhhv",10000007:"bhhy",10000008:"bhie",10000010:"bhis",10000011:"bhiz",10000012:"bhji",10000013:"bhjq",10000014:"bhka",10000015:"bhkl",10000016:"bhkr",10000017:"bhky",10000018:"bhlg",10000019:"bhli",10000020:"bhlo",10000021:"bhlp",10000022:"bhnd",10000023:"bhnl",10000024:"bhnp",10000025:"bhnw",10000026:"bhoj",10000035:"bgzb",10000036:"bhgq",10000037:"bhgs",10000038:"bhgw",10000039:"bhgy",10000040:"bhgz",10000041:"bhhe",10000042:"bhhh",10000043:"bhhw",10000044:"bhhx",10000045:"bhhz",10000046:"bhia",10000047:"bhif",10000048:"bhig",10000049:"bhii",10000050:"bhij",10000051:"bhik",10000052:"bhim",10000053:"bhip",10000054:"bhit",10000055:"bhiu",10000056:"bhiv",10000057:"bhiy",10000058:"bhjm",10000059:"bhjr",10000060:"bhjs",10000061:"bhjw",10000062:"bhjx",10000063:"bhkm",10000064:"bhir",10000065:"bhko",10000066:"bhkp",10000067:"bhkq",10000068:"bhkz",10000069:"bhla",10000070:"bhlb",10000071:"bhle",10000072:"bhlf",10000073:"bhlq",10000074:"bhlt",10000075:"bhlu",10000076:"bhlw",10000077:"bhlx",10000078:"bhly",10000079:"bhmb",10000080:"bhmi",10000081:"bhmj",10000082:"bhml",10000083:"bhmp",10000084:"bhmr",10000085:"bhmw",10000086:"bhmz",10000087:"bhne",10000088:"bhnf",10000089:"bhni",10000090:"bhnn",10000324:"bhhj",10000325:"bhhi",10000327:"bhku",10000328:"bhkt",10000329:"bhkw",10000330:"bhkv",10000687:"bgzc",10000688:"bgza",10000689:"bhha",10000690:"bhgt",10000691:"bhgx",10000692:"bhgv",10000693:"bhgr",10000694:"bhgu",10000695:"bhhb",10000696:"bhhd",10000697:"bhhf",10000698:"bhhl",10000699:"bhho",10000700:"bhhm",10000701:"bhhn",10000702:"bhhq",10000703:"bhht",10000704:"bhhu",10000705:"bhhs",10000706:"bhhr",10000707:"bhib",10000708:"bhid",10000709:"bhic",10000710:"bhio",10000711:"bhin",10000712:"bhil",10000713:"bhiq",10000714:"bhih",10000715:"bhiw",10000716:"bhix",10000717:"bhja",10000718:"bhjc",10000719:"bhjd",10000720:"bhje",10000721:"bhjf",10000722:"bhjb",10000723:"bhjg",10000724:"bhjh",10000725:"bhjo",10000726:"bhjk",10000727:"bhjn",10000728:"bhjj",10000729:"bhjl",10000730:"bhjy",10000731:"bhju",10000732:"bhjv",10000733:"bhjz",10000734:"bhjt",10000735:"bhkj",10000736:"bhkk",10000737:"bhki",10000738:"bhkd",10000739:"bhkc",10000740:"bhkf",10000741:"bhkh",10000742:"bhkb",10000743:"bhkg",10000744:"bhke",10000745:"bhjp",10000746:"bhkn",10000747:"bhkx",10000748:"bhks",10000749:"bhld",10000750:"bhlc",10000751:"bhlh",10000752:"bhlk",10000753:"bhlj",10000754:"bhll",10000755:"bhlm",10000756:"bhlv",10000757:"bhna",10000758:"bhmv",10000759:"bhmt",10000760:"bhmy",10000761:"bhmc",10000762:"bhmo",10000763:"bhls",10000764:"bhmq",10000765:"bhme",10000766:"bhmh",10000767:"bhlz",10000768:"bhlr",10000769:"bhnb",10000770:"bhmk",10000771:"bhmu",10000772:"bhmx",10000773:"bhmg",10000774:"bhmd",10000775:"bhmf",10000776:"bhnc",10000777:"bhmn",10000778:"bhmm",10000779:"bhma",10000780:"bhms",10000781:"bhng",10000782:"bhnj",10000783:"bhnh",10000784:"bhnk",10000785:"bhno",10000786:"bhnm",10000787:"bhnu",10000788:"bhnv",10000789:"bhns",10000790:"bhnt",10000791:"bhnq",10000792:"bhnr",10000793:"bhob",10000794:"bhny",10000795:"bhod",10000796:"bhoh",10000797:"bhog",10000798:"bhnz",10000799:"bhoa",10000800:"bhoe",10000801:"bhnx",10000802:"bhoc",10000803:"bhof"},activationConfigs:[]},overlays:{auto_init:!0,activationConfigs:[]},ctv:{auto_init:!1,ctv_engagement_enabled:!0,ctv_engagement_event_seconds:5,activationConfigs:[]},appnexus:{auto_init:!0,member_id:8186,activationConfigs:[]},clean_room:{auto_init:!0,publisher_permissions:{"67a79af6-9bff-44fe-9119-1013e9e8575f":["allow_insights","allow_targeting_known_audiences","allow_targeting_modelled_audiences"]},activationConfigs:[]},dfp:{auto_init:!0,networks:[{network_code:"88059007",name:"Maven"}],track_slot_rendered:!1,track_slot_viewable:!0,track_slot_clicked:!0,activationConfigs:[]},gam_log:{auto_init:!0,network_code:"88059007",service_account:"gam-88059007@permutive-gam-logs-production.iam.gserviceaccount.com",delimiter:",",activationConfigs:[]},tracking_pixel:{auto_init:!0,activationConfigs:[]},prebid:{auto_init:!0,revenue_insights_enabled:!0,data_provider_config:{ac_bidders:["pubmatic","xander","openx"]},activationConfigs:[]},web:{auto_init:!1,track_pageview_engagement:!0,track_form_submission:!1,track_link_click:!0,track_pageview_complete:!0,add_alchemy_taxonomy:!1,add_alchemy_entities:!1,engagement_edge_only:!0,segment_transition_edge_only:!0,activationConfigs:[]}})[g].auto_init&&e.q.push({functionName:"addon",arguments:[g,{}]})};class f{constructor(e){}}const h="_pssps"},2851:(e,t,i)=>{i.d(t,{oQ:()=>I,a9:()=>m,Ue:()=>g,D8:()=>E,BT:()=>S,VS:()=>_,xH:()=>v,g_:()=>b,p4:()=>k,UI:()=>h,vP:()=>y,bw:()=>P,YP:()=>f});var n=i(2688),r=i(5e3),a=i(3735),o=i(6567),s=i(3328),c=i(2652);function u(e){let t=e,i=[],n=!1;return{addListener(e){if(n)return()=>{};let r=t;const a=()=>{Object.is(t,r)||(r=t,e(t))};i=[...i,a];return()=>{i=i.filter((e=>e!==a))}},notify(e){if(n)throw new Error("Ref bug: Attempted to notify a terminated notifier");Object.is(e,t)||(t=e,i.forEach((e=>e())))},terminate(){n=!0,i=[]}}}function l(e,t){let i=0;return function(){try{if(i++>0)throw new Error(e);return t(...arguments)}finally{i--}}}function d(e,t){let i=[...new Set(e)].filter((e=>"final"!==e.state));if(0===i.length)return{state:"final",onStateChange:()=>()=>{}};const n=()=>0===i.length?"final":i.some((e=>"might_change"===e.state))?"might_change":"nominal",[r,a]=p(n(),(e=>"might_change"!==e&&t())),o=()=>a(n());return i.forEach((t=>{t.onStateChange((t=>{switch(t){case"final":i=e.filter((e=>"final"!==e.state)),o();break;case"might_change":a("might_change");break;case"nominal":o();break;default:throw new Error(`Ref bug: Invalid state ${t}`)}}))})),r}function p(e,t){if("final"===e)return[{state:"final",onStateChange:()=>()=>{}},()=>{}];const{terminate:i,notify:n,addListener:r}=u(e),a={state:e,onStateChange:r},o=l("Disallowed recursion in Branch.",(e=>{if("final"===a.state){if("final"===e)return;throw new Error(`Attempted to change state of final branch to ${e}.`)}try{null==t||t(e),a.state=e,n(e)}finally{"final"===e&&i()}}));return[a,o]}function g(e){const[t,i,n]=function(){const[e,t]=p("nominal"),i=l("Disallowed recursion in Branch.",(i=>{if("final"===e.state)throw new Error("Attempted to mutate a finalized Ref.");const n=e.state;try{t("might_change"),i()}finally{t(n)}}));return[e,i,()=>t("final")]}(),[r,a]=D(t,e);return[r,e=>i((()=>a(e))),n]}function m(e){return{get current(){return e},onChange:()=>()=>{},branch:{state:"final",onStateChange:()=>()=>{}}}}function f(e){return t=>{const i=t.onChange(e);return e(t.current),i}}function h(e,t){if(t){const[i,n]=D(t.branch,e(t.current));return t.onChange((t=>n(e(t)))),i}return t=>h(e,t)}function _(e,t){return t?v(h(e,t)):t=>v(h(e,t))}function v(e){if("final"===e.branch.state)return e.current;const[t,i]=function(e,t){let i=t;const n=[e.state,i.state].includes("might_change")?"might_change":"nominal",[r,a]=p(n),o=e=>t=>{switch(t){case"final":a(e().state);break;case"might_change":a("might_change");break;case"nominal":"might_change"===e().state?a("might_change"):a("nominal");break;default:throw new Error(`Ref bug: Unexpected upstream state ${t}`)}};e.onStateChange(o((()=>i)));const s=o((()=>e));let c=i.onStateChange(s);return[r,e=>{i=e,c(),c=e.onStateChange(s),s(i.state)}]}(e.branch,e.current.branch),[n,r]=D(t,e.current.current);let a=e.current.onChange(r);return e.onChange((e=>{a(),a=e.onChange(r),i(e.branch),r(e.current)})),n}function b(e,t,i){if(!i)return i=>b(e,t,i);let n=e;return h((e=>(n=t(n,e),n)),i)}function y(){if(0===arguments.length||q(arguments.length<=0?void 0:arguments[0]))return w(...arguments);const e=arguments.length<=0?void 0:arguments[0],t=Object.keys(e);return(0,a.zG)(Object.values(e),(e=>w(...e)),h((0,a.ls)(s.Su(((e,i)=>[t[e],i])),Object.fromEntries)))}function w(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(0===t.length)return m([]);if(1===t.length)return h((e=>[e]))(t[0]);let n=!1;t.forEach((e=>e.onChange((()=>{if("might_change"!==e.branch.state)throw new Error("Ref bug: Received a change notification without a `might_change` state.");n=!0}))));const r=t.map((0,c.vg)("branch")),a=()=>{n&&(n=!1,u(t.map((e=>e.current))))},o=d(r,a),[s,u]=D(o,t.map((e=>e.current)));return s}function k(e){const[t,i,s]=g(o.YP);return e.then(r.F2).catch((0,a.ls)(n.w,r.t$)).then((0,a.ls)(o.G,i,s)),t}function E(e){const t=e.hasOwnProperty("equals")?e.equals:e;return function(e){return t=>{if("final"===t.branch.state)return t;let i=o.YP;return h((t=>{if(o.Wi(i))return i=o.G(t),t;const n=e(i.value,t);return i=o.G(n),n}),t)}}(((e,i)=>t(e,i)?e:i))}function S(e){return t=>{const[i,n]=function(e){const[t,i]=p(e.state),n=e.onStateChange(i);return[t,()=>{n(),i("final")}]}(t.branch),[r,s]=D(i,t.current);let c=o.G(t.onChange(s));return e((()=>(0,a.zG)(c,o.UI((e=>{c=o.YP,e(),n()}))))),r}}function I(e){return q(e)?e:m(e)}function P(e){return t=>(f(e)(t),t)}function D(e,t){if("final"===e.state)return[m(t),()=>{}];const i=u(t);e.onStateChange((e=>{"final"===e&&i.terminate()}));let n=t;return[{get current(){return n},onChange:i.addListener,branch:e},l("Disallowed recursion in Ref.",(e=>{n=e,i.notify(n)}))]}function q(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&"function"==typeof e.onChange}},2116:(e,t,i)=>{i.d(t,{K4:()=>u,KD:()=>v,UI:()=>p,VS:()=>m,YO:()=>_,ak:()=>h,bw:()=>g,dQ:()=>l,of:()=>d,vP:()=>f});var n=i(655),r=i(2851),a=i(3735),o=i(2652),s=i(4923),c=i(6567);const u=e=>(0,a.ls)((t=>{var{previousState:i}=t,r=(0,n._T)(t,["previousState"]);return e(r)}),(e=>({value:e,state:r.a9(void 0)}))),l=a.yR,d=(0,a.ls)(a.a9,u),p=e=>t=>(0,a.ls)(t,(0,o.rO)({value:e})),g=e=>t=>(0,a.ls)(t,(0,o.rO)({value:(0,o.bw)(e)}));function m(e){return t=>i=>{var{previousState:a,onServiceStop:o}=i,s=(0,n._T)(i,["previousState","onServiceStop"]);const c=k(),u=t(Object.assign({previousState:Array.isArray(a)?a[0]:void 0,onServiceStop:c.onServiceStop},s)),l=k(),d=e(u.value)(Object.assign({previousState:Array.isArray(a)?a[1]:void 0,onServiceStop:l.onServiceStop},s));return o(c.stop),o(l.stop),{value:d.value,state:r.vP(u.state,d.state)}}}function f(e){return t=>{var{previousState:i}=t,o=(0,n._T)(t,["previousState"]);const c=w(i)?i:{},u=(0,a.zG)(e,s.Su(((e,t)=>t(Object.assign({previousState:c[e]},o)))));return{value:(0,a.zG)(u,s.UI((e=>e.value))),state:(0,a.zG)(u,s.UI((e=>e.state)),(e=>r.vP(e)))}}}function h(e,t){return i=>(0,a.ls)((0,o.rO)({previousState:y}),(o=>{var{onServiceStop:s}=o,c=(0,n._T)(o,["onServiceStop"]);const u=k(),l=i(Object.assign({onServiceStop:u.onServiceStop},c)),d=k(),p=t(l.value)(Object.assign(Object.assign({onServiceStop:d.onServiceStop},c),{previousState:c.previousState[e]}));return s(u.stop),s(d.stop),{value:(0,a.zG)([l.value,p.value],(t=>{let[i,n]=t;if(!w(i))throw new Error;return Object.assign(Object.assign({},i),{[e]:n})})),state:(0,a.zG)(r.vP(l.state,p.state),r.UI((t=>{let[i,n]=t;if(!w(i))throw new Error;return Object.assign(Object.assign({},i),{[e]:n})})))}}))}function _(e){return t=>(0,a.ls)((0,o.rO)({previousState:(0,a.ls)(y,(t=>t[e]))}),t,(0,o.rO)({value:t=>({[e]:t}),state:r.UI((t=>({[e]:t})))}))}const v=e=>{const t=e.slice(0,-1),i=e.slice(-1)[0],n=[...t.map((e=>{let[t,i]=e;return[t,(0,a.a9)(i)]})),(0,a.a9)(i)];return(0,a.ls)(r.UI((0,o.lo)(n)),b)};function b(e){return t=>{var{previousState:i,onServiceStop:s}=t,u=(0,n._T)(t,["previousState","onServiceStop"]);return(0,a.zG)(e,r.BT(s),r.g_({state:r.a9(i),stop:()=>{},value:c.YP},((e,t)=>{let{state:i,stop:n}=e;n();const{stop:r,onServiceStop:a}=k(),{state:o,value:s}=t(Object.assign({previousState:i.current,onServiceStop:a},u));return{state:o,stop:r,value:c.G(s)}})),(0,o.bw)((e=>s((()=>e.current.stop())))),(e=>({value:r.UI((0,a.ls)((e=>e.value),c.fS((()=>{throw new Error}))),e),state:r.VS((e=>e.state),e)})))}}function y(e){return w(e)?e:{}}function w(e){return"object"==typeof e&&null!==e}function k(){const e=[];return{stop:()=>{for(;e.length>0;)e.shift()()},onServiceStop:t=>e.push(t)}}},167:(e,t,i)=>{i.d(t,{n:()=>c});var n=i(6567),r=i(2851),a=i(3735),o=i(2652),s=i(2116);function c(e){return t=>(0,a.zG)(r.oQ(e),r.UI((0,o.rO)({backoffAfterErrorMs:e=>null!=e?e:0,backoffAfterSuccessMs:e=>null!=e?e:0})),(e=>s.dQ((i=>{let{previousState:s}=i;const[c,u]=r.Ue(function(e){if("object"!=typeof e||null===e)return{lastSuccess:0,lastError:0};return e}(s)),l=(0,a.zG)(r.vP(c,e),r.UI((e=>{let[t,i]=e;return Math.max(t.lastError+i.backoffAfterErrorMs,t.lastSuccess+i.backoffAfterSuccessMs)})));return{state:c,value:(0,a.ls)(n.DT((()=>Date.now()>=l.current)),n.UI(t),n.UI((0,o.bw)((e=>e.then((()=>u(Object.assign(Object.assign({},c.current),{lastSuccess:Date.now()}))),(()=>u(Object.assign(Object.assign({},c.current),{lastError:Date.now()}))))))))}}))))}},6930:(e,t,i)=>{i.d(t,{m:()=>u});var n=i(3735),r=i(5e3),a=i(6567),o=i(2851),s=i(2652),c=i(2116);const u=e=>c.dQ((t=>{let{onServiceStop:i,previousState:c}=t;const u=function(e){if("object"!=typeof e||null===e)return{validityKey:"",inFlight:a.YP,lastSuccess:a.YP};return e}(c),d=(0,n.zG)(e,o.BT(i),o.UI((e=>"currentTimestampSecs"in e&&"freshness"in e&&"validity"in e?e:{currentTimestampSecs:0,validity:{key:e.validityKey,maxAge:Number.MAX_SAFE_INTEGER},freshness:{key:e.freshnessKey,maxAge:Number.MAX_SAFE_INTEGER},refresh:e.refresh})),o.g_(o.a9(u),((e,t)=>{const i=t.validity.key(),c=a.hX((e=>t.currentTimestampSecs-e.timestamp<=t.validity.maxAge)),u=(0,s.HP)(t.freshness.key),d=a.hX((e=>t.currentTimestampSecs-e.timestamp<=t.freshness.maxAge&&e.freshnessKey===u())),p=(0,n.zG)(e,o.UI((0,n.ls)(a.DT((e=>e.validityKey===i)),a.EQ((()=>({validityKey:i,inFlight:a.YP,lastSuccess:a.YP})),(0,s.rO)({inFlight:c,lastSuccess:c})))),o.D8(l));if((0,n.zG)(p.current,(e=>(0,n.zG)(e.inFlight,a.wp((()=>e.lastSuccess)),d,a.pC))))return p;const g=()=>({timestamp:t.currentTimestampSecs,freshnessKey:u(),output:a.YP});return(0,n.zG)(t.refresh(),a.EQ((()=>p),(0,n.ls)(o.p4,o.VS(a.EQ((()=>(0,n.zG)(p,o.UI((e=>Object.assign(Object.assign({},e),{inFlight:a.G(g())}))))),r.EQ((e=>p),(e=>o.a9({validityKey:i,inFlight:a.YP,lastSuccess:a.G(Object.assign(Object.assign({},g()),{output:a.G(e)}))}))))))))})),o.xH,o.D8(l));return{value:o.UI((0,n.ls)((0,s.vg)("lastSuccess"),a.tS((0,s.vg)("output"))),d),state:o.UI((e=>Object.assign(Object.assign({},e),{inFlight:a.YP})),d)}}));const l=(e,t)=>e.validityKey===t.validityKey&&e.inFlight===t.inFlight&&e.lastSuccess===t.lastSuccess},6967:(e,t,i)=>{i(2497),i(5165)},1540:(e,t,i)=>{i.d(t,{lg:()=>h,Bt:()=>_});var n=i(655),r=i(1500),a=i(3735),o=i(6567),s=i(2751),c=i(2652);class u{constructor(e,t,i,n){this.userId=e,this.network=t,this.api=i,this.logger=n,this.tag="appnexus",this.ttlInSeconds=86400,this.usedForThirdPartyData=!0,this.url="https://ib.adnxs.com/getuidj",this.invalidAliases=["","0","-1"]}getId(){return this.logger.debug("identities[appnexus]: start HTTP request"),(0,c.G6)(navigator.userAgent)?Promise.resolve({type:"skipped"}):this.api.appnexus(this.url).then((e=>(this.logger.debug("identities[appnexus]: end HTTP request"),{type:"attempted",result:(0,a.zG)((0,o.DT)((e=>this.isValidAlias(e.uid)))(e),(0,o.UI)((e=>e.uid)))})),(e=>({type:"attempted",result:o.YP})))}reset(){return Promise.resolve()}isValidAlias(e){return!!e&&-1===this.invalidAliases.indexOf(e)}}class l{constructor(e,t,i,n,r){this.config=e,this.network=t,this.api=i,this.userId=n,this.logger=r,this.tag="pxid",this.ttlInSeconds=86400,this.usedForThirdPartyData=!1,this.url=`https://a9695278-4085-40b3-9f02-8d4c38a6ff01.${this.config.pxidHost}/${this.config.apiVersion}/pxid`,this.resetUrl=this.url+"/reset"}getId(){return this.logger.debug("identities[pxid]: start HTTP request"),(0,c.G6)(navigator.userAgent)?Promise.resolve({type:"skipped"}):this.api.pxid(this.url).then((e=>(this.logger.debug("identities[pxid]: end HTTP request"),{type:"attempted",result:(0,o.ij)(e.uid)})),(e=>({type:"attempted",result:o.YP})))}reset(){return(0,c.G6)(navigator.userAgent)?Promise.resolve():this.api.pxidReset(this.resetUrl)}}const d=new Set(["public","email","email_md5","email_sha256","ip_address"]);var p=i(2851),g=i(4923),m=i(2197);const f=m.ff((e=>void 0===e));class h{constructor(e,t,i,n,r){this.metrics=e,this.trace=t,this.permutiveData=i,this.identityProviderEnv=n,this.logger=r,this.providers={};const o=this.getCachedIdentitiesAndMigrateIfRequired(),[c,u]=p.Ue(o);this.identityMapRef=c,this.setIdentityMap=u,c.onChange((e=>{this.logger.debug("[identities] Updating to",e),this.permutiveData.setData("identities",e)})),this.ref=(0,a.zG)(c,p.UI((0,a.ls)(g.UI((e=>e.value)),g.hX(f))),p.D8(g.Eh(s.Eq))),this.thirdParty=this.prepareThirdPartyIdentities()}get identities(){return this.identityMapRef.current}prepareThirdPartyIdentities(){this.logger.debug("[Identities]","loading 3rd party identities");const e=this.metrics.startTimer("sdk_get_third_party_identities_task_duration_seconds",{}),t=this.trace.startSpan("load_tpd_ids"),i=[{load:e=>{return t=e.config,i=e.network,n=e.api,r=e.userId,a=e.logger,(0,o.G)(new l(t,i,n,r,a));var t,i,n,r,a}},{load:e=>{return t=e.userId,i=e.network,n=e.api,r=e.logger,(0,o.G)(new u(t,i,n,r));var t,i,n,r}},{load:e=>(e.cookies,e.messages,o.YP)},{load:e=>(e.cookies,o.YP)},{load:e=>(e.metrics,e.permutiveData,e.permutive,e.messages,o.YP)}],n=(0,r.oA)(i.map((e=>e.load(this.identityProviderEnv)))).map((e=>this.shouldAskForNewIdentity(e)?this.retrieveIdentity(e):Promise.resolve((0,a.bc)(e,this.getCachedTPDIdentity(e.tag)))));return Promise.all(n).then((e=>e.map((e=>{let[t,i]=e;return this.providers[t.tag]=t,this.mapTPDIdentityIfPresent(t.tag,i,t.ttlInSeconds)})))).then((e=>this.setIdentities(e))).then((0,c.bw)((()=>{this.metrics.stopTimer("sdk_get_third_party_identities_task_duration_seconds",e),t.finish()})))}getPrioritizedIdentities(e){const t={default:0,appnexus:1,pxid:1},i=Object.entries(e).map((e=>{let[t,{id:i,expiry:n,priority:r}]=e;return Object.assign(Object.assign(Object.assign({tag:t},i?{id:i}:{}),n?{expiry:n}:{}),void 0!==r?{priority:r}:{})})),n=i.filter((e=>((e,t)=>!!e.id&&!(0,r.t9)(s.Eq)(e.tag,t))(e,Object.values(this.providers).map((e=>e.tag))))),a=i.filter((e=>((e,t)=>!!e.id&&!!(0,r.t9)(s.Eq)(e.tag,t))(e,Object.values(this.providers).map((e=>e.tag))))),c=(0,r.DZ)((e=>(0,o.ij)(e.priority)))(n),u=c.length>0?Math.max(...c):0,l=n.map((e=>void 0!==e.priority?Object.assign(Object.assign({},e),{priority:e.priority}):Object.assign(Object.assign({},e),{priority:u+1}))),d=a.map((e=>void 0===t[e.tag]?{tag:e.tag,id:e.id,priority:u+v}:{tag:e.tag,id:e.id,priority:u+b}));return l.concat(d)}getIdentitiesMap(){return this.getFilteredIdentities(((e,t)=>!!t.value))}parseCustomerDefinedIdentities(e){const t=`Identify must be passed a non-empty string or list of { tag, id, priority? } tuples, value passed was '${JSON.stringify(e)}'`,i=e=>{throw new Error(e)},n=e=>(e.forEach((e=>{(e=>"string"==typeof e.id&&"string"==typeof e.tag)(e)||i(t),(e=>"email_sha256"!==e.tag||h.emailSHA256Regex.test(e.id))(e)||i("Identify called with unsupported format of email_sha256 ID. The support format is hex-encoded 64 character long lowercase string.")})),e);return"string"==typeof e?(r=e).length>0?[{id:r,tag:"default"}]:i(t):Array.isArray(e)?n(e):i(t);var r}extractIdentifyFromQueue(e){let{global:t}=e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=()=>t.q.findIndex((e=>"identify"===e.functionName)),r=(e,i)=>{if(e<0)return i;const a=t.q.splice(e,1)[0],o=this.parseCustomerDefinedIdentities(a.arguments[0]);return r(n(),i.concat(o))};return r(n(),i)}setIdentities(e){const t=e.filter((e=>!d.has(e.tag))).reduce(((e,t)=>{let{tag:i,id:n,expiry:r,priority:a}=t;return void 0===this.identities[i]&&this.logger.debug(`identities[${i}]: added`),e[i]=Object.assign(Object.assign(Object.assign({},n?{value:n}:{}),r?{expiry:r}:{}),void 0!==a?{priority:a}:{}),e}),{}),i=this.ref.current;this.setIdentityMap(Object.assign(Object.assign({},this.identities),t));const n=this.ref.current;return{identifyRequestRequired:()=>!g.xb(n)&&!g.Eh(s.Eq).equals(i,n)}}reset(){return(0,n.mG)(this,void 0,void 0,(function*(){this.setIdentityMap({}),yield Promise.all(Object.values(this.providers).map((e=>e.reset())))}))}getFilteredIdentities(e){return(0,c.m8)(...Object.entries(this.identities).filter((t=>{let[i,n]=t;return e(i,n)})).map((e=>{let[t,{value:i,expiry:n,priority:r}]=e;return(0,a.bc)(t,Object.assign(Object.assign({id:i},n?{expiry:n}:{}),void 0!==r?{priority:r}:{}))})))}shouldAskForNewIdentity(e){var t;const i=(0,o.ij)(null===(t=this.identities)||void 0===t?void 0:t[e.tag]);return(0,o.g_)((()=>!0),this.isIdentityExpired)(i)}getCachedTPDIdentity(e){return this.identities[e]?(0,o.ij)(this.identities[e].value):o.YP}mapTPDIdentityIfPresent(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:86400;const n=()=>Date.now()+Math.floor(1e3*i);return(0,o.g_)((()=>({tag:e,expiry:n()})),(t=>({tag:e,id:t,expiry:n()})))(t)}retrieveIdentity(e){return e.getId().then((t=>"skipped"===t.type?(0,a.bc)(e,o.YP):(0,a.zG)(t.result,(t=>this.metrics.track({name:(0,o.pC)(t)?"sdk_third_party_identity_present_count":"sdk_third_party_identity_missing_count",value:1,labels:{identity_tag:e.tag}})),(i=>(0,a.bc)(e,t.result)))))}isIdentityExpired(e){return"number"==typeof e.expiry&&Date.now()>=e.expiry}getCachedIdentitiesAndMigrateIfRequired(){return(e=>(0,c.m8)(...Object.entries(e).filter((e=>{let[t,i]=e;return!this.isIdentityExpired(i)&&!d.has(t)}))))(this.permutiveData.getData("identities")||{})}}h.emailSHA256Regex=/^[a-f0-9]{64}$/;const _=(e,t,i,n,a)=>{const o=(e,t)=>{const i=["(null)"];return i.indexOf(e)>-1||!!w[e]||(0,r.jV)(s.Eq)(t,i).length>0},c=e=>"721d6d85-35f0-4e35-bb38-13eb0d465158"===e,u={"be668577-07f5-444d-98e0-222b990951b1":o,"e43c8a90-d17b-4790-bfda-81b069b3b8c2":(e,t,i)=>["thestudentroom.co.uk"].some((e=>i.indexOf(e)>-1))&&(0,r.jV)(s.Eq)(t,["tsr-"]).length>0,"5d79bce7-5d2b-427e-a6c4-b89b6c7bf048":o,"366ab8da-5efa-4355-ab00-84db3b68ded2":e=>"96539955-4d7e-40df-882b-7e2fbacedb1c"===e||"345600e7-fb5f-48b1-9aa6-cde5396419b0"===e,"f3a06674-ebb9-4b9d-ba8f-0052018c0687":c,"38dadd0d-257a-4641-b332-b8b0fd20a6cb":c,"10453011-272d-49cd-9043-1964fdb36fd8":e=>"936ba6ac-9a8b-454d-ba98-facebd7553fe"===e},l={"fe68d1f7-c9f4-45b3-8905-7cda73d3fd74":e=>!!y[e]},d=u[e]||l[t];return!!d&&d(a,i,n)},v=2,b=3,y={},w={}},7658:(e,t,i)=>{i.d(t,{z:()=>n});class n{ingestIfEligible(e){return Promise.resolve()}}},922:(e,t,i)=>{i.d(t,{CL:()=>d,D0:()=>r,ED:()=>a,EW:()=>p,MU:()=>h,PH:()=>l,UW:()=>f,Uy:()=>c,eV:()=>o,jH:()=>g,mL:()=>m,qr:()=>s,t2:()=>u});var n=i(9853);const r=(0,n.MU)("engagement_edge_only",!0),a=(0,n.MU)("segment_transition_edge_only",!0),o=(0,n.MU)("track_form_submission",!0),s=(0,n.MU)("track_link_click",!0),c=(0,n.MU)("track_pageview_complete",!0),u=(0,n.MU)("track_pageview_engagement",!0),l=((0,n.$S)("sync_segments_cookie",!1),(0,n.$S)("track_slot_clicked",!0)),d=(0,n.$S)("track_slot_rendered",!0),p=(0,n.$S)("track_slot_viewable",!1),g=(0,n.$S)("track_targeting_keys",!1),m="_psegs",f=!0,h=6e5},4673:(e,t,i)=>{i.d(t,{U:()=>n});const n={$ip_address:"$ip_address",$ip_address_hash:"$ip_address_hash",$ip_geo_info_city:"$ip_geo_info_city",$ip_geo_info_continent:"$ip_geo_info_continent",$ip_geo_info_country:"$ip_geo_info_country",$ip_geo_info_postal_code:"$ip_geo_info_postal_code",$ip_geo_info_province:"$ip_geo_info_province",$ip_isp_info_autonomous_system_organization:"$ip_isp_info_autonomous_system_organization",$ip_isp_info_isp:"$ip_isp_info_isp",$ip_isp_info_organization:"$ip_isp_info_organization"}},8975:(e,t,i)=>{i.d(t,{v:()=>a});class n{constructor(e,t,i,n,r,a,o){this.logger=e,this.permutive=t,this.id=i,this.segmentCode=n,this.triggerType=r,this.config=a,this.workspaceLevelConfig=o,this.prefix="[Activation]"}getSegmentCode(){return this.segmentCode}getTriggerType(){return this.triggerType}getConfig(){return this.config}getWorkspaceLevelConfig(){return this.workspaceLevelConfig}trackImpression(e){return this.trackActivation("impression",e)}trackConversion(e){return this.trackActivation("conversion",e)}trackActivation(e,t){const i={reaction_id:this.id,type:e};this.permutive.track("Reaction",i,t),this.logger.log(this.prefix,i.type,i)}}var r=i(9853);class a{constructor(e,t,i){this.logger=e,this.permutive=t,this.clientContext=i,this.optimisedActivationsConfig={dfp:{dfp:[137008,147530,147739,146992,146909,144948,144923,144892,144870,144826,144718,144710,144700,144672,144607,144485,144446,144420,144405,144352,144376,147741,147740,147730,147660,147352,147350,147349,147347,147348,147078,147077,147076,147075,147001,147e3,146998,146997,146996,146995,146915,146914,146913,146912,146911,146910,146908,146897,146424,146393,146392,146391,146383,146370,146361,146359,146358,146357,146356,146355,146352,146354,144944,144938,144937,144935,146353,146351,146350,146349,146348,146347,146344,145940,145939,145938,145937,145936,145933,144949,144947,144946,144945,144943,144942,144941,144940,144939,144936,144934,144933,144932,144931,144929,144930,144928,144927,144926,144925,144924,144922,144921,144920,144919,144918,144917,144916,144915,144914,144913,144912,144910,144909,144908,144907,144906,144905,144904,144903,144902,144901,144900,144899,144898,144897,144896,144895,144894,144893,144891,144888,144887,144886,144890,144881,144874,144869,144864,144855,144853,144850,144889,144885,144884,144878,144868,144858,144856,144852,144846,144842,144839,144883,144879,144877,144876,144875,144873,144866,144863,144860,144854,144882,144880,144867,144865,144862,144861,144859,144857,144851,144849,144848,144847,144845,144844,144843,144841,144840,144838,144837,144836,144835,144834,144833,144832,144831,144830,144829,144828,144827,144825,144824,144823,144822,144821,144820,144819,144818,144817,144816,144815,144814,144813,144812,144811,144810,144809,144808,144807,144806,144805,144804,144803,144802,144801,144800,144799,144798,144797,144796,144795,144794,144793,144792,144791,144790,144778,144777,144776,144775,144774,144773,144771,144768,144748,144742,144739,144789,144786,144785,144783,144782,144781,144772,144767,144765,144759,144757,144754,144749,144746,144736,144734,144730,144788,144779,144766,144763,144756,144755,144753,144750,144747,144743,144740,144737,144787,144784,144780,144770,144764,144762,144761,144760,144758,144752,144751,144745,144744,144741,144738,144735,144733,144732,144731,144729,144728,144727,144726,144725,144438,144648,144329,144717,141315,144491,147867,144707,144724,144723,144722,144721,144720,144719,144716,144715,144714,144713,144712,144711,144704,144702,144701,144698,144695,144694,144678,144709,144703,144708,144697,144696,144693,144692,144690,144689,144687,144706,144705,144699,144691,144688,144686,144685,144684,144683,144682,144681,144680,144679,144677,144676,144675,144674,144673,144671,144670,144669,144668,144667,144666,144665,144664,144663,144662,144661,144660,144659,144658,144657,144656,144654,144652,144655,144653,144651,144650,144647,144649,144637,144646,144645,144644,144643,144642,144641,144640,144639,144638,144636,144635,144634,144633,144632,144631,144630,144629,144628,144627,144626,144625,144624,144623,144622,144621,144620,144619,144616,144614,144615,144611,144610,144605,144589,144588,144580,144569,144555,144550,144547,144540,144613,144612,144609,144608,144606,144604,144603,144602,144601,144600,144599,144598,144597,144596,144595,144594,144593,144592,144591,144590,144587,144586,144585,144584,144583,144582,144581,144579,144578,144577,144576,144575,144574,144573,144572,144571,144570,144568,144566,144564,144563,144561,144559,144557,144546,144543,144541,144535,144534,144532,144531,144530,144523,144519,144518,144517,144516,144512,144510,144496,144567,144565,144562,144560,144558,144556,144554,144553,144552,144551,144549,144548,144545,144544,144542,144539,144538,144537,144536,144533,144529,144528,144527,144526,144525,144524,144522,144521,144520,144513,144508,144505,144515,144514,144511,144509,144507,144506,144504,144503,144502,144500,144498,144501,144499,144497,144495,144494,144493,144492,144490,144489,144488,144487,144486,144484,144483,144482,144481,144480,144479,144478,144477,144476,144475,144474,144473,144472,144471,144470,144469,144468,144467,144466,144465,144464,144462,144457,144463,144453,144452,144450,144449,144447,144440,144461,144459,144458,144456,144455,144454,144451,144448,144444,144443,144442,144441,144439,144437,144436,144435,144434,144433,144432,144431,144430,144429,144428,144427,144426,144425,144424,144423,144422,144421,144419,144418,144417,144413,144407,144406,144416,144415,144412,144414,144410,144411,144409,144408,144404,144403,144402,144401,144400,144399,144398,144397,144396,144395,144394,144393,144392,144391,144390,144389,144388,144387,144386,144385,144384,144383,144382,144381,144380,144379,144378,144377,144375,144374,144373,144372,144371,144370,144367,144364,144351,144348,144369,144362,144358,144356,144347,144345,144344,144368,144366,144365,144363,144361,144360,144359,144357,144355,144354,144353,144350,144349,144346,144324,144343,144342,144341,144340,144339,144338,144337,144336,144335,144334,144333,144332,144331,144330,144328,144327,144326,144325,144323,144322,144321,144320,143217,143216,143215,143214,143212,143211,143210,143209,143207,143205,143192,141300,141299,141291,141280,139096,143204,143196,143189,141364,141287,143194,141303,141302,141298,141297,141294,141289,141288,139219,139095,143191,142084,141301,141296,141295,141293,141290,141085,141084,139218,139215,139093,139055,138272,138270,137414,137413,137412,137207,137206,137205,137023,137020,137018,137017,137016,137015,137014,137013,137011,137010,129627,148297,148616,148627,148628,149007,149014,149015,150420,150421,150423,150663,150676,150678,150677,150679,150681,150683,150684,150685,150686,150687,150688,150689,150690,150692,150749,150752,150753,150755,150756,150757,150760,150761,150762,150763,150764,150766,150768,150770,150773,150780,150781,150861,150862,150866,150877,151070,151161,151167,153566,153666,153667,153668,153669,153670,153671,153672,153673,153674,153675,153676,153677,153678,153679,153680,153681,153682,153683,153684,153685,153686,153687,153688,153689,153690,153691,153693,153694,153695,153696,153697,153698,153699,153700,153704,153705,154600,154607,154608,154609,154611,154909,150878,155018,155106,155108,155109,155628,155892,155893,155931,155998,156024,156204,156205,160768,160769,161982,161983],dfp_legacy:{}},eyeota_pixel:[],dbm:{omitted:0},appnexus:{148297:33501641},appnexus_adserver:[],nativo:[],rubicon_ssp:[],smart:[],freewheel:[]}}getSpecializedActivations(e){return this.optimisedActivationsConfig[e]}getActivations(e){return(0,r.Hn)(e)("activationConfigs",[]).filter((e=>this.areContextCriteriaSatisfied(e))).map((e=>new n(this.logger,this.permutive,e.id,e.sc,e.tt,e.c,e.wc)))}areContextCriteriaSatisfied(e){const t=e.cc,i=e=>{const t=this.clientContext.getContext()[e.key];switch(e.comparison){case"EQUALS":return t===e.value;case"NOT_EQUALS":return t!==e.value;case"CONTAINS":return"string"==typeof t&&t.indexOf(e.value)>=0;case"NOT_CONTAINS":return"string"==typeof t&&t.indexOf(e.value)<0}};return!t||("AND"===(n=t).operator?n.criteria.every(i):n.criteria.some(i));var n}}},9853:(e,t,i)=>{i.d(t,{$S:()=>o,Hn:()=>r,MU:()=>a});const n={standard_cohorts:{auto_init:!0,activationConfigs:[]},ssp:{auto_init:!0,ssps:["appnexus","smartadserver","openx","google_pps"],cohort_mapping:{1e7:"bgyz",10000001:"bhgp",10000002:"bhhc",10000003:"bhhg",10000004:"bhhk",10000005:"bhhp",10000006:"bhhv",10000007:"bhhy",10000008:"bhie",10000010:"bhis",10000011:"bhiz",10000012:"bhji",10000013:"bhjq",10000014:"bhka",10000015:"bhkl",10000016:"bhkr",10000017:"bhky",10000018:"bhlg",10000019:"bhli",10000020:"bhlo",10000021:"bhlp",10000022:"bhnd",10000023:"bhnl",10000024:"bhnp",10000025:"bhnw",10000026:"bhoj",10000035:"bgzb",10000036:"bhgq",10000037:"bhgs",10000038:"bhgw",10000039:"bhgy",10000040:"bhgz",10000041:"bhhe",10000042:"bhhh",10000043:"bhhw",10000044:"bhhx",10000045:"bhhz",10000046:"bhia",10000047:"bhif",10000048:"bhig",10000049:"bhii",10000050:"bhij",10000051:"bhik",10000052:"bhim",10000053:"bhip",10000054:"bhit",10000055:"bhiu",10000056:"bhiv",10000057:"bhiy",10000058:"bhjm",10000059:"bhjr",10000060:"bhjs",10000061:"bhjw",10000062:"bhjx",10000063:"bhkm",10000064:"bhir",10000065:"bhko",10000066:"bhkp",10000067:"bhkq",10000068:"bhkz",10000069:"bhla",10000070:"bhlb",10000071:"bhle",10000072:"bhlf",10000073:"bhlq",10000074:"bhlt",10000075:"bhlu",10000076:"bhlw",10000077:"bhlx",10000078:"bhly",10000079:"bhmb",10000080:"bhmi",10000081:"bhmj",10000082:"bhml",10000083:"bhmp",10000084:"bhmr",10000085:"bhmw",10000086:"bhmz",10000087:"bhne",10000088:"bhnf",10000089:"bhni",10000090:"bhnn",10000324:"bhhj",10000325:"bhhi",10000327:"bhku",10000328:"bhkt",10000329:"bhkw",10000330:"bhkv",10000687:"bgzc",10000688:"bgza",10000689:"bhha",10000690:"bhgt",10000691:"bhgx",10000692:"bhgv",10000693:"bhgr",10000694:"bhgu",10000695:"bhhb",10000696:"bhhd",10000697:"bhhf",10000698:"bhhl",10000699:"bhho",10000700:"bhhm",10000701:"bhhn",10000702:"bhhq",10000703:"bhht",10000704:"bhhu",10000705:"bhhs",10000706:"bhhr",10000707:"bhib",10000708:"bhid",10000709:"bhic",10000710:"bhio",10000711:"bhin",10000712:"bhil",10000713:"bhiq",10000714:"bhih",10000715:"bhiw",10000716:"bhix",10000717:"bhja",10000718:"bhjc",10000719:"bhjd",10000720:"bhje",10000721:"bhjf",10000722:"bhjb",10000723:"bhjg",10000724:"bhjh",10000725:"bhjo",10000726:"bhjk",10000727:"bhjn",10000728:"bhjj",10000729:"bhjl",10000730:"bhjy",10000731:"bhju",10000732:"bhjv",10000733:"bhjz",10000734:"bhjt",10000735:"bhkj",10000736:"bhkk",10000737:"bhki",10000738:"bhkd",10000739:"bhkc",10000740:"bhkf",10000741:"bhkh",10000742:"bhkb",10000743:"bhkg",10000744:"bhke",10000745:"bhjp",10000746:"bhkn",10000747:"bhkx",10000748:"bhks",10000749:"bhld",10000750:"bhlc",10000751:"bhlh",10000752:"bhlk",10000753:"bhlj",10000754:"bhll",10000755:"bhlm",10000756:"bhlv",10000757:"bhna",10000758:"bhmv",10000759:"bhmt",10000760:"bhmy",10000761:"bhmc",10000762:"bhmo",10000763:"bhls",10000764:"bhmq",10000765:"bhme",10000766:"bhmh",10000767:"bhlz",10000768:"bhlr",10000769:"bhnb",10000770:"bhmk",10000771:"bhmu",10000772:"bhmx",10000773:"bhmg",10000774:"bhmd",10000775:"bhmf",10000776:"bhnc",10000777:"bhmn",10000778:"bhmm",10000779:"bhma",10000780:"bhms",10000781:"bhng",10000782:"bhnj",10000783:"bhnh",10000784:"bhnk",10000785:"bhno",10000786:"bhnm",10000787:"bhnu",10000788:"bhnv",10000789:"bhns",10000790:"bhnt",10000791:"bhnq",10000792:"bhnr",10000793:"bhob",10000794:"bhny",10000795:"bhod",10000796:"bhoh",10000797:"bhog",10000798:"bhnz",10000799:"bhoa",10000800:"bhoe",10000801:"bhnx",10000802:"bhoc",10000803:"bhof"},activationConfigs:[]},overlays:{auto_init:!0,activationConfigs:[]},ctv:{auto_init:!1,ctv_engagement_enabled:!0,ctv_engagement_event_seconds:5,activationConfigs:[]},appnexus:{auto_init:!0,member_id:8186,activationConfigs:[]},clean_room:{auto_init:!0,publisher_permissions:{"67a79af6-9bff-44fe-9119-1013e9e8575f":["allow_insights","allow_targeting_known_audiences","allow_targeting_modelled_audiences"]},activationConfigs:[]},dfp:{auto_init:!0,networks:[{network_code:"88059007",name:"Maven"}],track_slot_rendered:!1,track_slot_viewable:!0,track_slot_clicked:!0,activationConfigs:[]},gam_log:{auto_init:!0,network_code:"88059007",service_account:"gam-88059007@permutive-gam-logs-production.iam.gserviceaccount.com",delimiter:",",activationConfigs:[]},tracking_pixel:{auto_init:!0,activationConfigs:[]},prebid:{auto_init:!0,revenue_insights_enabled:!0,data_provider_config:{ac_bidders:["pubmatic","xander","openx"]},activationConfigs:[]},web:{auto_init:!1,track_pageview_engagement:!0,track_form_submission:!1,track_link_click:!0,track_pageview_complete:!0,add_alchemy_taxonomy:!1,add_alchemy_entities:!1,engagement_edge_only:!0,segment_transition_edge_only:!0,activationConfigs:[]}},r=e=>{const t=n[e];return(e,i)=>{var n;return null!==(n=null==t?void 0:t[e])&&void 0!==n?n:i}},a=r("web"),o=r("dfp");r("facebook_pixel_v2")},2836:(e,t,i)=>{i.d(t,{z:()=>a});var n=i(3030);class r{constructor(e){this.context=e}getContext(){return this.context}updateContext(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach((e=>{let[t,i]=e;this.context[t]=i}))}}class a extends r{constructor(e){super(e)}getClient(){var e;const t=null!==(e=document.title)&&void 0!==e?e:"";return Promise.resolve({type:"web",user_agent:navigator.userAgent||"",url:(0,n.bk)(window.location.href),domain:window.location.hostname||"",title:t,referrer:(0,n.bk)(document.referrer)})}}},389:(e,t,i)=>{i.d(t,{p:()=>a});var n=i(3577);const r="permutive-pvc";class a extends((0,n.h)(r)){constructor(e){super(e)}}},5865:(e,t,i)=>{i.d(t,{J:()=>r});var n=i(3577);class r extends((0,n.h)("permutive-unprocessed-pba")){constructor(e){super(e)}}},3577:(e,t,i)=>{i.d(t,{h:()=>s});var n=i(3735),r=i(6567),a=i(7554);const o=e=>t=>class extends t{constructor(){super(...arguments),this.key=e}put(e){return this.db.then((t=>t.put(e,this.key))).then(n.Q1)}getIfPresent(){return this.db.then((e=>e.get(this.key))).then(r.ij)}reset(){return this.db.then((e=>e.delete(this.key)))}},s=e=>(0,n.zG)(class{constructor(e){this.db=Promise.resolve((0,a.E)(e.namespace,e.logger,e.consentTracking))}},o(e))},5700:(e,t,i)=>{i.d(t,{LP:()=>a,dG:()=>n,eP:()=>r});const n=4096,r=`Cookie exceeds maximum supported size of ${n} bytes for most browsers.`,a="Cookie is missing required parameters."},5461:(e,t,i)=>{i.d(t,{S:()=>c});var n=i(3735),r=i(5700);class a{constructor(e,t,i){this.namespace=e,this.config=t,this.logger=i}setCookie(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n;if(!(t&&e&&this.config.cookieExpiry&&this.config.cookieDomain)){const{cookieExpiry:i,cookieDomain:a}=null!==(n=this.config)&&void 0!==n?n:{};throw this.logger.warn(`Unable to set cookie. ${r.LP}`,{value:t,cookieName:e,cookieExpiry:i,cookieDomain:a}),new Error(r.LP)}const a=this.namespace.getNamespacedStorageKey(e),o=[encodeURIComponent(a),"=",encodeURIComponent(t),"; expires=",this.config.cookieExpiry,"; domain=",this.config.cookieDomain,"; path=/",i?"; samesite=none; secure":""].join("");if(o.length>r.dG)throw this.logger.warn(`Unable to set cookie ${a}. ${r.eP}`),new Error(r.eP);return this.logger.debug(`Setting cookie ${o}`),document.cookie=o,!0}getCookie(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e:this.namespace.getNamespacedStorageKey(e),i=new RegExp("\\b"+encodeURIComponent(t)+"=([^;]+)").exec(document.cookie);return null!==i?decodeURIComponent(i[1]):null}deleteCookie(e){if(!e||!this.config.cookieDomain)return!1;const t=this.namespace.getNamespacedStorageKey(e);return document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; domain="+this.config.cookieDomain+"; path=/",!0}}var o=i(4769);const s=e=>{const{logger:t,consentTracking:i}=e,n=e=>(t.debug(`Cookie: Failed to set cookie ${e} as consent is revoked`),!1);return e=>class extends e{constructor(){super(...arguments),this.setCookie=(0,o.v)(super.setCookie.bind(this),n,i.isRevoked)}}},c=(e,t,i,r)=>new((0,n.zG)(a,s({consentTracking:r,logger:i})))(e,t,i)},9773:(e,t,i)=>{i.d(t,{S:()=>l});var n=i(3735),r=i(2688),a=i(787),o=i(5e3);class s{constructor(e){this.namespace=e}getExternalData(e){const t=this.namespace.getNamespacedStorageKey(e);return window.localStorage.getItem(t)}getExternalJsonData(e){const t=this.getExternalData(e);return null===t?null:(0,a.A)(t)}setExternalData(e,t){const i=this.namespace.getNamespacedStorageKey(e);try{window.localStorage.setItem(i,t)}catch(e){}}setExternalJsonData(e,t){return(0,n.zG)((i=t,(0,o.Y3)((function(){var e=JSON.stringify(i);if("string"!=typeof e)throw new Error("Converting unsupported structure to JSON");return e}),n.yR)),(0,o.UI)((t=>this.setExternalData(e,t))),(0,o.g_)((e=>{throw(0,r.w)(e)}),n.Q1));var i}removeExternalData(e){const t=this.namespace.getNamespacedStorageKey(e);window.localStorage.removeItem(t)}}var c=i(4769);const u=e=>{const{logger:t,consentTracking:i}=e,n=e=>{t.debug(`External Data: Failed to set key ${e} as consent is revoked`)},r=n,a=n;return e=>class extends e{constructor(){super(...arguments),this.setExternalData=(0,c.v)(super.setExternalData.bind(this),r,i.isRevoked),this.setExternalJsonData=(0,c.v)(super.setExternalJsonData.bind(this),a,i.isRevoked)}}},l=(e,t,i)=>new((0,n.zG)(s,u({consentTracking:i,logger:t})))(e)},342:(e,t,i)=>{i.d(t,{SX:()=>a});class n{constructor(){this.prefix="[Permutive]",this.debugStyle=["color: blue"].join(";")}log(){return console.log.bind(window.console,this.prefix)(...arguments)}debug(){return console.debug.bind(window.console,"%c%s",this.debugStyle,this.prefix)(...arguments)}warn(){return console.warn.bind(window.console,this.prefix)(...arguments)}error(){return console.error.bind(window.console,this.prefix)(...arguments)}}class r{log(){}debug(){}warn(){}error(){}}const a=e=>{var t;return e.loggingEnabled&&void 0!==(null===(t=window.console)||void 0===t?void 0:t.log)?new n:new r}},8491:(e,t,i)=>{i.d(t,{Q:()=>a});var n=i(3735);const r="[MESSAGES]";class a{constructor(e){this.logger=e,this.messageListenerMap={},this.replayQueue={},this.onceTracker={},this.defaultMessageOptions={withReplay:!1,once:!1}}on(e,t,i){const n=this.mergeMessageOptions(i);n.withReplay&&this.processReplayQueue(e,t);const r=o(e,this.messageListenerMap).push(t)-1;return n.once&&this.addToOnceTracker(e,r),r}once(e,t){return this.on(e,t,{once:!0})}off(e,t){if(null==t)return this.messageListenerMap[e]=[],void(this.replayQueue[e]=[]);t<0?this.logError('Index for "off" fell out of range',{index:t}):o(e,this.messageListenerMap)[t]=n.Q1}emit(e,t,i){const n=this.mergeMessageOptions(i);o(e,this.messageListenerMap).length>0?(this.logDebug(`Emitting Event: ${e}`),this.emitMessageWithPayload(e,t)):n.withReplay&&this.addToReplayQueue(e,t)}addToReplayQueue(e,t){o(e,this.replayQueue).push(t)}processReplayQueue(e,t){var i;null===(i=this.replayQueue[e])||void 0===i||i.forEach((e=>t(e)))}emitMessageWithPayload(e,t){var i;null===(i=this.messageListenerMap[e])||void 0===i||i.forEach(((i,n)=>{i(t),this.removeListenerIfSetToFireOnlyOnce(e,n)}))}addToOnceTracker(e,t){o(e,this.onceTracker).push(t)}removeListenerIfSetToFireOnlyOnce(e,t){var i;(null===(i=this.onceTracker[e])||void 0===i?void 0:i.includes(t))&&this.off(e,t)}mergeMessageOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(Object.assign({},this.defaultMessageOptions),e)}logError(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.error(r,...t)}logDebug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.debug(r,...t)}}const o=(e,t)=>{var i;return null!==(i=t[e])&&void 0!==i?i:t[e]=[]}},5619:(e,t,i)=>{i.d(t,{Eq:()=>l,X:()=>d,b:()=>u});var n=i(2851),r=i(2116),a=i(4268),o=i(2751),s=i(4011),c=i(3735);const u=()=>({environment:"",events_count:0,os:"",sdk_version:"",segments_count:0,session_count:0,session_init_count:0,session_view_count:0}),l=a.n_({environment:o.Eq,events_count:s.Eq,os:o.Eq,sdk_version:o.Eq,segments_count:s.Eq,session_count:s.Eq,session_init_count:s.Eq,session_view_count:s.Eq}),d=e=>{const t=g(e.userId),i=(0,c.zG)(n.vP(e.userId,e.sessionId),n.UI((e=>{let[t,i]=e;return`${t},${i}`})),g),a=String(Math.random()),o={environment:"web",events_count:0,os:p(window.navigator.userAgent||""),sdk_version:"v19.94.0",segments_count:0};return(0,c.zG)(r.vP({session_count:t(e.sessionId),session_init_count:i(n.a9(a)),session_view_count:i(e.viewId)}),r.UI((0,c.ls)((e=>n.vP(e)),n.UI((e=>Object.assign(Object.assign({},o),e))))))},p=e=>{const t=e.toLowerCase();return t.includes("windows")?"windows":t.includes("iphone")||t.includes("ipad")?"ios":t.includes("android")?"android":t.includes("macintosh")?"macos":t.includes("linux")?"linux":"unknown"},g=e=>t=>r.dQ((i=>{let{previousState:r}=i;const u=(0,c.zG)(n.vP(e,t),n.g_(function(e){if(null!==e&&"object"==typeof e&&"scope"in e&&"lastValue"in e&&"count"in e)return e;return{scope:"",lastValue:"",count:1}}(r),((e,t)=>{let[i,n]=t;return{scope:i,lastValue:n,count:i!==e.scope?1:n!==e.lastValue?e.count+1:e.count}})),n.D8(a.n_({scope:o.Eq,lastValue:o.Eq,count:s.Eq})));return{state:u,value:(0,c.zG)(u,n.UI((e=>e.count)))}}))},7594:(e,t,i)=>{i.d(t,{p:()=>S});var n=i(655),r=i(2688),a=i(3735),o=(i(7341),i(9384)),s=function(e,t){return function(){return t(e())}},c=function(e){return function(t){return s(t,e)}},u=a.a9,l=(a.yR,a.yR,o.F4,o.Xl,function(){return Math.random()});function d(e,t){return(0,a.zG)(l,c((function(i){return Math.floor((t-e+1)*i+e)})))}c((function(e){return e<.5}));var p=i(7927),g=i(4673),m=i(2652),f=i(5619),h=i(3328),_=i(7241),v=i(4268);function b(e){return e[0]}function y(e){return e[1]}var w=function(e){return function(t){return[e(b(t)),y(t)]}},k=i(6934),E=i(5151);const S=e=>{let t=[];const i=e=>{t=[...t,...e]},o=t=>{(0,a.zG)(e.metrics.consume(),I(t),i)};let s=e.context.current;e.context.onChange((e=>{o(s),s=e}));const c="[Metrics Reporter]",u=t=>(0,a.zG)({},(0,a.ls)((0,p.dx)("continent",g.U.$ip_geo_info_continent),(t=>e.enrichers.enrich(t,!0).output)),(e=>Object.assign(Object.assign({},t),e))),l=l=>{let{beacon:d}=l;o(s);const p=t;t=[];const g=(0,a.zG)(p,_.ru((0,a.zG)(v.Uz((e=>e[0]))(f.Eq))),h.UI((0,a.ls)(_.Ri,w((0,a.ls)(_.YM,u)))),E.uU((t=>{let[i,a]=t;return k.Y3((()=>((t,i)=>(0,n.mG)(void 0,void 0,void 0,(function*(){if(!t)return e.api.metrics(i);if(!e.api.metricsBeacon(i))throw new Error("Failed to send beacon.")})))(d,{context:i,items:a})),(t=>(function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];e.logger.error(c,...i)}(`Failed to publish metrics ${(0,r.w)(t).message}`,a),I(i)(a))))})),E.UI((0,a.ls)(h.bj,h.xH,(0,m.bw)(i),h.xb)));return g()};e.messages.on("permutive:ready",(()=>{const e=d(3e4,9e4),t=i=>window.setTimeout((()=>(0,n.mG)(void 0,void 0,void 0,(function*(){const i=(yield l({beacon:!1}))?5e3:e();t(i)}))),i);t(5e3),(0,m.Bf)((()=>l({beacon:!0})),{capture:!1})}))},I=e=>t=>(0,a.zG)(t,h.UI((t=>[e,t])))},4074:(e,t,i)=>{function n(e,t,i,n,o){var s;return(null!==(s=i.getData("metricsEnabled"))&&void 0!==s?s:(()=>{const e=Math.random()<=t.metricsSamplingPercentage/100;return i.setData("metricsEnabled",e),e})())?new r(e,n,o):new a}i.d(t,{g:()=>n});class r{constructor(e,t,i){this.sdkInitTimestamp=e,this.messages=t,this.logger=i,this.prefix="[Metrics]",this.pendingMetrics=[],this.pendingTimers={},this.track({name:"sdk_initialisation_start_time_seconds",value:e/1e3,labels:{}})}isEnabled(){return!0}consume(){const e=this.pendingMetrics;return this.pendingMetrics=[],e}track(e){this.logDebug(`Tracking ${e.name}`,{metric:e}),this.pendingMetrics.push(e)}trackTimeSinceInit(e,t){const i=(performance.now()-this.sdkInitTimestamp)/1e3;this.logDebug("timer stopped",e,i),this.track({name:e,value:i,labels:t})}startTimer(e,t){const i=performance.now(),n=this.generateRandomKey(e);return this.pendingTimers[n]={startTime:i,labels:t},n}stopTimer(e,t){const i=this.pendingTimers[t];if(i){const n=(performance.now()-i.startTime)/1e3;this.logDebug("timer stopped",e,n),this.track({name:e,value:n,labels:i.labels}),delete this.pendingTimers[t]}}generateRandomKey(e){return`${e}-${[...Array(24)].map((()=>Math.random().toString(36)[2])).join("")}`}logDebug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.debug(this.prefix,...t)}}class a{isEnabled(){return!1}consume(){return[]}track(e){}trackTimeSinceInit(e,t){}startTimer(e,t){return""}stopTimer(e,t){}}},8317:(e,t,i)=>{i.d(t,{S:()=>o});var n=i(655),r=i(3735),a=i(2652);class o{constructor(e,t){this.db=e,this.options=t}getSessionId(){return this.options.session_id}sessionHasChanged(){return this.options.hasChanged}static decodeSessionData(e){return e&&"object"==typeof e&&e.hasOwnProperty("session_id")&&e.hasOwnProperty("last_updated")?Object.assign(Object.assign({},e),{last_updated:new Date(e.last_updated)}):null}reset(){return this.db.delete(this.options.session_data_key)}persistSessionData(e){return(0,n.mG)(this,void 0,void 0,(function*(){const t=e.last_updated.toISOString();yield this.db.put(Object.assign(Object.assign({},e),{last_updated:t}),this.options.session_data_key)}))}static generateNewSession(e){return{session_id:(0,a.k$)(),last_updated:e}}static hasExpired(e,t,i){if(isNaN(t.getTime()))return!0;return e>new Date(t.getTime()+1e3*i)}static initialise(e,t,i){return(0,n.mG)(this,void 0,void 0,(function*(){const n={timeout_seconds:1800,session_data_key:"permutive-session",hasChanged:!1,logger:i};e.deleteCookie(n.session_data_key);const s=new Date,c=yield t.get(n.session_data_key).catch(r.gn),u=o.decodeSessionData(c),l=null===u||o.hasExpired(s,u.last_updated,n.timeout_seconds)?Object.assign(Object.assign({},o.generateNewSession(s)),{hasChanged:!0}):Object.assign(Object.assign({},u),{last_updated:s,hasChanged:!1}),d=new o(t,(0,a.PM)(n,l));return yield d.persistSessionData(l),d}))}}},4026:(e,t,i)=>{i.d(t,{S:()=>_});var n=i(3735),r=i(2688),a=i(787),o=i(5e3),s=i(2652),c=i(4730),u=i(926);class l{constructor(e,t,i){this.config=e,this.namespace=t,this.logger=i,this.prefix="[Data Store]",this.permutiveData={},this.permutiveDataSize=0,this.localStorageQueue=new Set,this.localStorageScheduler=new c.b(e.localStorageWriteDelay,e.localStorageWriteMaxDelay),this.debouncedFlush=this.localStorageScheduler.schedule(this.flushLocalStorageQueue.bind(this)),this.debouncedStorageKeys=new Set(e.localStorageDebouncedKeys),this.localStorageScheduler.scheduleForPageUnload(this.flushLocalStorageQueue.bind(this)),this.permutiveData=this.buildData()}reset(){this.permutiveData={}}getDataSize(){return this.permutiveDataSize}getData(e){return this.permutiveData[e]}setData(e,t){this.permutiveData[e]=t,this.requestWrite(e)}deleteKey(e){delete this.permutiveData[e],this.requestWrite(e)}requestWrite(e){this.debouncedStorageKeys.has(e)?(this.localStorageQueue.add(e),this.debouncedFlush()):this.writeData(e)}flushLocalStorageQueue(){for(let e of this.localStorageQueue)this.writeData(e);this.localStorageQueue.clear()}buildData(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.getDataChunk("misc")),this.getDataChunk("models")),this.getDataChunk("queries")),this.getDataChunk("enrichers"))}getDataChunk(e){const t=this.namespace.getNamespacedStorageKey(this.chunkKeyToStorageKey(e)),i=window.localStorage.getItem(t),n=null===i?null:(0,a.A)(i);return i&&n?(this.permutiveDataSize+=2*i.length,n):{}}chunkKeyToStorageKey(e){switch(e){case"models":return this.config.permutiveDataModelsKey;case"queries":return this.config.permutiveDataQueriesKey;case"enrichers":return this.config.permutiveDataEnrichersKey;case"misc":return this.config.permutiveDataMiscKey;default:throw new Error(`Unhandled chunk key "${e}"`)}}writeData(e){this.logger.debug(`Data Store: Writing ${e} to localStorage`);const[t,i]=this.dataKeyToChunkInfo(e);return o.Y3((()=>window.localStorage.setItem(this.namespace.getNamespacedStorageKey(t),JSON.stringify(i))),(t=>{const i=(0,r.w)(t);return this.logError(`Failed to set ${e}. Got ${i}`),i}))}dataKeyToChunkInfo(e){const t=e=>(0,s.eu)(this.permutiveData,e);switch(e){case"models_data":case"models_last_updated":return[this.chunkKeyToStorageKey("models"),t(d)];case"query_states":case"internal_query_states":case"external_query_states":case"state_offset":case"event-source-id":return[this.chunkKeyToStorageKey("queries"),t(p)];case"enricher:geoip":return[this.chunkKeyToStorageKey("enrichers"),t(g)];case u.Kd:case"identities":case"amp_ready":case"metricsEnabled":case"addon:tradedesk":case"addon:tracking_pixel":case"addon:eyeota_pixel":case"addon:pinterest_pixel":case"addon:facebook_pixel_v2":case"addon:appnexus":case"addon:ddp":case"addon:gigya":case"addon:neustar_fabrick":case"pubmatic":case"lotame":return[this.chunkKeyToStorageKey("misc"),t(m)];default:throw new Error(`Unhandled data key "${e}"`)}}logError(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.error(this.prefix,...t)}}const d=["models_data","models_last_updated"],p=["query_states","internal_query_states","external_query_states","state_offset","event-source-id"],g=["enricher:geoip"],m=[u.Kd,"identities","amp_ready","metricsEnabled","addon:tradedesk","addon:tracking_pixel","addon:eyeota_pixel","addon:pinterest_pixel","addon:facebook_pixel_v2","addon:appnexus","addon:ddp","addon:gigya","addon:neustar_fabrick","pubmatic","lotame"];var f=i(4769);const h=e=>{const{logger:t,consentTracking:i}=e,n=e=>(t.debug(`Data Store: Failed to write ${e} as consent is revoked`),o.F2(void 0));return e=>class extends e{constructor(){super(...arguments),this.writeData=(0,f.v)(super.writeData.bind(this),n,i.isRevoked)}}},_=(e,t,i,r)=>new((0,n.zG)(l,h({consentTracking:r,logger:i})))(e,t,i)},569:(e,t,i)=>{i.d(t,{L:()=>n});class n{constructor(e){this.config=e}getNamespacedStorageKey(e){return`${this.config.stateNamespace}${e}`}}},7575:(e,t,i)=>{i.d(t,{u:()=>n});class n{constructor(e,t){this.metrics=e,this.messages=t,this._isRealtime=!1,this._isReady=!1}isRealtime(){return this._isRealtime}isReady(){return this._isReady}setAsRealtime(e){this._isRealtime=!0,this.messages.emit("permutive:realtime"),this.metrics.trackTimeSinceInit("sdk_realtime_targeting_set_task_duration_seconds",{}),this.metrics.track({name:"sdk_user_segments_count",value:e,labels:{}})}setAsReady(){this._isReady=!0,this.messages.emit("permutive:ready"),this.metrics.trackTimeSinceInit("sdk_initialisation_task_duration_seconds",{}),window.performance&&window.performance.memory&&(this.metrics.track({name:"sdk_heap_memory_bytes_used",value:window.performance.memory.usedJSHeapSize,labels:{}}),this.metrics.track({name:"sdk_heap_memory_limit_fraction_used",value:window.performance.memory.usedJSHeapSize/window.performance.memory.jsHeapSizeLimit,labels:{}}))}}},7256:(e,t,i)=>{i.d(t,{a:()=>o});var n=i(655),r=i(3735),a=i(7927);class o{constructor(e,t,i,n,r,a,o){this.config=e,this.localStorage=t,this.logger=i,this.permutiveData=n,this.eventSourceId=r,this.cookies=a,this.externalData=o}reset(){return(0,n.mG)(this,void 0,void 0,(function*(){return this.logger.log("Resetting State"),(0,r.zG)(this.cookies.deleteCookie(this.config.cookieName),(e=>this.externalData.removeExternalData(this.config.cookieName)),(e=>(0,a.XP)({_paols:!0,_papns:!0,_pcrdbs:!0,_pcrprs:!0,_pdfps:!0,_pfws:!0,_pnativo:!0,_prps:!0,_prubicons:!0,_psegs:!0,_psmart:!0,"permutive-id":!0,"permutive-loaded":!0,"permutive-prebid-rtd":!0,"permutive-events-cache":!0,_pssps:!0}).forEach((e=>this.externalData.removeExternalData(e)))),(e=>this.permutiveData.reset()),(e=>this.eventSourceId.generateAndSet()),(e=>Promise.all([this.localStorage.delete(this.config.permutiveDataModelsKey),this.localStorage.delete(this.config.permutiveDataQueriesKey),this.localStorage.delete(this.config.permutiveDataEnrichersKey),this.localStorage.delete(this.config.permutiveDataMiscKey)])),r.Q1)}))}}},7274:(e,t,i)=>{i.d(t,{u:()=>n});class n{constructor(e,t,i,n,r){this.permutiveData=e,this.permutiveReset=t,this.userId=i,this.viewId=n,this.eventCollection=r}getPermutiveData(e){return this.permutiveData.getData(e)}setPermutiveData(e,t){return this.permutiveData.setData(e,t)}getStateSizeInBytes(){return this.permutiveData.getDataSize()+this.eventCollection.getStateSizeInBytes()}reset(){return this.permutiveReset.reset()}}},9117:(e,t,i)=>{i.d(t,{M:()=>s});var n=i(3735),r=i(6567),a=i(2851),o=i(2652);class s{constructor(e,t,i,r){this.config=e,this.clientContext=t,this.cookies=i,this.externalData=r;const[o,s]=a.Ue(this.getOrGenerateUserId());this.ref=o,this.setUserId=s,(0,n.zG)(o,a.YP((e=>{this.cookies.setCookie(this.config.cookieName,e,!0),this.externalData.setExternalData(this.config.cookieName,e),this.clientContext.updateContext(["user_id",e])})))}isEqual(e){return this.ref.current===e}get(){return this.ref.current}set(e){this.setUserId(e)}getOrGenerateUserId(){return(0,r.fS)((()=>(0,r.fS)(o.k$)(this.getUserIdFromLocalStorage())))(this.getUserIdFromCookie())}getUserIdFromCookie(){return this.getUserIdFromStorageIfValid("cookie")}getUserIdFromLocalStorage(){return this.getUserIdFromStorageIfValid("localStorage")}getUserIdFromStorageIfValid(e){const t=(0,r.DT)(o.Gz);return(0,n.zG)("cookie"===e?this.cookies.getCookie(this.config.cookieName):this.externalData.getExternalData(this.config.cookieName),r.ij,(0,r.tS)(t))}}},9880:(e,t,i)=>{i.d(t,{W:()=>a});var n=i(2851),r=i(2652);class a{constructor(e){this.config=e;const t=e.viewId&&(0,r.Gz)(e.viewId)?e.viewId:(0,r.k$)(),[i,a]=n.Ue(t);this.ref=i,this.set=a}get(){return this.ref.current}generateAndSet(){const e=(0,r.k$)();return this.set(e),e}}},7554:(e,t,i)=>{i.d(t,{E:()=>r});var n=i(8259);const r=(e,t,i)=>{const r=window.localStorage;return(0,n.rK)(r,"[Local Storage]",e,t,i)}},9332:(e,t,i)=>{i.d(t,{u:()=>r});i(6640);var n=i(8259);const r=(e,t,i)=>{const r=window.sessionStorage;return(0,n.rK)(r,"[Session Storage]",e,t,i)}},8259:(e,t,i)=>{i.d(t,{_z:()=>l,oP:()=>u,rK:()=>p});var n=i(655),r=i(2688),a=i(787),o=i(5e3),s=i(3735),c=i(4769);class u{constructor(e,t){this.storage=e,this.namespace=t}put(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){const i=this.namespace.getNamespacedStorageKey(t.toString());return this.storage.setItem(i,JSON.stringify(e)),t}))}get(e){return(0,n.mG)(this,void 0,void 0,(function*(){const t=this.namespace.getNamespacedStorageKey(e.toString()),i=this.storage.getItem(t);return null===i?null:(0,a.A)(i)}))}delete(e){return(0,n.mG)(this,void 0,void 0,(function*(){const t=this.namespace.getNamespacedStorageKey(e.toString());this.storage.removeItem(t)}))}deleteStore(){return(0,n.mG)(this,void 0,void 0,(function*(){}))}}const l=e=>{const{logger:t,consentTracking:i,prefix:n}=e,r=(e,i)=>(t.debug(`${n} Failed to write ${String(i)} as consent is revoked`),Promise.resolve(i));return e=>class extends e{constructor(){super(...arguments),this.put=(0,c.v)(super.put.bind(this),r,i.isRevoked)}}},d=e=>{const{logger:t,prefix:i,storage:a}=e;return e=>class extends e{constructor(){super(...arguments),this.isSupported=null}isStorageSupported(){return null!==this.isSupported||(this.isSupported=o.Y3((()=>{const e="_permutive_ls_test";return a.setItem(e,e),a.getItem(e),a.removeItem(e),!0}),r.w),(0,s.zG)(this.isSupported,o.EQ((e=>{t.warn(`${i} Is NOT supported`,e)}),(()=>{t.debug(`${i} Is supported`)})))),this.isSupported}put(e,t){const i=Object.create(null,{put:{get:()=>super.put}});return(0,n.mG)(this,void 0,void 0,(function*(){return(0,s.zG)(this.isStorageSupported(),o.EQ((e=>{throw e}),(()=>i.put.call(this,e,t))))}))}get(e){const t=Object.create(null,{get:{get:()=>super.get}});return(0,n.mG)(this,void 0,void 0,(function*(){return(0,s.zG)(this.isStorageSupported(),o.EQ((()=>null),(()=>t.get.call(this,e))))}))}delete(e){const t=Object.create(null,{delete:{get:()=>super.delete}});return(0,n.mG)(this,void 0,void 0,(function*(){return(0,s.zG)(this.isStorageSupported(),o.EQ(s.Q1,(()=>t.delete.call(this,e))))}))}deleteStore(){const e=Object.create(null,{deleteStore:{get:()=>super.deleteStore}});return(0,n.mG)(this,void 0,void 0,(function*(){return(0,s.zG)(this.isStorageSupported(),o.EQ(s.Q1,(()=>e.deleteStore.call(this))))}))}}},p=(e,t,i,n,r)=>new((0,s.zG)(u,d({logger:n,prefix:t,storage:e}),l({logger:n,consentTracking:r,prefix:t})))(e,i)},2497:(e,t,i)=>{i.d(t,{Ec:()=>o,_8:()=>a});var n=i(6567),r=i(2652);const a=e=>{const t=e.__tcfapi,i={type:"aborted"},a=["tcloaded","useractioncomplete"];return t?(0,r.a4)((()=>s(t,"getTCData")),(()=>s(t,"getTCData").then((e=>"loaded"===(null==e?void 0:e.cmpStatus)&&a.includes(null==e?void 0:e.eventStatus))))).then((0,n.g_)((()=>i),(e=>({type:"loaded",data:e})))):Promise.resolve({type:"missing"})},o=e=>e.gdprApplies?(0,n.G)(e.vendor.consents):n.YP,s=(e,t)=>new Promise((i=>{e(t,2,(e=>{i(e)}))}))},5165:(e,t,i)=>{i.d(t,{D:()=>n});const n={tradedesk:21,ddp:755,appnexus:32,pubmatic:76,neustar_fabrick:468}},6037:(e,t,i)=>{i.d(t,{C:()=>c});var n=i(655),r=i(1500),a=i(3735);const o=(s=[[{name:"dfp",import:Promise.resolve().then(i.bind(i,4388))}],[],[],[],[{name:"appnexus",import:Promise.resolve().then(i.bind(i,1515))}],[],[{name:"clean_room",import:Promise.resolve().then(i.bind(i,5912))}],[],[],[],[],[],[{name:"gam_log",import:Promise.resolve().then(i.bind(i,6986))}],[],[],[{name:"overlays",import:Promise.resolve().then(i.bind(i,8087))}],[],[],[{name:"prebid",import:Promise.resolve().then(i.bind(i,9581))}],[],[],[],[],[],[{name:"tracking_pixel",import:Promise.resolve().then(i.bind(i,3792))}],[],[],[{name:"web",import:Promise.resolve().then(i.bind(i,4400))}],[],[{name:"ctv",import:Promise.resolve().then(i.bind(i,7305))}],[{name:"ssp",import:Promise.resolve().then(i.bind(i,9557))}]],(0,a.zG)((0,r.xH)(s),(0,r.u4)({},((e,t)=>Object.assign(Object.assign({},e),{[t.name]:t.import})))));var s;const c=e=>{const t=Object.entries(o).map((t=>{let[i,r]=t;return(0,n.mG)(void 0,void 0,void 0,(function*(){return e.logger.log(`Loading addon ${i}`),(yield r).load(e)}))}));return Promise.all(t)}},8254:(e,t,i)=>{i.d(t,{t:()=>r});var n=i(2652);function r(){return(0,n.a4)((()=>window.googletag),(()=>!!window.googletag),{waitTimeInMs:10,maxAttempts:200,exponentialBackOff:!1})}},7131:(e,t,i)=>{i.r(t),i.d(t,{createAddon:()=>S,getCachedDFPSegments:()=>k});var n=i(655),r=i(2688),a=i(5e3),o=i(3735),s=i(6567),c=i(2851),u=i(9853),l=i(2652),d=i(8254);const p="_pdfps";i(5700);var g=i(1500),m=i(2751);let f=!1;let h=null;const _=(e,t)=>{const{logger:i}=t;(0,o.zG)(e,s.UI((e=>{!0!==f&&e.pubadsReady&&(null!=h||(h=n=>{let{slot:r}=n;const{getContentUrl:a}=r;if(!a||"function"!=typeof a)return;(0,o.zG)(a(),(0,m.pn)("&trunc=1"))&&(i.debug("DFP content URL has been truncated!"),(e=>{let{metrics:t,logger:i}=e;f||(t.track({name:"sdk_targeting_size_limit_exceeded_count",value:1,labels:{target:"dfp"}}),f=!0,i.debug("DFP has exceeded targeting limit"))})(t),h&&e.pubads().removeEventListener("slotRenderEnded",h),h=null)}),e.pubads().addEventListener("slotRenderEnded",h))})))},v=(e,t,i,n)=>{const{logger:r}=t;_(e,t);(0,o.zG)(e,s.UI((e=>(e=>{e.cmd.push((()=>{const{getTargeting:t,setTargeting:a}=e.pubads(),o=t("permutive")||[],s=Object.values(i.eligibleSegments).map(String).concat(i.cloudCohorts).concat("rts"),c=(0,g.uK)((e=>s.includes(e))),{left:u}=c(o),l=n.concat(u).concat("rts");r.debug("DFP setting GPT targeting to",l),a("permutive",l)}))})(e))))};var b=i(4388);const y={liveSegments:[],cloudCohorts:[],eligibleSegments:{}},w={segments:y,getGAMKeyValues:()=>({permutive:""})},k=e=>e.getExternalJsonData(p)||[],E=(e,t,i)=>{const{logger:n,externalData:a,api:o}=t;let s=i.map(String).concat(y.cloudCohorts);n.debug("DFP is updating with targeting values",s),v(e,t,y,s);try{a.setExternalJsonData(p,s)}catch(e){const t=(0,r.w)(e),i="DFP failed to set data. Got:";n.error(i,t),o.reportError(`${i} ${t.message}`)}return((e,t)=>{let{api:i,logger:n}=e;(0,u.$S)("sync_segments_cookie",!1)?(n.debug("DFP syncing segment cookie _pdfps"),i.segmentSync({key:p,value:t})):n.debug("DFP sync segments cookie not enabled, skipping sync")})(t,JSON.stringify(s)),n.debug("DFP live segments updated to",i),i},S=e=>(0,n.mG)(void 0,void 0,void 0,(function*(){const{api:t,logger:i,activationManager:n,messages:r,externalData:u,nextGenOutput:g,userId:m,cookies:f}=e,h=yield(0,d.t)();s.Wi(h)&&i.error("[DFP]: unable to find google tag script on the page"),(0,o.zG)(h,s.UI((e=>(e=>e.cmd.push((()=>e.pubads().setTargeting("prmtvsdk","web"))))(e))));w.getGAMKeyValues=()=>Object.assign(Object.assign({},(0,o.zG)((0,b.generateProjectSpecificKVs)(e),a.Vn((e=>{var i;return i=e,t.reportError(`[DFP] ${i}`,m.get()),e})),a.fS((()=>({}))))),{permutive:w.segments.liveSegments.join(",")}),y.eligibleSegments=(e=>{const t=e.getSpecializedActivations("dfp"),i={};for(const e of t.dfp)i[e]=e;for(const e of Object.keys(t.dfp_legacy)){const n=Number(e);i[n]=t.dfp_legacy[n]}return i})(n);const _=(0,o.zG)(g.queryLanguageCohorts.all,c.UI((e=>(i.debug("DFP received QL segments",{qlSegments:e}),((e,t)=>e.filter((e=>e in t)).map((e=>t[e])))(e,y.eligibleSegments)))),c.D8(l.cO));return(0,o.zG)(c.vP(_,g.cloudCohorts.gam),c.YP((0,l.Z_)(t,m,(t=>{let[n,r]=t;i.debug("DFP received updated cohorts",{filteredQlSegments:n,cloudCohorts:r}),y.cloudCohorts=r,y.liveSegments=E(h,e,n)})))),i.debug("DFP initialised with segments",y),r.on("permutive:reset",(0,l.Z_)(t,m,(()=>{i.debug("DFP received 'permutive:reset' event"),u.removeExternalData(p),f.deleteCookie(p)}))),r.emit("permutive:dfp:ready"),w}))},4388:(e,t,i)=>{i.r(t),i.d(t,{generateProjectSpecificKVs:()=>S,load:()=>l});var n=i(2688),r=i(5e3),a=i(3735),o=i(922),s=i(2652),c=i(7131);const u={},l=e=>{e.q.push({functionName:"addon",arguments:["dfp",{}]});window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((()=>d(e)))},d=e=>{e.permutive.ready((0,s.Z_)(e.api,e.userId,(()=>y(e.metrics))),"realtime");w(e.externalData);(0,a.zG)(S(e),r.tS((e=>r.Y3((()=>(0,s.qh)(e).forEach((e=>{let[t,i]=e;googletag.pubads().setTargeting(t,i)}))),n.w))),r.Vn((t=>e.api.reportError(`[DFP:load], ${t}`,e.userId.get())))),h(e.permutive),googletag.cmd.push((()=>{_(e.permutive),v(e.permutive)})),window.addEventListener("message",g(e.permutive),!1)},p=e=>{let{advertiserId:t,campaignId:i,lineItemId:n,creativeId:r}=e;return{advertiser_id:(0,s.rH)(t),campaign_id:(0,s.rH)(i),line_item_id:(0,s.rH)(n),creative_id:(0,s.rH)(r)}},g=e=>t=>{var i;try{const n=JSON.parse(t.data);if(!n.permutive_type||"google_ad_click"!==n.permutive_type)return;const{ad_unit_path:r,creative_id:a,advertiser_id:o,order_id:s,line_item_id:c}=null!==(i=null==n?void 0:n.data)&&void 0!==i?i:{},l=p({lineItemId:c,advertiserId:o,campaignId:s,creativeId:a});let d;Object.keys(u).some((e=>{const{slot:t,creative_id:i}=u[e];if((null==t?void 0:t.ad_unit_path)===r&&i===l.creative_id)return d=u[e],!0})),d=null!=d?d:Object.assign(Object.assign({},l),{is_empty:!1}),m(e,d)}catch(e){}},m=(e,t)=>{o.PH&&t&&e.track("SlotClicked",t)},f=(e,t,i)=>{u[t]=i,b(e,i),E(e,t)},h=e=>{const t=googletag.pubadsReady&&googletag.pubads().getSlots();t&&t.forEach((t=>{const i=t.getResponseInformation();if(!i)return;const n=Object.assign(Object.assign({},p(i)),{is_empty:!1,service_name:"publisher_ads",slot:k(t)}),r=t.getSlotElementId();f(e,r,n)}))},_=e=>{googletag.pubads().addEventListener("slotRenderEnded",(t=>{const i=Object.assign(Object.assign({},p(t)),{is_empty:t.isEmpty,service_name:t.serviceName,slot:k(t.slot)});if(t.size){const[e,n]=t.size;"number"==typeof e&&"number"==typeof n&&(i.width=e,i.height=n)}const n=t.slot.getSlotElementId();f(e,n,i)}))},v=e=>{o.EW&&googletag.pubads().addEventListener("impressionViewable",(t=>{let{slot:i,serviceName:n}=t;const r=i.getResponseInformation();if(!r)return;const a=Object.assign(Object.assign({},p(r)),{service_name:n,slot:k(i)});e.track("SlotViewable",a)}))},b=(e,t)=>{if(!o.CL)return;var i;i=Object.assign(Object.assign({},t),{rendered_timestamp:Date.now()}),e.track("SlotRendered",i)},y=e=>{let t=0;const i=googletag.pubadsReady&&googletag.pubads().getSlots();i&&i.forEach((e=>e.getResponseInformation()&&t++));const n=0===t?"sdk_targeting_realtime_success_count":"sdk_targeting_realtime_fail_count";e.track({name:n,value:1,labels:{target:"dfp"}})},w=e=>{const t=(0,c.getCachedDFPSegments)(e);googletag.cmd.push((()=>{const{getTargeting:e,setTargeting:i}=googletag.pubads(),n=e("permutive")||[];i("permutive",[...new Set([...t.map(String),...n])])}))},k=e=>{const t={ad_unit_path:e.getAdUnitPath(),slot_element_id:e.getSlotElementId()};return o.jH?Object.assign(Object.assign({},t),(()=>{const t={},i=[];let n=[];const r=(e,r)=>{const a="slot"===e?e=>t[e]=1:()=>{},o=r.getTargetingKeys();n=o;for(let o=0;o<n.length;o++){const s=n[o];if(void 0!==t[s]&&"service"===e)continue;const c=[],u=r.getTargeting(s);for(let e=0;e<u.length;e++)c.push(u[e].toString());c.length>0&&(a(s),i.push({key:s,value:c}))}};return r("slot",e),r("service",googletag.pubads()),{targeting_keys:i}})()):t},E=(e,t)=>{let i=!1;const n=()=>{i&&"hidden"===document.visibilityState&&m(e,u[t])},r=()=>{i=!0},a=()=>{i=!1};try{document.addEventListener("visibilitychange",n);const e=document.getElementById(t);e&&(e.addEventListener("mouseover",r),e.addEventListener("mouseout",a))}catch(e){}},S=e=>{let{userId:t,viewId:i}=e;return r.Y3((()=>({})),n.w)}},6986:(e,t,i)=>{i.r(t),i.d(t,{GamLogAddon:()=>s,load:()=>o});var n=i(655),r=i(6567),a=i(8254);const o=e=>{e.q.push({functionName:"addon",arguments:["gam_log",{}]})};class s{constructor(e){this.options=e,this.setTargeting({puid:e.userId.get(),prmtvvid:e.viewId.get(),prmtvsid:e.sessionManager.getSessionId(),prmtvwid:"0b732edd-087f-4c27-b0f6-5ff26d96cdf6"})}setTargeting(e){return(0,n.mG)(this,void 0,void 0,(function*(){r.g_((()=>this.options.logger.error("[GAM Log]: unable to find google tag script on the page")),(t=>{t.cmd.push((()=>Object.entries(e).forEach((e=>{let[i,n]=e;return t.pubads().setTargeting(i,n)}))))}))(yield(0,a.t)())}))}}},8087:(e,t,i)=>{i.r(t),i.d(t,{OverlaysAddon:()=>a,load:()=>r});var n=i(2652);const r=e=>{e.q.unshift({functionName:"addon",arguments:["overlays",{}]})};class a{constructor(e){const t=this;this.permutive=e.permutive,this.options=e,this.activations=this.options.activationManager.getActivations("overlays"),this.loadedImageCounts={};for(let i=0;i<this.activations.length;i++){const r=this.activations[i],a=r.getSegmentCode(),o=r.getTriggerType(),s=r.getConfig(),c=this.buildOverlayCss(s,i);document.head.insertAdjacentHTML("beforeend",c);const u=this.buildOverlayBody(s,i);document.body.insertAdjacentHTML("beforeend",u);const l=`permutive-overlay-${i}`,d=document.getElementById(l);if(d){const e=d.getElementsByClassName("close")[0],t=d.getElementsByClassName("content")[0],i=()=>{d.style.visibility="hidden",d.style.opacity="0"},n=e=>{(null==t?void 0:t.contains(e.target))||(i(),d.removeEventListener("click",n))};e.addEventListener("click",i),d.addEventListener("click",n);[].slice.call(d.getElementsByTagName("a")).slice(1).forEach((e=>{e.addEventListener("click",(function(){r.trackConversion({useBeacon:!0})}))}));const a=d.getElementsByTagName("form")[0];a&&a.addEventListener("submit",(function(e){e.preventDefault(),r.trackConversion({success:function(){a.submit()}})}))}const p=function(e,i){t.showOverlay(e),i.trackImpression()};"EveryTime"===o?this.permutive.segment(a,(0,n.Z_)(e.api,e.userId,(e=>{e?p(l,r):this.permutive.trigger(a,"result",(function(e){e.result&&p(l,r)}))}))):"OnEntry"===o?this.permutive.trigger(a,"result",(0,n.Z_)(e.api,e.userId,(function(e){e.result&&p(l,r)}))):"OnExit"===o&&this.permutive.trigger(a,"result",(0,n.Z_)(e.api,e.userId,(function(e){e.result||p(l,r)})))}}buildOverlayCss(e,t){return'<style type="text/css">.${overlay_class}{position:fixed;top:0;bottom:0;left:0;right:0;width:100%;height:100%;background:rgba(0,0,0,0.${opacity_percentage});transition:opacity ${opacity_transition_ms}ms;visibility:hidden;opacity:0;z-index:1000000;}.${modal_class}{position:fixed;padding:10px;background:#fff;border-radius:5px;z-index:1000001}.${modal_class} .content{overflow:auto;z-index:1000002;}.${modal_class} .close{position:absolute;top:20px;right:30px;transition:all 200ms;font-size:30px;font-weight:bold;text-decoration:none;color:#333;z-index:1000003}.${modal_class} .close:hover{color:orange;}</style>'.replace(/\${overlay_class}/g,"permutive-overlay-"+t).replace(/\${modal_class}/g,"permutive-modal-"+t).replace("${opacity_percentage}",e.opacity_percentage.toString()).replace("${opacity_transition_ms}",e.opacity_transition_ms.toString())}buildOverlayBody(e,t){const i=this.options.config.windowKey;let n="";return!function(e){return void 0!==e.html}(e)?function(e){return void 0!==e.image_url&&void 0!==e.image_link}(e)&&(n='<a href="'+e.image_link+'"><img src="'+e.image_url+'"/></a>'):n=e.html,'<div id="${overlay_class}" class="${overlay_class}"><div id="${modal_class}" class="${modal_class}"><a class="close" href="javascript:;">&times;</a><div class="content">${content}</div></div></div>'.replace(/\${overlay_class}/g,"permutive-overlay-"+t).replace(/\${modal_class}/g,"permutive-modal-"+t).replace("${content}",n).replace(/<img /g,`<img onload='window[${i}].addons.overlays.loadedImage("permutive-overlay-" + num + "")' `)}showOverlay(e){const t=document.getElementById(`${e}`);if(!t)return;const i=()=>{const e=t.getElementsByTagName("div")[0],i=e.getBoundingClientRect().height,n=e.getBoundingClientRect().width;e.style.left=window.innerWidth/2-n/2+"px",e.style.top=window.innerHeight/2-i/2+"px",t.style.visibility="visible",t.style.opacity="1"},n=t.getElementsByTagName("img");if(n.length>0){let t=0;const r=()=>{t<10&&(!(e in this.loadedImageCounts)||this.loadedImageCounts[e]<n.length)?(t+=1,setTimeout(r,500)):i()};r()}else i()}loadedImage(e){e in this.loadedImageCounts?this.loadedImageCounts[e]=this.loadedImageCounts[e]+1:this.loadedImageCounts[e]=1}}},1515:(e,t,i)=>{i.r(t),i.d(t,{AppnexusPixel:()=>a,load:()=>o});class n{constructor(e,t){this.isFirstRun=void 0===e.permutiveData.getData(t),this.cachedSegmentsMembership=new Set(e.nextGenOutput.queryLanguageCohorts.all.current),this.isFirstRun&&e.permutiveData.setData(t,!0),e.messages.on("permutive:reset",(()=>e.permutiveData.setData(t,!1)))}}class r extends n{constructor(e,t,i){super(e,i);const n=e.activationManager.getSpecializedActivations(t);this.processSpecialisedActivations(e.permutive,n)}}class a extends r{constructor(e){super(e,"appnexus","addon:appnexus")}processSpecialisedActivations(e,t){Object.entries(t).forEach((t=>{let[i,n]=t;const r=parseInt(i),a=this.cachedSegmentsMembership.has(r);this.isFirstRun&&a?this.firePixel(n):e.trigger(r,"",(e=>{e.result&&this.firePixel(n)}))}))}firePixel(e){(new Image).src=`https://secure.adnxs.com/seg?add=${e}&t=1`}}const o=e=>{e.q.push({functionName:"addon",arguments:["appnexus",{}]})}},3792:(e,t,i)=>{i.r(t),i.d(t,{PixelAddon:()=>a,load:()=>r});var n=i(2652);const r=e=>{e.q.push({functionName:"addon",arguments:["tracking_pixel",{}]})};class a{constructor(e){const t=this;this.options=e,this.latestStateByDomain=this.options.permutiveData.getData("addon:tracking_pixel")||{},this.activations=this.options.activationManager.getActivations("tracking_pixel");const i=0===Object.keys(this.latestStateByDomain).length;this.eligibleSegmentsForEntries={},this.eligibleSegmentsForExits={};for(let e=0;e<this.activations.length;e++){const t=this.activations[e],i=t.getTriggerType(),n=t.getSegmentCode(),r=t.getConfig().pixel_url,a=this.extractPixelType(r);"OnEntry"===i?(a in this.eligibleSegmentsForEntries||(this.eligibleSegmentsForEntries[a]={}),this.eligibleSegmentsForEntries[a][n]=t):"OnExit"===i&&(a in this.eligibleSegmentsForExits||(this.eligibleSegmentsForExits[a]={}),this.eligibleSegmentsForExits[a][n]=t)}const r=e.nextGenOutput.queryLanguageCohorts.all;i&&(0,n.Z_)(e.api,e.userId,(()=>this.firePixelsIfNecessary(r.current))),r.onChange((0,n.Z_)(e.api,e.userId,(e=>t.firePixelsIfNecessary(e))))}extractPixelType(e){return e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0]}firePixelsIfNecessary(e){const t=Object.keys(Object.assign(Object.assign({},this.eligibleSegmentsForEntries),this.eligibleSegmentsForExits)),i={},n=this.eligibleSegmentsForEntries,r=this.eligibleSegmentsForExits;t.forEach((t=>{i[t]=i[t]||[];for(let a=0;a<e.length;a++){const o=e[a];(n[t]&&n[t][o]||r[t]&&r[t][o])&&i[t].push(e[a])}})),t.forEach((e=>{const t=i[e]||[],a=Array.isArray(this.latestStateByDomain[e])?this.latestStateByDomain[e]:[];for(let i=0;i<t.length;i++){const r=t[i];if(-1===a.indexOf(r)){const t=n[e]&&n[e][r];"OnEntry"===(null==t?void 0:t.getTriggerType())&&this.firePixel(t)}}for(let i=0;i<a.length;i++){const n=a[i];if(-1===t.indexOf(n)){const t=r[e]&&r[e][n];"OnExit"===(null==t?void 0:t.getTriggerType())&&this.firePixel(t)}}})),this.latestStateByDomain=i,this.options.state.setPermutiveData("addon:tracking_pixel",this.latestStateByDomain)}firePixel(e){(new Image).src=e.getConfig().pixel_url,e.trackImpression()}}},4400:(e,t,i)=>{i.r(t),i.d(t,{WebAddon:()=>S,load:()=>E});var n=i(655),r=i(2688),a=i(5e3),o=i(3735),s=i(4011),c=i(6567),u=i(7209),l=i(6341),d=i(922),p=i(2652),g=i(9853);const m=(0,g.MU)("add_alchemy_entities",!1),f=(0,g.MU)("add_alchemy_taxonomy",!1);function h(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object.assign(Object.assign(Object.assign({},e&&f?{taxonomy_labels:"$alchemy_taxonomy_labels"}:{}),e&&m?{entity_names:"$alchemy_entity_names"}:{}),{classifications_watson:{taxonomy_labels:"$taxonomy_labels"}})}function _(e,t,i,n){const r=Object.assign(Object.assign(Object.assign({isp_info:"$ip_isp_info",geo_info:"$ip_geo_info"},{}),e),t);i.track("Pageview",r).then((e=>{e&&n.emit("permutive:event:pageview",e)}))}function v(e,t,i,n,r,a){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:c.YP;const u=b(e,t,i,n,r),l=(0,c.fS)((()=>null))(s);let d={useBeacon:o};null!==l&&(d=Object.assign(Object.assign({},d),{unprocessedData:l})),a.track("PageviewComplete",u,d)}function b(e,t,i,n,r){return Object.assign(Object.assign(Object.assign({isp_info:"$ip_isp_info",geo_info:"$ip_geo_info"},n),i),{aggregations:Object.assign({PageviewEngagement:Object.assign({engaged_time:e},d.UW?{completion:t}:{})},d.ED?{SegmentEntry:Array.from(r.segmentEntryQueryCodes),SegmentExit:Array.from(r.segmentExitQueryCodes),CohortEntry:Array.from(r.cohortEntryQueryCodes),CohortExit:Array.from(r.cohortExitQueryCodes)}:{})})}const y=["mousemove","click","scroll"],w=["email","tel","submit","reset","button","file","password","radio","checkbox"],k=["email","e-mail","password","tel","telephone","phone","name_first","name_last","sa_zip"],E=e=>{0};class S{constructor(e){this.dirtyState=!1,this.timerHandle=void 0,this.totalCompletion=0,this.totalEngagedTime=0,this.pageviewCompleteTimeoutHandle=void 0,this.hasPageviewCompleteFired=!1,this.cleanupPageEngagementDetection=o.Q1,this.permutive=e.permutive,this.options=e,this.api=e.api,this.clientContext=e.clientContext,this.logger=e.logger,this.unprocessedPVC=e.unprocessedEvents.PageviewComplete,this.options.customProperties.overrideCustomProps(e.page||{});this.pageEngagementDetected=(()=>{this.dirtyState=!0,d.Uy&&this.resetTimeout()}).bind(this),_(h(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.permutive,this.options.messages),this.enablePageEngagementDetection(),"loading"!==document.readyState?this.attachListeners():window.addEventListener("DOMContentLoaded",this.attachListeners.bind(this),!1),d.t2&&(this.timerHandle=this.registerEngagementInterval(this.getEventInterval())),d.Uy&&(this.setPageviewCompleteTimeout(d.MU),(0,p.aT)((()=>{this.hasPageviewCompleteFired||v(this.totalEngagedTime,this.totalCompletion,h(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager,this.permutive)})))}sendLinkClickEvent(e,t){if(window.location.href&&e.href){const i=0===e.href.indexOf("data:")?"NOT_URL":e.href;this.permutive.track("LinkClick",{dest_url:i},{useBeacon:t})}}sendFormSubmissionEvent(e){{const t=e.currentTarget,i={form:Object.assign(Object.assign(Object.assign({method:t.method||"GET",properties:this.serializeForm(t)},"string"==typeof t.id?{id:t.id}:{}),t.name&&"string"==typeof t.name?{name:t.name}:{}),t.action&&"string"==typeof t.action?{action:t.action}:{})};this.permutive.track("FormSubmission",i)}}trackEngagementInterval(e){return(0,n.mG)(this,void 0,void 0,(function*(){const t=this.updateState(e);!function(e,t,i,n,r,a){const o=Object.assign(Object.assign({isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",engaged_time:e,total_engaged_time:t},r),{completion:i,total_completion:n});a.track("PageviewEngagement",o)}(t.engaged_time,t.total_engaged_time,t.completion,t.total_completion,this.options.customProperties.getCustomProps(),this.permutive),this.hasPageviewCompleteFired||(yield function(e,t,i,n,r,a,o,s,c){const u=b(e,t,o,s,c);return r.then((e=>{const t={props:u,sessionId:i,viewId:n,client:e};a.put(t)}))}(this.totalEngagedTime,this.totalCompletion,this.options.sessionManager.getSessionId(),this.options.viewId.get(),this.clientContext.getClient(),this.unprocessedPVC,h(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager))}))}reset(e){var t;return(0,n.mG)(this,void 0,void 0,(function*(){if(this.disablePageEngagementDetection(),d.Uy){const e=yield this.unprocessedPVC.getIfPresent();this.hasPageviewCompleteFired=!1,v(this.totalEngagedTime,this.totalCompletion,h(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager,this.permutive,!1,e)}this.dirtyState=!1,this.options.state.viewId.generateAndSet(),this.totalCompletion=0,this.totalEngagedTime=0,this.updateWebOptions(e),this.options.customProperties.overrideCustomProps(this.options.page||{}),this.enablePageEngagementDetection();const i={logger:this.logger,config:Object.assign(Object.assign({},this.options.config),{watson:null!==(t=this.options.watson)&&void 0!==t?t:this.options.config.watson}),clientContext:this.clientContext,api:this.api,permutiveData:this.options.permutiveData,metrics:this.options.metrics,sessionManager:this.options.sessionManager,enrichers:this.options.enrichers,network:this.options.network};(0,l.H)(i)().then((()=>{_(h(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.permutive,this.options.messages),d.t2&&(clearInterval(this.timerHandle),this.timerHandle=this.registerEngagementInterval(this.getEventInterval()))}))}))}serializeForm(e){return[...e.getElementsByTagName("input")].filter((e=>!(!e.type||!e.id||e.disabled||e.checked||"fieldset"===e.nodeName.toLowerCase()||-1!==w.indexOf(e.type.toLowerCase())||-1!==k.indexOf(e.name.toLowerCase())))).map((e=>({name:e.name||e.id,value:e.value}))).filter((e=>e.value.length<120))}registerEngagementInterval(e){return setInterval((()=>{this.dirtyState&&this.trackEngagementInterval(e)}),1e3*e)}attachListeners(){const e=e=>"a"===e.tagName.toLowerCase(),t=e=>e instanceof Element,i=t=>e(t)?(0,c.G)(t):t.parentElement?e(t.parentElement)?(0,c.G)(t.parentElement):i(t.parentElement):c.YP;d.eV&&[].slice.call(document.getElementsByTagName("form"),0).forEach((e=>e.addEventListener("submit",(0,o.ls)(c.DT(this.canTrackPermutiveEvent("FormSubmission")),c.UI((0,p.Z_)(this.options.api,this.options.userId,this.sendFormSubmissionEvent.bind(this))))))),d.qr&&document.body.addEventListener("click",(0,o.ls)(c.DT(this.canTrackPermutiveEvent("LinkClick")),c.UI((e=>({event:e,anchor:(0,o.zG)(e.target,c.ij,c.tS(c.DT(t)),c.tS(i))}))),c.DZ((e=>{let{event:t,anchor:i}=e;return c.pC(i)?c.G({event:t,anchor:i.value}):c.YP})),c.UI((e=>{let{event:t,anchor:i}=e;return this.sendLinkClickEvent(i,(n=t,!("_blank"===i.target||n.metaKey||n.ctrlKey||n.shiftKey||2===n.which||3===n.which)));var n}))),{capture:!0})}updateState(e){const t=Math.max(this.totalCompletion,this.getCurrentCompletion()),i=t-this.totalCompletion;return this.totalEngagedTime+=e,this.totalCompletion=t,this.dirtyState=!1,{engaged_time:e,total_engaged_time:this.totalEngagedTime,completion:i,total_completion:this.totalCompletion}}getCurrentCompletion(){if("function"==typeof this.options.getPageCompletion)return(0,o.zG)((0,a.Y3)((0,o.ls)(this.options.getPageCompletion,Number,(e=>isNaN(e)?0:e),(0,u.uZ)(s.Df)(0,1)),r.w),(0,a.EQ)((e=>(this.logger.warn("Web: invoking getPageCompletion threw an error. Got",e),0)),(e=>(this.logger.debug("Web: invoking getPageCompletion returned",e),e))));return(()=>{const e=document.documentElement.scrollHeight,t=window.pageYOffset+window.innerHeight;return t<=0?0:t>=e?1:t/e})()}setPageviewCompleteTimeout(e){return window.setTimeout((()=>{this.hasPageviewCompleteFired||(v(this.totalEngagedTime,this.totalCompletion,h(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager,this.permutive,!1),this.hasPageviewCompleteFired=!0)}),e)}resetTimeout(){clearTimeout(this.pageviewCompleteTimeoutHandle),this.pageviewCompleteTimeoutHandle=this.setPageviewCompleteTimeout(d.MU)}registerPageEngagementCleanup(e){"function"==typeof e?this.cleanupPageEngagementDetection=()=>(0,a.Y3)((()=>{e(),this.cleanupPageEngagementDetection=o.Q1}),(e=>this.logger.warn("Page detection cleanup threw an error",(0,r.w)(e)))):this.logger.warn("No page detection cleanup was registered")}enablePageEngagementDetection(){this.options.addPageEngagementDetection&&(0,o.zG)(this.options.addPageEngagementDetection(this.pageEngagementDetected),(e=>this.registerPageEngagementCleanup(e))),this.setDirtyEventListenersTo(!0,this.getDirtyEvents())}disablePageEngagementDetection(){this.cleanupPageEngagementDetection(),this.setDirtyEventListenersTo(!1,this.getDirtyEvents())}setDirtyEventListenersTo(e,t){const i=e?window.addEventListener:window.removeEventListener;return t.forEach((e=>i(e,this.pageEngagementDetected))),null}getDirtyEvents(){return this.options.dirtyEvents||y}getEventInterval(){return this.options.eventInterval||5}canTrackPermutiveEvent(e){return t=>{var i,n;return(0,o.zG)(null===(n=null===(i=this.options)||void 0===i?void 0:i.filterPermutiveEvent)||void 0===n?void 0:n[e],c.DT((e=>"function"==typeof e)),c.tS((0,o.ls)((e=>a.Y3((()=>e(t)),(e=>new Error(`Threw an unexpected error: ${(0,r.w)(e)}`)))),a.tS(a.DT((e=>"boolean"==typeof e),(()=>new Error("Did not return a boolean")))),(0,p.bw)(a.Vn((t=>this.logger.error(`Filter predicate for "${e}" event failed`,t)))),c.Uo)),c.fS((()=>!0)))}}updateWebOptions(e){e.watson&&"object"==typeof e.watson&&"enabled"in e.watson&&"boolean"==typeof e.watson.enabled||delete e.watson,"object"==typeof e.filterPermutiveEvent&&null!==e.filterPermutiveEvent||delete e.filterPermutiveEvent;const t={addPageEngagementDetection:void 0,dirtyEvents:void 0,eventInterval:void 0,filterPermutiveEvent:void 0,getPageCompletion:void 0,page:void 0,watson:void 0};return this.options=Object.assign(Object.assign(Object.assign({},this.options),t),e)}}},9078:(e,t,i)=>{i.d(t,{a:()=>n});class n{constructor(e){var t;this.messages=e,this.handlers={},this.messageQueue={};null===(t=window.addEventListener)||void 0===t||t.call(window,"message",(e=>{var t;"permutive"===(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.origin)&&this.handle(e)}),!1),this.messages.once("permutive:api:ready",(function(){var e;null===(e=window.postMessage)||void 0===e||e.call(window,{origin:"permutive",type:"sdk-init"},"*")}))}listen(e,t){if(e in this.handlers||(this.handlers[e]=[]),this.handlers[e].push(t),e in this.messageQueue){const t=this.messageQueue[e];if(void 0===t)return;for(let e=0;e<t.length;e++){const i=t[e];this.handle(i)}}}handle(e){var t,i,n;if(e.data.type in this.handlers)this.handlers[e.data.type].forEach((t=>{t(e)}));else{(null!==(t=(i=this.messageQueue)[n=e.data.type])&&void 0!==t?t:i[n]=[]).push(e)}}}},533:(e,t,i)=>{i.d(t,{o:()=>n,s:()=>r});class n extends Error{constructor(){super(n.defaultMessage),this.name=n.errorName}static get defaultMessage(){return"Network request failed"}}n.errorName="NetworkRequestFailedError";class r extends Error{constructor(){super(r.defaultMessage),this.name=r.errorName}static get defaultMessage(){return"Network request timed out"}}r.errorName="NetworkRequestTimeoutError"},7423:(e,t,i)=>{i.d(t,{F:()=>l});var n=i(655),r=i(2688),a=i(3735),o=i(6567),s=i(3328),c=i(3030),u=i(533);class l{constructor(e,t,i,n,r){this.urls=e,this.config=t,this.network=i,this.metricsCollector=n,this.logger=r,this.prefix="[API]"}identify(e,t,i){const n=()=>this.reqWithMetrics(e,"sdk_http_identify_seconds",{url:this.urls.getEndpointUrl("/identify",o.G(this.config.apiVersion)),method:"POST",payload:{user_id:t.get(),aliases:i},contentType:"text/plain",dataType:"json",withCredentials:!0});return this.identifyPromise?this.identifyPromise=this.identifyPromise.then(n):this.identifyPromise=n()}metrics(e){return this.network.req({url:this.urls.getEndpointUrl("/internal/metrics",o.G(this.config.apiVersion)),method:"POST",payload:e,contentType:"text/plain",dataType:"text",withCredentials:!1})}metricsBeacon(e){return this.network.reqWithBeacon({url:this.urls.getEndpointUrl("/internal/metrics",o.G(this.config.apiVersion)),payload:e})}track(e,t,i){const n=this.getTrackUrl(t,{isFullyEnriched:i,useBeacon:!1});return this.reqWithMetrics(e,"sdk_http_events_seconds",{url:n,method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1})}trackBatch(e,t){const i=this.getTrackUrl(t,{isFullyEnriched:!0,useBeacon:!1});return this.reqWithMetrics(e,"sdk_http_events_seconds",{url:i,method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1})}trackBeacon(e,t){const i=this.getTrackUrl(e,{isFullyEnriched:t,useBeacon:!0});return this.network.reqWithBeacon({url:i,payload:e})}trackBatchBeacon(e){const t=this.getTrackUrl(e,{isFullyEnriched:!0,useBeacon:!0});return this.network.reqWithBeacon({url:t,payload:e})}reset(e){return this.reqWithMetrics(e,"sdk_http_reset_seconds",{url:this.urls.getEndpointUrl("/reset",o.G(this.config.apiVersion)),method:"POST",payload:null,contentType:"text/plain",dataType:"json",withCredentials:!0})}segmentSync(e){return this.network.req({url:`https://${this.config.segmentSyncApiHost}/sync/${e.key}`,method:"POST",payload:`value=${encodeURIComponent(e.value)}`,contentType:"application/x-www-form-urlencoded",dataType:"json",withCredentials:!0})}modelsBinary(e){return this.reqWithMetrics(e,"sdk_http_models_seconds",{url:this.getModelsUrl("binary"),method:"GET",contentType:"text/plain",dataType:"binary",withCredentials:!1})}modelsJson(e){return this.reqWithMetrics(e,"sdk_http_models_seconds",{url:this.getModelsUrl("json"),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!1})}state(e,t,i,n,r,a){return this.reqWithMetrics(e,"sdk_http_reset_seconds",{url:this.urls.getEndpointUrl("/state",o.G("v1.0"),[["fetch_unseen",JSON.stringify(a)]]),method:"POST",payload:{group_id:t,event_source_id:i,state:JSON.stringify(n),last_seen_offset:r},contentType:"text/plain",dataType:"json",withCredentials:!1})}appnexus(e){return this.network.req({url:e,method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!0,timeout:2e3})}pxid(e){return this.network.req({url:this.urls.makeAuthenticatedUrl(e),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!0,timeout:2e3})}queries(){const e={addons:{dfp:{activations:{dfp:[],dfp_legacy:{}},auto_init:!0,track_slot_rendered:!1,track_slot_viewable:!1,track_slot_clicked:!1,track_targeting_keys:!1,sync_segments_cookie:!1},web:{auto_init:!1,track_pageview_engagement:!0,track_pageview_complete:!0,track_form_submission:!1,track_link_click:!1,engagement_edge_only:!0,segment_transition_edge_only:!1}},queries:{queries:{},eventSegments:{},eventsLookup:[],literalsLookup:[],subexpressionsLookup:[],stateSyncReplays:[],propertiesLookup:[]},queries_metadata:{}},t=`${this.config.cdnBaseUrl.startsWith("dev.local:")?"http":"https"}://${this.config.cdnBaseUrl}/queries/0b732edd-087f-4c27-b0f6-5ff26d96cdf6-amp.json`;return this.network.req({url:t,withCredentials:!1,dataType:"json",method:"GET"}).catch((()=>e))}pxidReset(e){return this.network.req({url:this.urls.makeAuthenticatedUrl(e),method:"POST",payload:null,contentType:"text/plain",dataType:"json",withCredentials:!0})}uploadCohortMemberships(e,t){return this.reqWithMetrics(e,"sdk_http_upload_cohort_memberships_seconds",{url:this.urls.getCCSCohortMembershipEndpointUrl("/amp/cohorts",o.G("alpha"),[["i",t.user_id]]),method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1})}reqWithMetrics(e,t,i){const n=e.startTimer(t,{});return this.network.req(i).then((i=>(0,a.zG)(e.stopTimer(t,n),(e=>i))))}reportError(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;return(0,n.mG)(this,void 0,void 0,(function*(){const l=(0,r.w)(e);if(this.logError("Reporting error:\n",l),!this.config.sendClientErrors)return void this.logDebug("Send errors not enabled. Skipping");const d=e=>this.network.req({url:this.urls.getSdkErrorsUrl("/errors",o.G(this.config.sdkErrorsApiVersion)),method:"POST",payload:[e],contentType:"text/plain",dataType:"text",withCredentials:!1}),p=e=>{this.metricsCollector.track({name:"sdk_http_generic_network_request_fail_count_total",value:1,labels:{network_error_type:e}})};yield(0,a.zG)([u.o,u.s],s.Ew((e=>l.name===e.errorName||l.message.indexOf(e.errorName)>=0||l.message.indexOf(e.defaultMessage)>=0)),o.g_((()=>{const e=(()=>{var e,n,r,a,o,s,u,d;const p={error_message:null!==(n=null===(e=null==l?void 0:l.message)||void 0===e?void 0:e.toString())&&void 0!==n?n:"",stack_trace:null===(r=null==l?void 0:l.stack)||void 0===r?void 0:r.split("\n")},g=t?{user_id:t}:{};return Object.assign({platform:"web",sdk_version:"v19.94.0",ql_runtime_version:"v5.5.2",timestamp:i,domain:null!==(o=null===(a=null===window||void 0===window?void 0:window.location)||void 0===a?void 0:a.hostname)&&void 0!==o?o:"",url:(0,c.bk)(null===(s=null===window||void 0===window?void 0:window.location)||void 0===s?void 0:s.href),referrer:(0,c.bk)(null===document||void 0===document?void 0:document.referrer),user_agent:null!==(u=null===navigator||void 0===navigator?void 0:navigator.userAgent)&&void 0!==u?u:"",error_message:null!==(d=p.error_message)&&void 0!==d?d:String(l),stack_trace:p.stack_trace},g)})();return d(e).catch((0,a.ls)(r.w,(e=>this.logError(e))))}),(e=>(0,n.mG)(this,void 0,void 0,(function*(){return p(e.errorName)})))))}))}getTrackUrl(e,t){const{isFullyEnriched:i,useBeacon:n}=t,r=Array.isArray(e),a=!i;return this.urls.getEndpointUrl(r?"/batch/events":"/events",o.G(this.config.apiVersion),[["enrich",JSON.stringify(a)],["sdkp",JSON.stringify(!n)]])}getModelsUrl(e){const t=`https://${this.config.cdnBaseUrl}`;switch(e){case"binary":return`${t}/models/v2/0b732edd-087f-4c27-b0f6-5ff26d96cdf6-models.bin`;case"json":return`${t}/models/0b732edd-087f-4c27-b0f6-5ff26d96cdf6-models.json`}}logDebug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.debug(this.prefix,...t)}logError(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.error(this.prefix,...t)}}},4586:(e,t,i)=>{i.d(t,{E:()=>o});var n=i(5e3),r=i(3735),a=i(533);class o{constructor(){}req(e){return this.reqImpl(e).then((e=>(0,r.MZ)(e)))}reqWithBeacon(e){let{url:t,payload:i}=e;return null===navigator||void 0===navigator?void 0:navigator.sendBeacon(t,JSON.stringify(i))}reqImpl(e){const{url:t,dataType:i,contentType:r,method:o,withCredentials:s,timeout:c}=e;return new Promise(((u,l)=>{const d=new XMLHttpRequest,p="POST"===e.method?"string"==typeof(g=e.payload)?g:JSON.stringify(g):null;var g;d.onload=function(){if(this.status>=400){const e="text"===this.responseType||""===this.responseType?this.responseText:"Couldn't access response text";l(`Failed ajax request. Status code was ${this.status}. ${e}`)}else if("json"===i){const e=this.responseText?(0,n.Y3)((()=>JSON.parse(this.responseText)),(e=>`Failed to parse response as JSON. Response was ${JSON.stringify(this.responseText)}. Got ${e}`)):(0,n.F2)(null);(0,n.g_)(l,u)(e)}else u("text"===i?this.responseText:this.response)},d.onerror=()=>l(new a.o),d.ontimeout=()=>l(new a.s),d.open(o,t,!0),r&&d.setRequestHeader("content-type",r),d.timeout=c||d.timeout,d.withCredentials=s||d.withCredentials,d.responseType="binary"===i?"arraybuffer":d.responseType,d.send(p)}))}}},310:(e,t,i)=>{i.d(t,{s:()=>r});var n=i(6567);class r{constructor(e){this.config=e,this.PATH_JOINER_Q="?",this.PATH_JOINER_A="&"}getEndpointUrl(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("base",e,t,i)}getSdkErrorsUrl(e,t){return this.getUrl("sdk-errors",e,t,[])}getAdvertiserEndpointUrl(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("adv",e,t,i)}getClassificationModelsEndpointUrl(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("clm",e,t,i)}getAudienceMatchingEndpointUrl(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const r=`${e}/${i}/audiences`;return this.getUrl("audience-matching",r,t,n)}getCCSCohortMembershipEndpointUrl(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("ccs",e,t,i)}makeAuthenticatedUrl(e){return this.makeUrlWithQueryParams(e,[["k",this.config.apiKey]])}getUrlPrefix(e){switch(e){case"base":return"";case"adv":return"/adv";case"sdk-errors":return"/sdk-errors";case"clm":return"/clm";case"audience-matching":return"/audience-matching";case"ccs":return"/ccs"}}getUrl(e,t,i,r){const a=this.getUrlPrefix(e),o=(0,n.g_)((()=>""),(e=>`/${e}`))(i),s=`${this.config.apiProtocol}://${this.config.apiHost}${a}${o}${t}`;return this.makeUrlWithQueryParams(s,r.concat([["k",this.config.apiKey]]))}makeUrlWithQueryParams(e,t){const i=t.map((e=>{let[t,i]=e;return`${t}=${i}`})).join(this.PATH_JOINER_A),n=e.includes(this.PATH_JOINER_Q)?this.PATH_JOINER_A:this.PATH_JOINER_Q;return`${e}${n}${i}`}}},2539:(e,t,i)=>{i.d(t,{B:()=>Kt});var n=i(655),r=i(2116);class a{constructor(){this.events=[],this.listeners=[]}newEvent(e,t){this.events.push([e,t]),[...this.listeners].forEach((i=>{this.handle(e,t,i)}))}addListener(e){this.listeners.push(e);const t={replay:()=>(this.replay(e),t),remove:()=>(this.remove(e),t)};return t}handle(e,t,i){const n="string"==typeof i.name&&e.name===i.name,r=i.name.test&&i.name.test(e.name),a=n||r;if(a)try{i.callback(e,t)}catch(e){window.console&&window.console.error&&window.console.error("callback error: ",e)}a&&i.once&&this.remove(i)}replay(e){let t=-1!==this.listeners.indexOf(e);for(let i=0;i<this.events.length&&t;i++)this.handle(this.events[i][0],this.events[i][1],e),t=-1!==this.listeners.indexOf(e)}remove(e){const t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)}}var o=i(2688),s=i(3735);const c=e=>({id:e.id,name:e.name,time:new Date(e.time),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),u=e=>({id:e.id,name:e.name,time:(p(e.time)?e.time:new Date).toISOString(),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),l=(e,t)=>({id:e.id,time:new Date(e.time),name:t.name,properties:t.properties,session_id:t.session_id,view_id:t.view_id}),d=e=>void 0!==e.request_id,p=e=>isFinite(e)&&e instanceof Date;var g=i(4730);class m{constructor(e,t,i,n,r){this.eventHandler=e,this.api=t,this.metrics=i,this.userId=n,this.eventsCache=r,this.DEBOUNCE_TIME=500,this.MAX_DEBOUNCE_TIME=5e3,this.batch={requestData:[],requestOptions:[],processingStrategies:[]},this.scheduler=new g.b(this.DEBOUNCE_TIME,this.MAX_DEBOUNCE_TIME),this.debouncedFlushIfNotEmpty=this.scheduler.schedule(this.flush.bind(this)),this.scheduler.scheduleForPageUnload((()=>this.flushWithBeacon.bind(this)(this.batch)))}add(e,t,i){return this.batch.requestData.push(e),this.batch.requestOptions.push(t),this.batch.processingStrategies.push(i),this.debouncedFlushIfNotEmpty(this.batch),Promise.resolve()}flush(e){return this.flushIfNotEmpty(e,!1)}flushWithBeacon(e){return this.flushIfNotEmpty(e,!0)}flushIfNotEmpty(e,t){const{requestData:i,requestOptions:n,processingStrategies:r}=e,a=e=>this.api.reportError(`Error sending events batch. Got ${(0,o.w)(e)}`,this.userId.get()),c=t?(0,s.ls)((e=>this.api.trackBatchBeacon(e)),(e=>Promise.resolve())):e=>this.api.trackBatch(this.metrics,e);return i.length>0?(0,s.zG)(this.resetBatch(),(e=>this.trackMetrics(i)),(e=>c(i).then((e=>this.isBatchResponse(e)?this.onBatchResponseSuccess(e,i,n,r):(0,s.Q1)())).catch(a))):Promise.resolve()}onBatchResponseSuccess(e,t,i,n){const r=(e,t)=>{"never"!==t&&(this.eventHandler.newEvent(u(e),null),this.eventsCache.add(e,{persistOnDisk:!0}))},a=(e,t,i)=>{const n={name:t.name,session_id:t.session_id,view_id:t.view_id,properties:t.properties,time:(new Date).toISOString()};i&&i(e.error.message),console.error(e),this.eventHandler.newEvent(n,e)};return e.forEach(((e,o)=>{let{body:s}=e;const c=t[o],u=i[o],p=n[o];return d(s)?a(s,c,u.error):((e,t,i,n)=>{const a=l(e,t);return n&&n(a),r(a,i)})(s,c,p,u.success)}))}resetBatch(){this.batch={requestData:[],requestOptions:[],processingStrategies:[]}}trackMetrics(e){this.metrics.track({name:"sdk_events_batch_size_total",value:e.length,labels:{}}),this.metrics.track({name:"sdk_events_batch_size_bytes",value:2*JSON.stringify(e).length,labels:{}})}isBatchResponse(e){return!!e}}var f=i(6567),h=i(922);const _=(e,t)=>{switch(v(e.event,e.isEventFullyEnriched,t)){case"immediate":return y(e);case"memoryOnly":return w(e);case"response":return k(e);case"deferred":return E(e);case"never":return S(e)}},v=(e,t,i)=>i?"deferred":b(e.name,t),b=(e,t)=>A.has(e)?"memoryOnly":x.has(e)?"never":t?"immediate":"response",y=e=>{let{event:t,requestData:i,requestOptions:r,queryManager:a,eventsBatch:o,stateSync:c,metrics:u,logger:l}=e;return(0,n.mG)(void 0,void 0,void 0,(function*(){const[e,{segmentsEntered:n,segmentsExited:d,cohortsEntered:p,cohortsExited:g}]=yield q(t,u,a,l),m=(e,t)=>{const i=new Set(e);for(const e of t)i.delete(e);return i},f=m(new Set([...i.segments,...n]),d),h=m(new Set([...i.cohorts,...p]),g);return l.debug(`Batching ${t.name} with`,{segments:f,cohorts:h}),Promise.all([o.add(Object.assign(Object.assign({},i),{segments:[...f],cohorts:[...h]}),r,"immediate"),c.sync(e)]).then(s.Q1)}))},w=e=>{let{event:t,metrics:i,queryManager:n,logger:r}=e;return q(t,i,n,r).then(s.Q1)},k=e=>{let{requestData:t,requestOptions:i,queryManager:n,eventsCache:r,eventHandler:a,api:o,metrics:s,logger:c}=e;return o.track(s,t,!1).then((e=>I(e,t,i,r,s,n,c))).then((e=>{let{event:t,error:i}=e;return M(a,t,i)}))},E=e=>{let{event:t,isEventFullyEnriched:i,requestData:n,api:r,eventHandler:a}=e;return Promise.all([r.trackBeacon(n,i),M(a,t,f.YP)]).then(s.Q1)},S=e=>{let{requestData:t,requestOptions:i,eventsBatch:n}=e;return n.add(t,i,"never")},I=(e,t,i,n,r,a,o)=>d(e)?P(e,t,i):D(e,t,i,n,r,a,o),P=(e,t,i)=>{const n={name:t.name,session_id:t.session_id,view_id:t.view_id,properties:t.properties,time:new Date};return"function"==typeof i.error&&i.error(e.error.message),Promise.resolve({event:n,error:(0,f.G)(e)})},D=(e,t,i,n,r,a,o)=>{const s=(e=>void 0!==e.properties)(e)?c(Object.assign(Object.assign({},e),{session_id:t.session_id,view_id:t.view_id})):l(e,t);return q(s,r,a,o).then((()=>("function"==typeof i.success&&i.success(s),n.add(s,{persistOnDisk:!0}),{event:s,error:f.YP})))},q=(e,t,i,n)=>T.has(e.name)?(0,s.zG)(t.startTimer("sdk_events_querylanguage_seconds",{}),(r=>i.process(e,!0).then((i=>(0,s.zG)(t.stopTimer("sdk_events_querylanguage_seconds",r),(t=>n.log("Processing event",e,"caused the following update",i)),(e=>i)))))):Promise.resolve([{},{segmentsEntered:new Set,segmentsExited:new Set,cohortsEntered:new Set,cohortsExited:new Set}]),M=(e,t,i)=>{O.has(t.name)||e.newEvent(u(t),(0,s.zG)(i,f.fS((()=>null))))},x=new Set(["ThirdPartySegments","SlotRendered"]),A=new Set([...h.D0?["PageviewEngagement"]:[],...h.ED?["SegmentEntry","SegmentExit"]:[],"VideoEngagement"]),C=new Set(["PageviewComplete"]),O=new Set(["PrebidAuctions"]),T=new Set(["!UpdateLookalikeModels","!UpdateSecondPartyData","!UpdateThirdPartyData","GamLogSlotClicked","LinkClick","Pageview","PageviewComplete","PageviewEngagement","PrebidBid","SegmentEntry","SlotClicked","SlotViewable","Tracking"]);function U(e,t,i){const{api:o,enrichers:c,logger:u,metrics:l,queryManager:d,stateSync:p,unprocessedPVC:g,userId:h}=e;return r.K4((()=>{const e=new a,r=new m(e,o,l,h,i);return{allEvents:()=>i.all(),getStateSizeInBytes:()=>i.getStateSizeInBytes(),on:(t,i)=>e.addListener({name:t,callback:i,once:!1}),once:(t,i)=>e.addListener({name:t,callback:i,once:!0}),reset:e=>i.reset(e),track:a=>{var{client:m,event:h,useBeacon:v}=a,b=(0,n._T)(a,["client","event","useBeacon"]);const{output:y,isFullyEnriched:w}=c.enrich(h.properties,A.has(h.name)),k=Object.assign(Object.assign({},y),{client:m});l.track({name:w?"sdk_event_enrichment_success_count":"sdk_event_enrichment_fail_count",value:1,labels:{}});const E=(0,s.zG)(t.nonQlCohorts.current,f.fS((()=>[]))),S={user_id:t.userId.current,name:h.name,cohorts:[...E,...t.qlCohorts.current.map(String)],segments:t.qlCohorts.current,properties:k,session_id:h.session_id,view_id:h.view_id};return((e,t)=>_(e,t).then((t=>C.has(e.event.name)?e.unprocessedPVC.reset():(0,s.Q1)())))(Object.assign(Object.assign({},b),{api:o,event:Object.assign(Object.assign({},h),{properties:k}),eventsBatch:r,eventsCache:i,eventHandler:e,isEventFullyEnriched:w,logger:u,metrics:l,queryManager:d,requestData:S,stateSync:p,unprocessedPVC:g}),v)},__deprecated_eventsCache:i}}))}class G{constructor(){this.crypto=window.crypto||window.msCrypto,this.ALG_NAME="AES-GCM"}isAvailable(){var e;return!!(null===(e=this.crypto)||void 0===e?void 0:e.subtle)}generateKey(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.crypto.subtle.generateKey({name:this.ALG_NAME,length:256},e,["encrypt","decrypt"])}encrypt(e,t){const[i,n]=this._encrypt(e,this.str2bytes(t));return i.then((e=>{const t=new Uint8Array(16+e.byteLength);return t.set(n,0),t.set(new Uint8Array(Uint32Array.of(e.byteLength).buffer),12),t.set(new Uint8Array(e),16),t.buffer}))}decrypt(e,t){const i=new Uint8Array(t,0,12),n=new Uint32Array(t,12,1)[0],r=t.slice(16,16+n);return this._decrypt(e,i,r).then(this.bytes2str)}_encrypt(e,t){const i=this.crypto.getRandomValues(new Uint8Array(12));return[this.crypto.subtle.encrypt({name:this.ALG_NAME,iv:i},e,t),i]}_decrypt(e,t,i){return this.crypto.subtle.decrypt({name:this.ALG_NAME,iv:t},e,i)}str2bytes(e){return(new TextEncoder).encode(e).buffer}bytes2str(e){return(new TextDecoder).decode(e)}}var j=i(5e3),R=i(6934);var L=i(7554);class B extends Error{constructor(e){super(e),this.name="StoreClosingError"}}class z{constructor(e,t,n,r,a,o,s,c,u,l){this.version=3;{const d=i(2546);this.db=d.make(e,t,n,r,a,o,s,c,this.version,u,l)().then((0,j.fS)((e=>(0,L.E)(t,u,l))))}}shouldThrowStoreClosingError(e){return"NotFoundError"===e.name||"InvalidStateError"===e.name}makeStoreClosingDuringOpertationError(e){return new B(`Attempted ${e} when the current store is closing.`)}put(e,t){return(0,R.Y3)((()=>this.db.then((i=>i.put(e,t)))),(e=>{const t=(0,o.w)(e);return this.shouldThrowStoreClosingError(t)?this.makeStoreClosingDuringOpertationError("put"):t}))}get(e){return(0,R.Y3)((()=>this.db.then((t=>t.get(e))).then(f.ij)),(e=>{const t=(0,o.w)(e);return this.shouldThrowStoreClosingError(t)?this.makeStoreClosingDuringOpertationError("get"):t}))}delete(e){return(0,R.Y3)((()=>this.db.then((t=>t.delete(e)))),(e=>String(e)))}deleteStore(){return(0,R.Y3)((()=>this.db.then((e=>e.deleteStore()))),(e=>String(e)))}}var N=i(1500),$=i(3328),F=i(5151),W=i(2652);const K="permutive-events-cache",V="permutive-events-for-page",Y="[EVENTSCACHE]";class Q{constructor(e,t,i,n,r,a,o,c){this.config=e,this.namespace=t,this.logger=i,this.api=n,this.trace=r,this.metrics=a,this.userId=o,this.makeEventsStore=c,this.eventPutQueue=Promise.resolve(j.F2(null)),this.eventsCache=this.makeEventsRepository(K),this.eventsForPage=this.makeEventsRepository(V),this.debouncedReportError=(()=>new g.b(5e3,5e3).schedule((e=>this.api.reportError(e.errorMessage,e.userId))))(),this.eventStore=c(),this.eventsTTLInMilliseconds=(0,s.zG)((0,f.ij)(this.config.eventsTTLInDays),(0,f.tS)((e=>"number"==typeof e&&e>0?(0,f.G)(24*e*3600):f.YP))),this.eventsCache.events=(0,W.PQ)((()=>{const e=this.trace.startSpan("load_event_cache");return this.loadFromDisk().then((t=>(e.finish(),this.logDebug(`Event cache loaded, #e ${t.length}`),t)))})),this.readiness=this.eventsCache.events.then((()=>this.migratePreviousPagesEvents()))}migratePreviousPagesEvents(){return(0,n.mG)(this,void 0,void 0,(function*(){const e=this.trace.startSpan("migrate_previous_for_page_events"),t=(0,F.pE)((e=>(0,R.Y3)((()=>e.flush()),o.w)));return(0,s.zG)([this.eventsForPage,this.eventsCache],t,(0,F.UI)((t=>{const i=$.bj(t);return i.length>0&&this.api.reportError(`Migrate previous events failed. Got:\n${i.join("\n ")}`,this.userId.get()),e.finish()})),(e=>e()))}))}all(){return Promise.all([this.eventsCache.events,this.eventsForPage.events]).then(N.xH)}add(e,t){let{persistOnDisk:i}=t;return(0,n.mG)(this,void 0,void 0,(function*(){this.logDebug("Adding to cache",e);return(yield this.eventsForPage.events).push(e),i&&this.readiness.then((()=>this.eventsForPage.flush())),e}))}filterEventsByWorkspace(e){return e}pruneEventsToSizeLimit(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config.eventsCacheLimitBytes;if(i<=0||t<=i)return this.logDebug(`Event size of ${t} less than limit of ${i}`),{events:e,sizeInBytes:t};this.logDebug(`Events before pruning ${e.length}`),this.logDebug(`Pruning events with current size ${t}`,`to ${i}`);let n=1;for(;t>i;)e.splice(0,n),n*=2,t=2*JSON.stringify(e).length;return this.logDebug(`Events after pruning ${e.length}`),this.logDebug(`Events size after pruning ${t}`),{events:e,sizeInBytes:t}}loadFromDisk(){this.logLog("Loading event cache...");const e=this.metrics.startTimer("sdk_load_events_cache_task_duration_seconds",{}),t=e=>{this.metrics.track({name:"sdk_events_cache_byte_total",value:e.sizeInBytes,labels:{}}),this.metrics.track({name:"sdk_events_cache_size_total",value:e.events.length,labels:{}})},i=(0,s.zG)(this.eventsTTLInMilliseconds,(0,f.g_)((0,s.a9)(s.yR),(e=>(0,N.hX)((t=>e>Date.now()-t.time.getTime()))))),r=(0,s.ls)((0,f.fS)((()=>[])),F.of),a=(0,R.g_)((e=>{const t=(0,F.of)([]);return e instanceof B?t:(this.api.reportError(`Error fetching data from store. Got ${e}`,this.userId.get()),()=>(0,n.mG)(this,void 0,void 0,(function*(){return yield this.reset("historical"),t()})))}),r);return(0,s.zG)([this.eventStore.get(K),this.eventStore.get(V)],(0,N.UI)(a),(0,N.vP)(F.oE),(0,F.UI)((t=>(this.logDebug("Read events from store:",t),this.metrics.stopTimer("sdk_load_events_cache_task_duration_seconds",e),t))),(0,F.UI)((0,s.ls)(N.xH,this.filterEventsByWorkspace,(e=>this.pruneEventsToSizeLimit(e,2*JSON.stringify(e).length)),(e=>(this.eventsCache.sizeInBytes=e.sizeInBytes,this.eventsCache.sizeInBytesLastSuccessfulWrite=e.sizeInBytes,e.events.length>0&&t(e),e.events)),(0,N.UI)(c),i)),(e=>e()))}reset(e){return(0,n.mG)(this,void 0,void 0,(function*(){return this.logDebug("Resetting Events Cache"),(0,s.zG)(this.eventStore.deleteStore(),(0,R.UI)((()=>(this.eventStore=this.makeEventsStore(),"historical"===e?Promise.all([this.eventsCache.reset(),this.eventsForPage.flush()]):Promise.all([this.eventsCache.reset(),this.eventsForPage.reset()])))),(0,R.UI)((()=>this.all())),(0,R.g_)((()=>(0,F.of)([])),(e=>(0,s.a9)(e))),(e=>e()))}))}getStateSizeInBytes(){return this.eventsForPage.sizeInBytes+this.eventsCache.sizeInBytes}makeEventsRepository(e){const t=e=>(0,n.mG)(this,void 0,void 0,(function*(){return this.logDebug(`Writing ${e.length} events to ${c.key}`),this.eventPutQueue=this.eventPutQueue.then((t=>this.eventStore.put(e.map(u),c.key)()))})),i=()=>(0,n.mG)(this,void 0,void 0,(function*(){return this.logDebug(`Deleting events for ${c.key}`),this.eventStore.delete(c.key)()})),r=()=>(0,n.mG)(this,void 0,void 0,(function*(){const e=this.trace.startSpan(`write_${c.key}`),i=e=>(0,n.mG)(this,void 0,void 0,(function*(){const t=`Events cache failed to put ${c.key}. Got ${e}`;return e instanceof B?this.logError(t):(e=>"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)(e)?(this.logError(t),c.retryAttempts<9?(c.retryAttempts+=1,this.logDebug(`Attempt #${c.retryAttempts} to write ${c.key} to EventsStore`),yield s(),r()):(this.logDebug(`Attempted ${c.retryAttempts} rewrite attempts and reached limit of 9 max writes.`,"Reporting QuotaExceededError to API"),this.debouncedReportError({errorMessage:t,userId:this.userId.get()}))):void 0})),a=()=>(this.logDebug(`Successfully wrote events for ${c.key} after ${c.retryAttempts} attempts`),c.retryAttempts=0,c.sizeInBytes=2*JSON.stringify(o).length,c.sizeInBytesLastSuccessfulWrite=2*JSON.stringify(o).length,Promise.resolve()),o=yield c.events;return t(o).then((e=>(0,j.EQ)(i,a)(e))).then((t=>e.finish()))})),a=(e,t)=>(0,n.mG)(this,void 0,void 0,(function*(){const i=yield e.events,n=2*JSON.stringify(i).length,r=this.pruneEventsToSizeLimit(i,n,t);return e.events=Promise.resolve(r.events),e.sizeInBytes=r.sizeInBytes,t-e.sizeInBytes})),o=(e,t)=>(0,n.mG)(this,void 0,void 0,(function*(){if(0===e.length||0===t)return;const[i,...n]=e,r=yield a(i,t);return this.logDebug(`${r} left after pruning ${i.key}`),o(n,r)})),s=()=>(0,n.mG)(this,void 0,void 0,(function*(){const e=this.eventsForPage.sizeInBytes-this.eventsForPage.sizeInBytesLastSuccessfulWrite;if(e<=0)return void this.logWarn(`${this.eventsForPage.key} failed to write the same or smaller events cache of size ${e}`);const t=1.2*e,i=[this.eventsCache,this.eventsForPage];this.logDebug(`Pruning ${t} bytes from`,i),yield o(i,t)})),c={key:e,events:Promise.resolve([]),sizeInBytes:0,sizeInBytesLastSuccessfulWrite:0,retryAttempts:0,flush:r,reset:()=>(0,n.mG)(this,void 0,void 0,(function*(){c.events=Promise.resolve([]),c.sizeInBytes=0,c.sizeInBytesLastSuccessfulWrite=0,yield i()}))};return c}logDebug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.debug(Y,...t)}logWarn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.warn(Y,...t)}logError(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.error(Y,...t)}logLog(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.log(Y,...t)}}class H extends Q{constructor(e,t,i,n,r,a,o,s){super(e,t,i,n,r,a,o,(()=>new z(e,t,a,new G,"a9695278-4085-40b3-9f02-8d4c38a6ff01",`events_${o.get()}`,`keys_${o.get()}`,"events",i,s)))}}function J(e,t){return U(e,t,new H(e.config,e.namespace,e.logger,e.api,e.trace,e.metrics,e.userId,e.consentTracking))}var X=i(7826),Z=i(2851);const ee="_pnativo",te=function(e){let{externalData:t}=e;return r.K4((()=>{t.removeExternalData(ee)}))};var ie=i(4011),ne=i(7927),re=i(6017);function ae(e,t){const i=function(e){const t=function(e){let{logger:t,messages:i,queryManager:n}=e;const r="[Ref: QL segments]",a=()=>[...n.userSegments.getAllAsList()],[o,c]=Z.Ue(a());return t.debug(r,"initialised",{segments:o.current}),i.on("permutive:segments:updated",(()=>{const e=a();t.debug(r,"updated",{segments:e}),c(e)})),i.on("permutive:reset",(()=>{const e=a();t.debug(r,"reset"),c(e)})),(0,s.zG)(o,Z.D8($.Eh(ie.Eq)))}(e);return(0,s.zG)(t,Z.UI((0,s.ls)($.uK((e=>e<1e7)),(e=>{let{left:t,right:i}=e;return{custom:i,standard:t}}))),(e=>({all:t,custom:(0,s.zG)(e,Z.UI((e=>{let{custom:t}=e;return t}))),standard:(0,s.zG)(e,Z.UI((e=>{let{standard:t}=e;return t})))})))}(e),n=function(e){let{messages:t,queryManager:i}=e;const[n,r]=Z.Ue(f.YP);return t.on("permutive:segments:updated",(()=>{r(f.G(i.stateMap.value))})),t.on("permutive:reset",(()=>r(f.YP))),Z.UI(f.UI(oe),n)}(e);return e.queryManager.setLalRef(t.lookalikeModels),e.queryManager.setTpdRef(t.thirdPartyData),r.K4((()=>({cohorts:i,tpdUsage:n})))}const oe=(0,s.ls)(ne.UI((e=>{var t;return null!==(t=e.activations)&&void 0!==t?t:{}})),ne.hX((0,s.zG)(Boolean,(0,re.xD)((0,re.ff)(ne.xb)))));var se,ce,ue,le,de,pe=-1,ge=function(e){addEventListener("pageshow",(function(t){t.persisted&&(pe=t.timeStamp,e(t))}),!0)},me=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},fe=function(){var e=me();return e&&e.activationStart||0},he=function(e,t){var i=me(),n="navigate";return pe>=0?n="back-forward-cache":i&&(document.prerendering||fe()>0?n="prerender":document.wasDiscarded?n="restore":i.type&&(n=i.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},_e=function(e,t,i){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return n.observe(Object.assign({type:e,buffered:!0},i||{})),n}}catch(e){}},ve=function(e,t,i,n){var r,a;return function(o){t.value>=0&&(o||n)&&((a=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,i),e(t))}},be=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},ye=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},we=function(e){var t=!1;return function(i){t||(e(i),t=!0)}},ke=-1,Ee=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Se=function(e){"hidden"===document.visibilityState&&ke>-1&&(ke="visibilitychange"===e.type?e.timeStamp:0,Pe())},Ie=function(){addEventListener("visibilitychange",Se,!0),addEventListener("prerenderingchange",Se,!0)},Pe=function(){removeEventListener("visibilitychange",Se,!0),removeEventListener("prerenderingchange",Se,!0)},De=function(){return ke<0&&(ke=Ee(),Ie(),ge((function(){setTimeout((function(){ke=Ee(),Ie()}),0)}))),{get firstHiddenTime(){return ke}}},qe=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Me=[1800,3e3],xe=[.1,.25],Ae=function(e,t){t=t||{},function(e,t){t=t||{},qe((function(){var i,n=De(),r=he("FCP"),a=_e("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<n.firstHiddenTime&&(r.value=Math.max(e.startTime-fe(),0),r.entries.push(e),i(!0)))}))}));a&&(i=ve(e,r,Me,t.reportAllChanges),ge((function(n){r=he("FCP"),i=ve(e,r,Me,t.reportAllChanges),be((function(){r.value=performance.now()-n.timeStamp,i(!0)}))})))}))}(we((function(){var i,n=he("CLS",0),r=0,a=[],o=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=a[0],i=a[a.length-1];r&&e.startTime-i.startTime<1e3&&e.startTime-t.startTime<5e3?(r+=e.value,a.push(e)):(r=e.value,a=[e])}})),r>n.value&&(n.value=r,n.entries=a,i())},s=_e("layout-shift",o);s&&(i=ve(e,n,xe,t.reportAllChanges),ye((function(){o(s.takeRecords()),i(!0)})),ge((function(){r=0,n=he("CLS",0),i=ve(e,n,xe,t.reportAllChanges),be((function(){return i()}))})),setTimeout(i,0))})))},Ce={passive:!0,capture:!0},Oe=new Date,Te=function(e,t){se||(se=t,ce=e,ue=new Date,je(removeEventListener),Ue())},Ue=function(){if(ce>=0&&ce<ue-Oe){var e={entryType:"first-input",name:se.type,target:se.target,cancelable:se.cancelable,startTime:se.timeStamp,processingStart:se.timeStamp+ce};le.forEach((function(t){t(e)})),le=[]}},Ge=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var i=function(){Te(e,t),r()},n=function(){r()},r=function(){removeEventListener("pointerup",i,Ce),removeEventListener("pointercancel",n,Ce)};addEventListener("pointerup",i,Ce),addEventListener("pointercancel",n,Ce)}(t,e):Te(t,e)}},je=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Ge,Ce)}))},Re=[100,300],Le=0,Be=1/0,ze=0,Ne=function(e){e.forEach((function(e){e.interactionId&&(Be=Math.min(Be,e.interactionId),ze=Math.max(ze,e.interactionId),Le=ze?(ze-Be)/7+1:0)}))},$e=function(){return de?Le:performance.interactionCount||0},Fe=function(){"interactionCount"in performance||de||(de=_e("event",Ne,{type:"event",buffered:!0,durationThreshold:0}))},We=[200,500],Ke=0,Ve=function(){return $e()-Ke},Ye=[],Qe={},He=function(e){var t=Ye[Ye.length-1],i=Qe[e.interactionId];if(i||Ye.length<10||e.duration>t.latency){if(i)i.entries.push(e),i.latency=Math.max(i.latency,e.duration);else{var n={id:e.interactionId,latency:e.duration,entries:[e]};Qe[n.id]=n,Ye.push(n)}Ye.sort((function(e,t){return t.latency-e.latency})),Ye.splice(10).forEach((function(e){delete Qe[e.id]}))}},Je=[2500,4e3],Xe={};const Ze=function(e){let t=0;const i=i=>{if(0===t)return;const n=et(i);n&&e.metrics.track({name:`sdk_web_vitals_${n.suffix}`,labels:{},value:n.value})},n=(0,W.HP)((()=>{Ae(i),function(e,t){t=t||{},qe((function(){var i,n=De(),r=he("LCP"),a=function(e){var t=e[e.length-1];t&&t.startTime<n.firstHiddenTime&&(r.value=Math.max(t.startTime-fe(),0),r.entries=[t],i())},o=_e("largest-contentful-paint",a);if(o){i=ve(e,r,Je,t.reportAllChanges);var s=we((function(){Xe[r.id]||(a(o.takeRecords()),o.disconnect(),Xe[r.id]=!0,i(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,s,!0)})),ye(s),ge((function(n){r=he("LCP"),i=ve(e,r,Je,t.reportAllChanges),be((function(){r.value=performance.now()-n.timeStamp,Xe[r.id]=!0,i(!0)}))}))}}))}(i),function(e,t){t=t||{},qe((function(){var i,n=De(),r=he("FID"),a=function(e){e.startTime<n.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),i(!0))},o=function(e){e.forEach(a)},s=_e("first-input",o);i=ve(e,r,Re,t.reportAllChanges),s&&ye(we((function(){o(s.takeRecords()),s.disconnect()}))),s&&ge((function(){var n;r=he("FID"),i=ve(e,r,Re,t.reportAllChanges),le=[],ce=-1,se=null,je(addEventListener),n=a,le.push(n),Ue()}))}))}(i),function(e,t){t=t||{},qe((function(){Fe();var i,n=he("INP"),r=function(e){e.forEach((function(e){e.interactionId&&He(e),"first-input"===e.entryType&&!Ye.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&He(e)}));var t,r=(t=Math.min(Ye.length-1,Math.floor(Ve()/50)),Ye[t]);r&&r.latency!==n.value&&(n.value=r.latency,n.entries=r.entries,i())},a=_e("event",r,{durationThreshold:t.durationThreshold||40});i=ve(e,n,We,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),ye((function(){r(a.takeRecords()),n.value<0&&Ve()>0&&(n.value=0,n.entries=[]),i(!0)})),ge((function(){Ye=[],Ke=$e(),n=he("INP"),i=ve(e,n,We,t.reportAllChanges)})))}))}(i)}));return r.K4((i=>{let{onServiceStop:r}=i;t++,r((()=>{t--})),e.metrics.isEnabled()&&n()}))};const et=e=>(e=>"CLS"===e.name)(e)?{value:e.value,suffix:`${e.name.toLowerCase()}_score`}:(e=>["INP","FID","LCP"].includes(e.name))(e)?{value:e.value/1e3,suffix:`${e.name.toLowerCase()}_seconds`}:void 0;var tt=i(926),it=i(4923);const nt=(e,t)=>((e,t,i)=>{const{activationManager:a,externalData:o,metrics:c,permutiveData:u,queryManager:l,stateSync:d,trace:p}=e;return(0,s.zG)(ae(e,{lookalikeModels:t.lookalikeModels,thirdPartyData:(0,s.zG)(t.thirdPartyData,Z.UI(f.UI(it.UI((e=>{const t={};for(const i of e)t[i]=!0;return t})))))}),r.YO("queryLanguage"),r.ak("webVitals",(()=>Ze(e))),r.ak("eventCollection",(n=>{let{queryLanguage:r}=n;return i(e,{nonQlCohorts:t.nonQlCohorts,qlCohorts:r.cohorts.all,userId:t.userId})})),r.ak("nativo",(e=>{let{queryLanguage:i}=e;return te(Object.assign({activationManager:a,externalData:o,metrics:c,queryLanguageCohorts:i.cohorts.all},t))})),r.ak("twitterPixel",(e=>{let{queryLanguage:i}=e;return(0,tt.eJ)(Object.assign({activationManager:a,metrics:c,permutiveData:u,queryLanguageCohorts:i.cohorts.all},t))})),r.ak("prebidJS",(()=>(0,X.dN)(e))),r.ak("reset",(e=>{let{eventCollection:t}=e;return r.of((e=>(0,n.mG)(void 0,void 0,void 0,(function*(){l.reset();const i=e.preserveEventsFromCurrentView?"historical":void 0,n=yield t.reset(i),r=p.startSpan("ss_reset_sync");e.downloadState?yield d.resetSync():d.reset(),yield l.bootstrap(n),r.finish()}))))})))})(e,t,J);function rt(e){return"consentTracking"in e?e.consentTracking.consentRef:Z.a9(!0)}function at(e){let{messages:t}=e;const[i,n]=Z.Ue(new Set);return t.on("permutive:addon:preinit",(e=>n(new Set([...i.current,e])))),i}function ot(e){let{messages:t,realtime:i}=e;var n;const[r,a]=Z.Ue(null!==(n=i.isRealtime())&&void 0!==n&&n);return t.on("permutive:realtime",(()=>a(!0))),r}function st(){const e=()=>Math.floor(Date.now()/1e3),[t,i]=Z.Ue(e());return setInterval((()=>i(e())),1e3),t}function ct(e,t){const i=function(e){const{activationManager:t,api:i,config:n,enrichers:r,externalData:a,logger:o,messages:s,metrics:c,permutiveData:u,namespace:l,network:d,queryManager:p,stateSync:g,trace:m,track:f,unprocessedPVC:h,urls:_,userId:v}=e,b="consentTracking"in e?e.consentTracking:{consentRef:Z.a9(!0),listenForConsent:()=>0,isRevoked:()=>!1,isGiven:()=>!0};return{activationManager:t,api:i,config:n,consentTracking:b,enrichers:r,externalData:a,logger:o,messages:s,metrics:c,permutiveData:u,namespace:l,permutiveApi:d,permutiveUrls:_,queryManager:p,reportError:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.reportError(e,null==t?void 0:t.userId,null==t?void 0:t.timestamp)},stateSync:g,trace:m,track:f,unprocessedPVC:h,userId:v}}(e),r=function(e){return{addonsLoaded:e.addonsLoaded,consent:rt(e),currentTimestampSecs:st(),enabledAddons:at(e),identities:e.identities,realtime:ot(e),sessionId:Z.a9(e.sessionManager.getSessionId()),userId:e.userId.ref,viewId:e.viewId.ref}}(e);return function(e,t,i){const r=5e3;return(0,s.zG)(e,(a=r,e=>t=>{var{onServiceStop:i}=t,r=(0,n._T)(t,["onServiceStop"]);let o=[];const{value:s,state:c}=e(Object.assign(Object.assign({},r),{onServiceStop:e=>o.push(e)})),[u,l]=Z.Ue(c.current),d=()=>l(c.current),p=setInterval(d,a);let g=!1;return(0,W.aT)((()=>!g&&d()),navigator.userAgent),i((()=>{g=!0,o.forEach((e=>e())),d(),clearInterval(p)})),{value:s,state:u}}),ut,function(e){return t=>(0,s.ls)((0,W.rO)({previousState:t=>e.current?t:void 0}),t,(0,W.rO)({state:(0,s.ls)((t=>Z.vP(e,t)),Z.UI((e=>{let[t,i]=e;return t?i:void 0})))}))}(i),function(e){return t=>(0,s.ls)((0,W.rO)({previousState:()=>localStorage.getItem(e)}),t,(0,W.rO)({state:(0,W.bw)(Z.YP((t=>{switch(typeof t){case"string":localStorage.setItem(e,t);break;case"undefined":localStorage.removeItem(e);break;case"object":if(null===t){localStorage.removeItem(e);break}throw new Error("Permutive app raised an invalid state.");default:throw new Error("Permutive app raised an invalid state.")}})))}))}(t))({onServiceStop:s.Q1}).value;var a}(t(i,r),e.namespace.getNamespacedStorageKey("permutive-app"),r.consent)}function ut(e){return(0,s.ls)((0,W.rO)({previousState:e=>{if("string"!=typeof e)return{};try{return JSON.parse(e)}catch(e){return{}}}}),e,(0,W.rO)({state:Z.UI(JSON.stringify)}))}var lt=i(5912),dt=i(7241),pt=i(2197),gt=i(4870),mt=i(9853);const ft="[Prebid Monitoring]",ht=(e,t)=>{e.metrics.track({name:"sdk_prebid_monitoring_key_flag_count_total",labels:t,value:1})},_t=(e,t)=>{e.metrics.track({name:"sdk_prebid_monitoring_key_bidder_flag_count_total",labels:t,value:1})},vt=function(e,t){const i=bt(e);return r.K4((()=>(0,s.zG)(t,Z.UI((0,s.ls)(f.DT((e=>e.consent)),f.UI((e=>e.prebidJS)))),Z.D8(f.Eh((0,W.Or)())),Z.bw((0,s.ls)(f.tS((e=>e.completedChecks?e.mainPair:f.YP)),f.UI((t=>ht(e,{flag:"prebid_main_key",prebid_key:t.windowPropertyKey}))))),Z.UI(f.UI((e=>(0,s.zG)(e.mainPair,f.UI((t=>[t,...e.otherPairs])),f.fS((()=>e.otherPairs)))))),Z.g_(new Set,((t,n)=>(0,s.zG)(n,f.UI($.hX((e=>!t.has(e.windowPropertyKey)))),f.hX($.Od),(0,W.bw)(f.EQ((()=>e.logger.debug(ft,"Nothing to report")),(t=>e.logger.debug(ft,"Reporting",t)))),f.fS((()=>[])),$.UI((t=>(0,s.zG)((t=>(0,s.zG)(j.Y3((function(){var i,n;const{pbjs:r,windowPropertyKey:a}=t;e.logger.log(ft,`Reporting on "${a}"`,t);const o=yt(r);e.logger.debug(ft,`Version ${r.version} parsed as`,o);const c=(0,X.zi)(r);e.logger.debug(ft,"Read config",c);const u=(0,s.zG)(null!==(n=null===(i=c.realTimeData)||void 0===i?void 0:i.dataProviders)&&void 0!==n?n:[],$.Ew((e=>"permutive"===e.name)));return e.logger.debug(ft,"Read data provider config",u),{pbjs:r,config:c,dataProviderConfig:u,installedModules:r.installedModules||[],version:o,windowPropertyKey:a}}),o.w),j.ak("bidders",(e=>i.acBidders(e))),j.ak("permutiveRTDProvider",(e=>i.permutiveRTDProvider(e))),j.ak("consent",(e=>i.consent(e))),j.ak("targeting",(e=>i.targeting(e)))))(t),j.Pd((i=>e.reportError(`[Prebid Monitoring] Failed to report pair "${t.windowPropertyKey}", ${i.message}`)),(()=>t.windowPropertyKey))))),$.hp,(e=>new Set([...t,...e]))))),(e=>({reportedKeys:e})))))};const bt=e=>({acBidders:t=>j.Y3((()=>{const i=(0,mt.Hn)("prebid")("data_provider_config",{ac_bidders:[]}),n=t.version.major>=7&&t.version.minor>=13?i.ac_bidders:[],r=(0,s.zG)(t.dataProviderConfig,f.UI((e=>{var t,i;return null!==(i=null===(t=null==e?void 0:e.params)||void 0===t?void 0:t.acBidders)&&void 0!==i?i:[]})),f.fS((()=>[]))),a=[...new Set([...n,...r])];return e.logger.debug(ft,"Determined acBidders as",{acBidders:a,dynamicBidders:n,staticBidders:r}),a.forEach((i=>{_t(e,{flag:"prebid_ac_bidder",prebid_key:t.windowPropertyKey,prebid_bidder:i})})),{acBidders:a,dynamicBidders:n,readBidders:r}}),o.w),consent:t=>j.Y3((()=>{var i,n,r,a,o,s;const c=t.windowPropertyKey;t.config.consentManagement&&"object"==typeof t.config.consentManagement&&ht(e,{prebid_key:c,flag:"prebid_has_consent_management"});const u=t.installedModules.includes("gdprEnforcement");u&&ht(e,{prebid_key:c,flag:"prebid_gdpr_enforcement_module"});const l=(null===(s=null===(o=null===(a=null===(r=null===(n=null===(i=t.config)||void 0===i?void 0:i.consentManagement)||void 0===n?void 0:n.gdpr)||void 0===r?void 0:r.rules)||void 0===a?void 0:a.find((e=>"storage"===(null==e?void 0:e.purpose))))||void 0===o?void 0:o.vendorExceptions)||void 0===s?void 0:s.includes("permutive"))||!1;return l&&ht(e,{prebid_key:c,flag:"prebid_storage_exception"}),{hasGDPREnforcementModule:u,addedAsStorageException:l}}),o.w),permutiveRTDProvider:t=>j.Y3((()=>{const i=t.installedModules.includes("permutiveRtdProvider");return i&&ht(e,{prebid_key:t.windowPropertyKey,flag:"prebid_permutive_rtd"}),i}),o.w),targeting:t=>{const i=(0,s.ls)($.UI((e=>[e,null])),it.sq),n=(t,i)=>(0,s.zG)(t,(0,W.bw)((t=>e.logger.debug(ft,`Processing ${t.length} bidder request(s)`,t))),$.hX((e=>i.hasOwnProperty(e.bidderCode)&&null===i[e.bidderCode])),dt.vM((e=>e.bidderCode)),it.DZ($.f2((0,W.lo)([[e=>(e=>{var t,i,n;const r=null===(i=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.data)||void 0===i?void 0:i.find((e=>"permutive.com"===e.name));return!!(null===(n=null==r?void 0:r.segment)||void 0===n?void 0:n.length)})(e.ortb2),()=>f.G("ortb2")],[e=>{return t=e.params,["permutive","p_standard"].some((e=>{var i,n,r,a;return(null===(n=null===(i=null==t?void 0:t.visitor)||void 0===i?void 0:i[e])||void 0===n?void 0:n.length)||(null===(a=null===(r=null==t?void 0:t.keywords)||void 0===r?void 0:r[e])||void 0===a?void 0:a.length)}));var t},()=>f.G("params")],()=>f.YP]))),(0,W.bw)((t=>e.logger.debug(ft,"Bidders targeting method's updated",t)))),r=r=>{e.logger.debug(ft,"Bidders found with no targeting method",r);let a=i(r);const o=i=>(0,s.zG)(n([i],a),(0,W.bw)((e=>{a=Object.assign(Object.assign({},a),e)})),(0,W.bw)(it.Su(((i,n)=>_t(e,{flag:`prebid_${n}_targeting_success`,prebid_key:t.windowPropertyKey,prebid_bidder:i})))),(0,W.bw)((()=>{Object.values(a).includes(null)||(e.logger.debug(ft,`Cleaning up "bidRequested" listener for ${t.windowPropertyKey}`),t.pbjs.offEvent("bidRequested",o))})));t.pbjs.onEvent("bidRequested",o)};return j.Y3((()=>{const a=(0,s.zG)(t.pbjs.getEvents(),$.DZ((0,s.ls)(f.DT((e=>"bidRequested"===e.eventType)),f.UI((0,W.vg)("args")))));return(0,s.zG)(t.bidders.acBidders,f.DT($.Od),f.EQ((()=>e.logger.debug(ft,"No bidders for targeting")),(0,s.ls)(i,(e=>Object.assign(Object.assign({},e),n(a,e))),it.uK(pt.ff((e=>null===e))),gt.Pd((0,s.ls)(it.XP,f.DT($.Od),f.UI(r)),it.Su(((i,n)=>_t(e,{prebid_bidder:i,prebid_key:t.windowPropertyKey,flag:`prebid_${n}_targeting_success`})))))))}),o.w)}}),yt=e=>{const[t,i,n]=e.version.split("-")[0].replace("v","").split(".").map((e=>parseInt(e)));return{major:t,minor:i,patch:n}};var wt=i(9557);const kt=function(e){let{externalData:t}=e;return r.K4((()=>{t.removeExternalData(Et)}))};const Et="_pfws";var St=i(6930),It=i(167);const Pt=()=>({allCohorts:[],gam:[],xandrSsp:[]}),Dt=function(e,t){return r.K4((()=>Z.a9(Pt())))};const qt=(e,t,i,n)=>t+(i-t)*n/(Math.pow(2,e)-1),Mt=(e,t)=>{const i=(e,t)=>{const i=e.toString(16);return("0".repeat(t)+i).slice(Math.min(-t,-i.length))};return`${i(e.getUint32(t),8)}-${i(e.getUint16(t+4),4)}-${i(e.getUint16(t+6),4)}-${i(e.getUint16(t+8),4)}-${i(e.getUint32(t+10),8)}${i(e.getUint16(t+14),4)}`},xt=e=>{const t=[1,2],i=e.getInt8(0);if(1===i)return At(e);if(2===i)return Ct(e);{const n=(0,f.Y3)((()=>Mt(e,1))),r=(0,f.g_)((()=>"Couldn't decode model id"),(e=>`Model id was ${e}`))(n);throw new Error(`Decoding only supported for version(s): ${t}; Supplied version was ${i}; ${r}`)}},At=e=>Ot(e,1),Ct=e=>Ot(e,2),Ot=(e,t)=>{const i=Mt(e,1),n=((e,t)=>{switch(String.fromCharCode(e.getInt8(t))){case"1":return"1p";case"3":return"3p"}})(e,17),r=e.getInt8(18),a=e.getFloat32(19),o=e.getFloat32(23),[s,c]=((e,t,i,n,r,a)=>{const o={};let s=0;do{let i;1===a?(s=e.getUint16(t),i=e.getUint16(t+2),t+=4):(s=e.getUint32(t),i=e.getUint16(t+4),t+=6),o[0===s?"const":s]=i.toString(36)}while(0!==s);return[o,t]})(e,27,0,0,0,t);return[{version:t,id:i,data_preference:n,weights:s,precision:r,min:a,max:o},c]};class Tt{constructor(e,t,i,r,a){this.network=e,this.logger=t,this.api=i,this.metrics=r,this.permutiveData=a,this.MODELS_LAST_UPDATED_KEY="models_last_updated",this.MODELS_DATA_KEY="models_data",this.MODELS_SYNC_TIMEOUT_IN_SECONDS=86400;const o=a.getData(this.MODELS_LAST_UPDATED_KEY),s=r.startTimer("sdk_load_lookalike_models_task_duration_seconds",{}),c=()=>this.fetchModels().then((e=>(this.permutiveData.setData(this.MODELS_DATA_KEY,e),this.permutiveData.setData(this.MODELS_LAST_UPDATED_KEY,(new Date).getTime()),e))).catch((e=>(this.api.reportError("Failed decoding binary models.\nError: "+e),{}))),u=()=>(0,n.mG)(this,void 0,void 0,(function*(){return this.permutiveData.getData(this.MODELS_DATA_KEY)}));this.models=(()=>(!o||isNaN(o)||(new Date).getTime()>o+1e3*this.MODELS_SYNC_TIMEOUT_IN_SECONDS?c():u().then((e=>e||c()))).then((e=>(e=>{const t=Object.keys(e);return t.length>0&&e[t[0]].hasOwnProperty("precision")})(e)?(e=>{const t={},i=Object.keys(e),n=e=>{const t={"1p":{}},{precision:i,min:n,max:r}=e,a=e["1p"],o=Object.keys(a);for(let e=0;e<o.length;e++){const s=o[e],c=parseInt(a[s],36);t["1p"][s]=qt(i,n,r,c)}return t};for(let r=0;r<i.length;r++){const a=i[r],o=e[a];t[a]=n(o)}return t})(e):e)))().then((e=>(this.metrics.stopTimer("sdk_load_lookalike_models_task_duration_seconds",s),e)))}getModels(){return this.models}extractModelsFromJsonArray(e,t){const i={};for(let n=0;n<e.length;n++){const r=e[n],{id:a,weights:o}=r;if(void 0===a||void 0===o)continue;const s=t(r);Object.keys(o).forEach((e=>{s["1p"][e]=o[e]})),i[a]=s}return i}fetchModels(){const e=()=>this.api.modelsJson(this.metrics).then((e=>this.extractModelsFromJsonArray(e.models,(()=>({"1p":{}}))))).catch((e=>(this.api.reportError("Failed fetching json models.\nError: "+e),{})));return(()=>this.api.modelsBinary(this.metrics).then((e=>this.extractModelsFromJsonArray(function(e){const t=[];let i=0;for(;i<e.byteLength;){const[n,r]=xt(new DataView(e,i));t.push(n),i+=r}return t}(e),(e=>{let{precision:t,max:i,min:n}=e;return{"1p":{},precision:t,min:n,max:i}})))).catch((t=>(this.logger.log("Failed fetching binary models, reverting to JSON.\nError: "+t),this.metrics.track({name:"sdk_binary_models_missing_count",value:1,labels:{}}),e()))))()}}const Ut=function(e){return r.K4((()=>{const t=new Tt(e.permutiveApi,e.logger,e.api,e.metrics,e.permutiveData);return(0,s.zG)(t.getModels(),Z.p4,Z.UI(f.tS(f.Uo)))}))};const Gt=(e,t)=>(0,s.zG)(r.vP({classificationModels:Dt(e,t)}),r.UI((e=>e.classificationModels))),jt=function(e,t){return(0,s.zG)(Rt(e),(0,It.n)({backoffAfterErrorMs:6e5}),r.VS((e=>St.m(Z.UI((t=>{let{tpdUsage:i,userId:n}=t;return{validityKey:()=>n,freshnessKey:(0,s.ls)((()=>i),f.EQ((()=>0),(0,s.ls)(JSON.stringify,W.vp))),refresh:(0,s.ls)((()=>i),f.hX((e=>Object.keys(e).length>0)),f.tS((t=>e({user_id:n,time:new Date,tpd_segments:t}))))}}),t)))),r.UI(s.Q1))};const Rt=e=>t=>{const{config:i,metrics:n,permutiveApi:r,permutiveUrls:a}=e,o=n.startTimer("sdk_http_tpd_usage_seconds",{});return r.req({url:a.getEndpointUrl("/tpd/usage",f.G(i.apiVersion)),method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1}).then((e=>(n.stopTimer("sdk_http_tpd_usage_seconds",o),e)))};function Lt(e,t){const[i,n]=Z.Ue(0);let a=!1;const o=()=>{try{a=!0,n(i.current+1)}finally{a=!1}},c=["amp","gigya","pxid","sailthru"],u=(0,s.zG)(t.identities,Z.UI(it.z7((e=>!c.includes(e)))));return(0,s.zG)(r.vP({fetchFromNewEndpoint:(0,s.zG)(Bt(e),(0,It.n)({backoffAfterErrorMs:6e5})),fetchFromLegacyEndpoint:(0,s.zG)(zt(e),(0,It.n)({backoffAfterErrorMs:6e5}))}),r.VS((n=>{let{fetchFromNewEndpoint:r,fetchFromLegacyEndpoint:o}=n;const c=t=>(0,s.zG)(r(t),f.UI((e=>e.catch((()=>(0,s.zG)(o(t.identities),f.fS((()=>e))))))),f.wp((()=>o(t.identities))),f.UI((0,W.bw)((t=>{const i=e.metrics.startTimer("sdk_get_third_party_data_task_duration_seconds",{});t.catch(s.Q1).then((()=>{e.metrics.stopTimer("sdk_get_third_party_data_task_duration_seconds",i)}))}))));return St.m((0,s.zG)(Z.vP(i,t.userId,t.sessionId,u),Z.UI((e=>{let[t,i,n,r]=e;return{validityKey:()=>i,freshnessKey:()=>`${Nt(r)},${n}`,refresh:()=>(0,s.zG)({userId:i,identities:r},f.DT((e=>{let{identities:t}=e;return a&&!it.xb(t)})),f.tS(c))}}))))})),r.UI((e=>({refresh:o,data:e}))))}const Bt=e=>t=>(0,n.mG)(void 0,void 0,void 0,(function*(){return(yield e.api.reqWithMetrics(e.metrics,"sdk_http_audience_matching_seconds",{url:e.permutiveUrls.getAudienceMatchingEndpointUrl("/id",f.G("v1"),t.userId),payload:{identities:(0,s.zG)(t.identities,it.Yz,$.UI((e=>{let[t,i]=e;return{tag:t,id:i}})))},method:"POST",withCredentials:!1,dataType:"json"})).items})),zt=e=>t=>e.api.reqWithMetrics(e.metrics,"sdk_http_tpd_seconds",{url:e.permutiveUrls.getEndpointUrl("/tpd",f.G(e.config.apiVersion)),method:"POST",payload:{user_id:t},contentType:"text/plain",dataType:"json",withCredentials:!1}),Nt=(0,s.ls)(JSON.stringify,W.vp);const $t=(e,t)=>(0,s.zG)(r.vP({data:Lt(e,{identities:t.identities,sessionId:t.sessionId,userId:t.userId}),usageReporting:jt(e,Z.vP({tpdUsage:t.tpdUsage,userId:t.userId})),removeLegacyDataFromLocalStorage:r.dQ((t=>{let{previousState:i}=t;if(!i){const t=e.namespace.getNamespacedStorageKey("permutive-data-tpd");localStorage.removeItem(t)}return{value:null,state:Z.a9(!0)}}))}),r.ak("analytics",(i=>{let{data:{data:n}}=i;return function(e,t){return r.dQ((i=>{let{previousState:n}=i;var r;return{state:(0,s.zG)(Z.vP(t.userId,t.providerSegments),Z.g_(null!==(r=n)&&"object"==typeof r?r:{userId:"",providerHashes:{}},((t,i)=>{let[n,r]=i;const a=(0,s.zG)(r,f.fS((()=>({})))),o=(0,s.zG)(a,it.UI((0,W.SL)(W.vp))),c=(0,s.zG)(t,f.DT((e=>e.userId===n)),f.UI((e=>e.providerHashes)),f.fS((()=>({}))));return(0,s.zG)(a,it.z7((e=>o[e]!==(c[e]||0))),it.Su(((t,i)=>{e("ThirdPartySegments",{data_provider:t,segments:[...i]})}))),{userId:n,providerHashes:o}}))),value:void 0}}))}(e.track,{providerSegments:n,userId:t.userId})})),r.UI((e=>{let{data:t}=e;return{data:t.data,refreshData:t.refresh}})));var Ft=i(5619);Z.a9([]),Z.a9([]),Z.a9([]),Z.a9([]),Z.a9([]),Z.a9([]),Z.a9(Ft.b()),Z.a9(f.YP);function Wt(e,t,i){const{addonsLoaded:n,consent:a,currentTimestampSecs:o,enabledAddons:c,identities:u,realtime:l,sessionId:d,userId:p,viewId:g}=t,[m,h]=(0,s.zG)(Z.Ue(f.YP),(e=>{let[t,i]=e;return[(0,s.zG)(t,Z.VS(f.EQ((()=>Z.a9(f.YP)),Z.UI(f.G)))),i]})),[_,v]=(0,s.zG)(Z.Ue(Z.a9(f.YP)),(e=>{let[t,i]=e;return[Z.xH(t),i]}));return(0,s.zG)(r.vP({lookalikeModels:Ut(e),metricContext:Ft.X({sessionId:d,userId:p,viewId:g})}),r.ak("sdkql",(t=>{let{lookalikeModels:r}=t;return i(e,{addonsLoaded:n,consent:a,initdAddons:c,lookalikeModels:r,nonQlCohorts:m,thirdPartyData:_,userId:p})})),r.ak("demandPartners",(t=>{let{sdkql:{queryLanguage:i}}=t;return((e,t)=>(0,s.zG)(r.vP({ssp:wt.sspService(e.externalData,t)}),r.UI((e=>{let{ssp:t}=e;return t}))))(e,{addonsLoaded:n,consent:a,initdAddons:c,standardCohorts:i.cohorts.standard})})),r.ak("mediaAndEntertainment",(t=>{let{sdkql:{queryLanguage:i}}=t;return((e,t)=>(0,s.zG)(r.vP({freewheel:kt(Object.assign({activationManager:e.activationManager,externalData:e.externalData},t))}),r.UI((0,s.a9)({}))))(e,{addonsLoaded:n,consent:a,initdAddons:c,queryLanguageCohorts:i.cohorts.all})})),r.ak("publishers",(t=>{let{sdkql:{queryLanguage:i}}=t;return((e,t)=>(0,s.zG)(r.vP({addressability:Gt(e,Z.vP(t)),audienceMatching:$t(e,{identities:t.identities,sessionId:t.sessionId,tpdUsage:t.tpdUsage,userId:t.userId})}),r.UI((e=>{let{addressability:t,audienceMatching:i}=e;return{cohorts:{all:Z.UI((e=>e.allCohorts),t),gam:Z.UI((e=>e.gam),t),xandrSsp:Z.UI((e=>e.xandrSsp),t)},refreshThirdPartyData:i.refreshData,thirdPartyData:i.data}}))))(e,{addonsLoaded:n,consent:a,currentTimestampSecs:o,identities:u,initdAddons:c,queryLanguageCohorts:i.cohorts.all,realtime:l,sessionId:d,tpdUsage:i.tpdUsage,userId:p})})),r.ak("advertisers",(t=>{let{demandPartners:i,sdkql:u}=t;return((e,t)=>(0,s.zG)(lt.segmentationService(e,Z.vP(t)),r.YO("segmentation"),r.ak("prebidMonitoring",(()=>vt(e,Z.vP({consent:t.consent,prebidJS:t.prebidJS})))),r.UI((e=>e.segmentation))))(e,{addonsLoaded:n,consent:a,currentTimestampSecs:o,customCohorts:u.queryLanguage.cohorts.custom,demandPartnerCohorts:Z.UI((e=>e.cohorts),i),initdAddons:c,prebidJS:u.prebidJS,sessionId:d,standardCohorts:u.queryLanguage.cohorts.standard,userId:p,viewId:g})})),r.bw((e=>{let{publishers:t}=e;return v(t.thirdPartyData)})),r.UI((e=>{let{advertisers:t,demandPartners:i,metricContext:n,publishers:r,sdkql:a}=e;return{cloudCohorts:{all:(0,s.zG)(Z.vP(r.cohorts.all,t.segments.all,Z.UI((e=>e.cohorts),i)),Z.UI($.xH)),gam:(0,s.zG)(Z.vP(r.cohorts.gam,t.segments.all,Z.UI((e=>e.gamTargetingValues),i)),Z.UI($.xH)),xandrSsp:r.cohorts.xandrSsp},eventCollection:a.eventCollection,metricContext:n,pbjsPair:Z.UI((e=>e.mainPair),a.prebidJS),queryLanguageCohorts:a.queryLanguage.cohorts,refreshThirdPartyData:r.refreshThirdPartyData,resetQL:a.reset}})),r.bw((e=>{let{cloudCohorts:t}=e;return h(f.G(t.all))})))}function Kt(e){return ct(e,Vt)}function Vt(e,t){return Wt(e,t,nt)}},6640:(e,t,i)=>{i.d(t,{B9:()=>m,iq:()=>d,ti:()=>h});var n=i(2688),r=i(787),a=i(5e3),o=i(6567),s=i(3735),c=i(2652),u=i(3030);const l="__permutive.",d="__permutiveConfigQueryParams";const p={default:{windowKey:"permutive",environment:"default",apiHost:"api.permutive.com",apiKey:"",cdnBaseUrl:"cdn.permutive.com",pxidHost:"prmutv.co",apiVersion:"v2.0",sdkErrorsApiVersion:"v2",advertiserApiVersion:"v2",classificationModelsApiVersion:"v1",apiProtocol:"https",loggingEnabled:!1,tracingEnabled:!1,requestTimeout:5e3,cookieDomain:"."+(0,u._Y)(window.location.hostname),cookieName:"permutive-id",cookieExpiry:function(){const e=new Date;return e.setMonth(e.getMonth()+6),e.toUTCString()}(),eventsTTLInDays:null,permutiveDataMiscKey:"permutive-data-misc",permutiveDataModelsKey:"permutive-data-models",permutiveDataQueriesKey:"permutive-data-queries",permutiveDataEnrichersKey:"permutive-data-enrichers",stateNamespace:"",sendClientErrors:!0,metricsSamplingPercentage:20,eventsCacheLimitBytes:25e5,segmentSyncApiHost:"a9695278-4085-40b3-9f02-8d4c38a6ff01.partner.permutive.app",consentRequired:!1,sdkType:"stable",viewId:null,localStorageDebouncedKeys:["internal_query_states"],localStorageWriteDelay:1e3,localStorageWriteMaxDelay:1500,watson:{enabled:!0}},production:{},development:{apiProtocol:"http",loggingEnabled:!0,tracingEnabled:!0,sendClientErrors:!1}},g=e=>{const t={consentRequired:!0,loggingEnabled:!0,sendClientErrors:!0,tracingEnabled:!0},i={eventsTTLInDays:!0,eventsCacheLimitBytes:!0,metricsSamplingPercentage:!0,requestTimeout:!0,localStorageWriteDelay:!0,localStorageWriteMaxDelay:!0};return Object.keys(e).reduce(((n,r)=>{if(t.hasOwnProperty(r)){const t="true"===e[r];return Object.assign(Object.assign({},n),{[r]:t})}if(i.hasOwnProperty(r)){const t=Number(e[r]);return isNaN(t)?n:Object.assign(Object.assign({},n),{[r]:t})}return Object.assign(Object.assign({},n),{[r]:e[r]})}),{})},m=function(){let{getQueryParams:e=u.zM}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e=>Object.entries(e).reduce(((e,t)=>{let[i,n]=t;if(!(0===i.indexOf(l)))return e;const r=i.replace(l,"");return[...e,[r,n]]}),[]);return(0,s.zG)(a.Y3((()=>(0,s.zG)(e(),t,(e=>(0,c.m8)(...e)),g,(e=>f({queryConfig:e})))),(e=>`Failed to parse query params. Got ${(0,n.w)(e).message}`)))},f=e=>{let{queryConfig:t}=e;const i=(0,s.zG)(o.Y3((()=>window.sessionStorage.getItem(d))),o.tS(o.ij),o.tS((0,s.ls)(r.A,o.ij)),o.fS((()=>({}))));return(0,c.PM)(i,t)},h=(e,t)=>{var i;const n=null!==(i=e.environment&&p[e.environment])&&void 0!==i?i:{};return(0,c.PM)(p.default,n,e,t)}},4564:(e,t,i)=>{i.d(t,{NY:()=>h,vk:()=>g,qA:()=>p});var n=i(655),r=i(2688),a=i(5e3),o=i(3735),s=i(6934),c=i(8259),u=i(1410),l=i(2851);var d=i(30);const p=()=>({opt_in:!0,token:u.L}),g=()=>({opt_in:!1,token:""}),m=e=>{return(0,o.ls)((t=e,e=>(0,o.zG)((0,d.J)(t.consentRequired,e),(e=>{let{consentData:i,isValid:n}=e;return t.consentDatabase.put(i,u.L),n}))),(e=>{let{logger:t,messages:i}=e;return e=>{const n=e?"given":"revoked";return t.log("Consent has been",n),i.emit(`permutive:consent:${n}`),e}})(e));var t},f=e=>(t,i)=>{e.on("permutive:consent:revoked",t),e.on("permutive:consent:given",i)},h=e=>(0,n.mG)(void 0,void 0,void 0,(function*(){const{logger:t,namespace:i,consentRequired:n,messages:p}=e,g=new c.oP(window.localStorage,i),h=(0,d.J)(n,yield g.get(u.L)),_=yield(0,o.zG)(s.Y3((()=>g.put(h.consentData,u.L)),(e=>new Error(`LocalStorage access is required. ${(0,r.w)(e).message}`))),(e=>e()));if(a.nM(_))return _;const{consentRef:v,giveConsent:b,revokeConsent:y,isRevoked:w,isGiven:k}=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const[t,i]=l.Ue(e),n=()=>!0===t.current;return{consentRef:t,revokeConsent:()=>(i(!1),t.current),giveConsent:()=>(i(!0),t.current),isRevoked:()=>!n(),isGiven:n}}(h.isValid),E={consentRef:v,isGiven:k,isRevoked:w,listenForConsent:f(p)};E.listenForConsent(y,b);const S=m({consentDatabase:g,consentRequired:n,logger:t,messages:p});return a.F2({consentTracking:E,consentValidation:S,consentDatabase:g})}))},1410:(e,t,i)=>{i.d(t,{L:()=>n});const n="permutive-consent"},7708:(e,t,i)=>{i.d(t,{D:()=>d});var n=i(1500),r=i(5e3),a=i(3735),o=i(6567),s=i(5151),c=i(4922),u=i(1410),l=i(30);const d=e=>{const{partialTagWithKey:t}=e,i=t.key;var d;window[i].consent=(d=e,(0,a.ls)(d.consentModule.consentValidation,o.DT(Boolean),o.UI((0,c.H)(d)),a.Q1));const p=(0,o.EQ)((()=>{return t={consentDatabase:e.consentModule.consentDatabase,consentRequired:e.tag.config.consentRequired},(0,a.zG)((0,a.a9)(t.consentDatabase.get(u.L)),(0,s.UI)((e=>(0,l.J)(t.consentRequired,e).isValid)));var t}),s.of);return(0,a.zG)((0,a.zG)((e=>{let{consentModule:t,tag:i}=e;const r=(0,n.Ew)((function(e){return"consent"===e.functionName}))(i.q);return(0,o.UI)((e=>t.consentValidation(e.arguments[0])))(r)})(e),p),(0,s.UI)((e=>e?(0,r.F2)(!0):(0,r.t$)("No consent to run on the page"))))}},4769:(e,t,i)=>{i.d(t,{v:()=>n});const n=(e,t,i)=>function(){const n=i()?t:e;return n(...arguments)}},30:(e,t,i)=>{i.d(t,{J:()=>o});var n=i(3735),r=i(6567),a=i(4564);const o=(e,t)=>(0,n.zG)((0,r.ij)(t),(t=>!1===e&&(0,r.Wi)(t)?{isValid:!0,consentData:(0,a.qA)()}:(e=>(0,r.pC)(e)&&(e=>null!==e&&"object"==typeof e)(e.value)&&(e=>{var t;return!0===e.opt_in&&"string"==typeof e.token&&(null===(t=e.token)||void 0===t?void 0:t.length)>0})(e.value))(t)?{isValid:!0,consentData:t.value}:{isValid:!1,consentData:(0,a.vk)()}))},3298:(e,t,i)=>{i.d(t,{S:()=>_});var n=i(3735),r=i(655),a=i(6567),o=i(1500),s=i(2851),c=i(1540),u=i(2497),l=i(5165);var d=i(2652);class p{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.wait_prev=t.wait_prev||!1,this.block_next=t.block_next||!1,this.started=!1,this.complete=!1,this.task=e}waits(){return this.wait_prev}blocks(){return this.block_next}execute(e){this.started=!0,this.task((()=>{this.complete=!0,e()}))}}var g=i(6315);class m{constructor(e,t,i,n,r,a,o,s,c,u,l,d,p,g,m,f,h,_,v,b,y,w,k,E,S,I,P,D){this.logger=e,this.api=t,this.activationManager=i,this.sessionManager=n,this.metrics=r,this.viewId=a,this.userId=o,this.network=s,this.enrichers=c,this.clientContext=u,this.unprocessedEvents=l,this.queryManager=d,this.taskQueue=p,this.identities=g,this.permutiveReset=m,this.messages=f,this.addons=h,this.trace=_,this.permutiveRealtime=v,this.state=b,this.customProperties=y,this.config=w,this.permutiveData=k,this.externalData=E,this.cookies=S,this.identitiesIngestor=I,this.global=P,this.nextGen=D,this.initialisedAddons=[],this.triggerListeners=[]}identify(e){const t="[Identify]";this.logger.debug("<call> identify",e);const i=(0,d.b2)(),s=this.identities.parseCustomerDefinedIdentities(e),u=Object.assign(Object.assign({},this.identities.getIdentitiesMap()),s.reduce(((e,t)=>{let{tag:i,id:n,priority:r,expiry:a}=t;return Object.assign(Object.assign({},e),{[i]:Object.assign(Object.assign({id:n},void 0!==r?{priority:r}:{}),void 0!==a?{expiry:a}:{})})}),{})),l=(0,n.zG)(Object.values(u),o.DZ((e=>a.ij(e.id)))),m=this.identities.getPrioritizedIdentities(u);if("string"==typeof e&&(0,c.Bt)("0b732edd-087f-4c27-b0f6-5ff26d96cdf6","a9695278-4085-40b3-9f02-8d4c38a6ff01",l,window.location.hostname,this.userId.get()))return i.resolve(),i.promise;const f=()=>(0,r.mG)(this,void 0,void 0,(function*(){this.nextGen.refreshThirdPartyData()})),h=e=>(0,r.mG)(this,void 0,void 0,(function*(){yield(0,g.Yj)({clientContext:this.clientContext,global:this.global,identities:this.identities,logger:this.logger,nextGen:this.nextGen,reset:this.permutiveReset,userId:this.userId},e.user_id)}));return this.taskQueue.add(new p((e=>(0,r.mG)(this,void 0,void 0,(function*(){this.logger.debug("<task> identify",s);const n=()=>(0,r.mG)(this,void 0,void 0,(function*(){this.logger.log(t,"request identity");const e=yield this.api.identify(this.metrics,this.userId,m);this.userId.isEqual(e.user_id)?(this.metrics.track({name:"sdk_identity_remained_total",value:1,labels:{identify_reason:"identify_call"}}),yield f()):(this.metrics.track({name:"sdk_identity_changed_total",value:1,labels:{identify_reason:"identify_call"}}),yield h(e))}));this.identities.setIdentities(s).identifyRequestRequired()?yield n():this.logger.log(t,"skip request"),this.logger.debug("<done> identify",s),e(),i.resolve(),yield this.identitiesIngestor.ingestIfEligible(s).catch((e=>this.api.reportError(`Couldn't ingest identities, got ${e}`,this.userId.get())))}))),{wait_prev:!0,block_next:!0})),i.promise}on(e,t){return this.nextGen.eventCollection.on(e,t)}once(e,t){return this.nextGen.eventCollection.once(e,t)}track(){var e,t,i;const[n,r,a]=[arguments.length<=0?void 0:arguments[0],(arguments.length<=1?void 0:arguments[1])||{},(arguments.length<=2?void 0:arguments[2])||{}],o=this.trace.startSpan("track_event");this.logger.log("<call> track",n);const s=(0,d.b2)(),c=null!==(e=a.unprocessedData)&&void 0!==e?e:{},u=null!==(t=c.sessionId)&&void 0!==t?t:this.sessionManager.getSessionId(),l=null!==(i=c.viewId)&&void 0!==i?i:this.viewId.get(),g={success:a.success||(e=>{}),error:a.error||((e,t)=>{})};return this.taskQueue.add(new p((e=>{this.logger.log("<task> track",n);return(c.client?Promise.resolve(c.client):this.clientContext.getClient()).then((t=>{var i;const c={name:n,properties:r,session_id:u,view_id:l,time:new Date};return this.nextGen.eventCollection.track({client:r.client?(0,d.PM)(t,r.client):t,event:c,requestOptions:g,useBeacon:null!==(i=a.useBeacon)&&void 0!==i&&i}).then((t=>{this.logger.log("<done> track",c.name),s.resolve(c),e(),o.finish()})).catch((e=>{var t;null===(t=g.error)||void 0===t||t.call(g,e),this.api.reportError(e,this.userId.get()),s.reject(e)}))}))}))),s.promise}trigger(e,t,i){const n=(0,d.b2)();this.logger.log("<call> trigger",e),this.triggerListeners=this.triggerListeners||[];return this.taskQueue.add(new p((t=>{this.logger.log("<task> trigger",e);const r=this.messages.on("permutive:query:changed",(function(t){t.queryCode===e&&(i(t.result),n.resolve(t.result))}));this.triggerListeners.push(r),this.logger.log("<done> trigger",e),t()}))),n.promise}query(){return Promise.resolve({result:!1})}segment(e,t){const i=(0,d.b2)();this.logger.log("<call> segment",e);return this.taskQueue.add(new p((n=>{var r;this.logger.log("<task> segment",e);const a=this.queryManager.stateMap.value[e];t((null===(r=null==a?void 0:a.result)||void 0===r?void 0:r.result)||!1),i.resolve(),this.logger.log("<done> segment",e),n()}))),i.promise}segments(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";const i=(0,d.b2)();this.logger.log("<call> segments");return this.taskQueue.add(new p((n=>{this.logger.log("<task> segments ("+t+")");const r=r=>{e(r),i.resolve(r),this.logger.log("<done> segments ("+t+")"),n()};"dfp"===t?this.messages.once("permutive:dfp:ready",(()=>{this.addons.dfp&&r([...this.addons.dfp.segments.liveSegments])})):r([...this.nextGen.queryLanguageCohorts.all.current])}))),i.promise}reset(){return Promise.all([this.api.reset(this.metrics),this.identities.reset(),this.permutiveReset.reset(),this.unprocessedEvents.PageviewComplete.reset(),this.nextGen.resetQL({downloadState:!1,preserveEventsFromCurrentView:!1})]).then((e=>{let[t]=e;this.userId.set(t.id)})).then((()=>{this.messages.emit("permutive:reset")})).catch((e=>{this.api.reportError(`Error resetting internals. Got ${e}`)}))}addon(e,t){const o=Object.assign(Object.assign({},t),{permutive:this,api:this.api,activationManager:this.activationManager,network:this.network,clientContext:this.clientContext,logger:this.logger,unprocessedEvents:this.unprocessedEvents,metrics:this.metrics,state:this.state,queryManager:this.queryManager,messages:this.messages,userId:this.userId,viewId:this.viewId,customProperties:this.customProperties,config:this.config,permutiveData:this.permutiveData,sessionManager:this.sessionManager,addons:this.addons,enrichers:this.enrichers,externalData:this.externalData,cookies:this.cookies,nextGenOutput:this.nextGen}),c=(0,n.zG)(this.nextGen.pbjsPair,s.UI(a.UI((0,d.vg)("pbjs"))));if(-1===this.initialisedAddons.indexOf(e))switch(this.initialisedAddons.push(e),this.messages.emit("permutive:addon:preinit",e),e){case"web":Promise.resolve().then(i.bind(i,4400)).then((e=>this.addons.web=new e.WebAddon(o))).then((()=>this.messages.emit("permutive:web:ready")));break;case"publishers":case"scriptrunner":case"nativo":case"freewheel":case"facebook_pixel_v2":case"eyeota_pixel":case"rubicon":case"rubicon_ssp":case"twitter_pixel":case"pinterest_pixel":case"local_storage":case"appnexus_adserver":case"classification_models":case"smart":case"tradedesk":case"ddp":case"dbm":case"pubmatic":0;break;case"overlays":Promise.resolve().then(i.bind(i,8087)).then((e=>this.addons.overlays=new e.OverlaysAddon(o)));break;case"dfp":Promise.resolve().then(i.bind(i,7131)).then((e=>(0,r.mG)(this,void 0,void 0,(function*(){return this.addons.dfp=yield e.createAddon(o)}))));break;case"tracking_pixel":Promise.resolve().then(i.bind(i,3792)).then((e=>this.addons.tracking_pixel=new e.PixelAddon(o)));break;case"prebid":Promise.resolve().then(i.bind(i,9581)).then((e=>this.addons.prebid=new e.PrebidAddon(Object.assign(Object.assign({},o),{pbjs:c}))));break;case"clean_room":Promise.resolve().then(i.bind(i,5912)).then((e=>this.addons.clean_room=new e.CleanRoomAddon(Object.assign(Object.assign({},o),{pbjs:c}))));break;case"gam_log":Promise.resolve().then(i.bind(i,6986)).then((e=>(0,r.mG)(this,void 0,void 0,(function*(){return this.addons.gam_log=new e.GamLogAddon(o)}))));break;case"appnexus":Promise.resolve().then(i.bind(i,1515)).then((e=>this.addonIfTCFConsent({Addon:e.AppnexusPixel,key:"appnexus"},o)));break;case"ctv":Promise.resolve().then(i.bind(i,7305)).then((e=>this.addons.ctv=new e.CTVAddon(o)));break;case"ssp":Promise.resolve().then(i.bind(i,9557)).then((e=>this.addons.ssp=new e.SspAddon(o)))}else"web"===e&&!0!==t.auto_init?((e,t,i,n)=>new Promise(((r,o)=>{var s;const c=(0,a.Y3)(e);if((0,a.pC)(c))return r(c.value);i.once(t,(()=>(0,a.g_)((()=>o(new Error(`Error after waiting for event ${t}`))),r)((0,a.Y3)(e))));const u=null!==(s=null==n?void 0:n.timeout)&&void 0!==s?s:1e4;setTimeout((()=>o(new Error(`Event ${t} was not received within the timeout period ${u}ms`))),u)})))((()=>{if(!this.addons.web)throw new Error('"web" addon not ready');return this.addons.web.reset(t)}),"permutive:web:ready",this.messages).catch((e=>{this.api.reportError(`Got error while trying to reset web. Got ${e.message}`,this.state.userId.get())})):"ctv"===e&&!0!==(null==t?void 0:t.auto_init)&&Promise.resolve().then(i.bind(i,7305)).then((e=>this.addons.ctv=new e.CTVAddon(o)))}addonIfTCFConsent(e,t){const i=()=>{switch(e.key){case"tradedesk":this.addons.tradedesk=new e.Addon(t);break;case"ddp":this.addons.ddp=new e.Addon(t);break;case"appnexus":this.addons.appnexus=new e.Addon(t);break;case"pubmatic":this.addons.pubmatic=new e.Addon(t)}},r=t=>t[l.D[e.key]]?i():(0,n.Q1)();return(0,u._8)(window).then((e=>{switch(e.type){case"missing":return i();case"aborted":return(0,n.Q1)();case"loaded":return(0,n.zG)((0,u.Ec)(e.data),(0,a.g_)(i,r))}}))}ready(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"initialised";const i=(0,d.b2)(),n=()=>{e(),i.resolve()};switch(t){case"initialised":this.permutiveRealtime.isReady()?n():this.messages.on("permutive:ready",n);break;case"realtime":this.permutiveRealtime.isRealtime()?n():this.messages.once("permutive:realtime",n)}return i.promise}}var f=i(4769);const h=e=>{const{logger:t,consentTracking:i}=e,a=function(){return t.debug("Methods[track]: Cannot track as consent is revoked"),Promise.resolve(null)};return e=>class extends e{constructor(){super(...arguments),this.track=(0,f.v)(super.track.bind(this),a,i.isRevoked),i.listenForConsent((()=>this.consentRevoked()),n.Q1)}consentRevoked(){return(0,r.mG)(this,void 0,void 0,(function*(){return yield this.sessionManager.reset(),this.reset()}))}}},_=(e,t,i,r,a,o,s,c,u,l,d,p,g,f,_,v,b,y,w,k,E,S,I,P,D,q,M,x,A)=>new((0,n.zG)(m,h({consentTracking:x,logger:e})))(e,t,i,r,a,o,s,c,u,l,d,p,g,f,_,v,b,y,w,k,E,S,I,P,D,q,M,A)},6416:(e,t,i)=>{i.d(t,{O:()=>c});var n=i(1828),r=i(5e3),a=i(3735);const o=e=>(0,a.zG)((e=>"function"==typeof e.Map?(0,r.F2)(new e.Map([["a",1]])):(0,r.t$)("Maps not supported"))(e),r.tS((e=>1===e.size?(0,r.F2)(null):(0,r.t$)("Iterable Maps not supported")))),s=e=>(0,a.zG)((e=>"function"==typeof e.Set?(0,r.F2)(new e.Set([1,2])):(0,r.t$)("Sets not supported"))(e),r.tS((e=>2===e.size?(0,r.F2)(null):(0,r.t$)("Iterable Sets not supported")))),c=e=>(0,a.zG)((0,n.gz)(r.G5)(o(e),s(e),(e=>e.Worker&&e.Blob?(0,r.F2)(null):(0,r.t$)("WebWorkers not supported"))(e)),(e=>(0,r.UI)(a.Q1)(e)))},6315:(e,t,i)=>{i.d(t,{Yj:()=>p,TZ:()=>l});var n=i(655),r=i(2688),a=i(3735),o=i(6567),s=i(2652);var c=i(1540);const u=e=>(0,n.mG)(void 0,void 0,void 0,(function*(){yield e.identities.thirdParty,yield function(e,t){return(0,c.Bt)("0b732edd-087f-4c27-b0f6-5ff26d96cdf6","a9695278-4085-40b3-9f02-8d4c38a6ff01",e.identities.getPrioritizedIdentities(e.identities.getIdentitiesMap()).map((e=>e.id)),window.location.hostname,e.userId.get())?t.reset():Promise.resolve()}(e,e.permutiveMethods);const t=yield function(e){const t=e.trace.startSpan("identify");0;return(e=>(0,n.mG)(void 0,void 0,void 0,(function*(){const t="[Identify Init]",{logger:i,api:n,userId:r,identities:a,metrics:o,identitiesIngestor:c,messages:u,sessionManager:l}=e,d=yield a.thirdParty,p=a.extractIdentifyFromQueue(e),g=a.getIdentitiesMap(),m=p.reduce(((e,t)=>{let{tag:i,id:n,priority:r,expiry:a}=t;return Object.assign(Object.assign({},e),{[i]:Object.assign(Object.assign({id:n},a?{expiry:a}:{}),void 0!==r?{priority:r}:{})})}),{}),f=Object.assign(Object.assign({},g),m),h=a.setIdentities(Object.entries(f).map((e=>{let[t,{id:i,priority:n,expiry:r}]=e;return Object.assign(Object.assign({tag:t,id:i},r?{expiry:r}:{}),void 0!==n?{priority:n}:{})}))),_=a.getPrioritizedIdentities(f);i.log("Begin identification");const v=e.sessionCount>1&&l.sessionHasChanged()||d.identifyRequestRequired()||h.identifyRequestRequired()?yield(i.debug(t,"request identity"),n.identify(o,r,_).then((e=>{const n=e.user_id;return r.isEqual(n)?{identityChanged:!1}:(i.debug(t,"fetch received new user id",n),{identityChanged:!0,userId:n})})).catch((e=>(n.reportError(`${t} Fetch failed. Got ${e}`,r.get()),{identityChanged:!1}))).then((0,s.bw)((t=>e.metrics.track({name:`sdk_identity_${t.identityChanged?"changed":"remained"}_total`,value:1,labels:{identify_reason:"sdk_init"}}))))):(i.debug(t,"skip request"),{identityChanged:!1});return c.ingestIfEligible(_).catch((e=>n.reportError(`Couldn't ingest identities, got ${e}`,v.identityChanged?v.userId:r.get()))),u.emit("permutive:user:ready"),i.debug(t,"result",v),v})))(e).catch((t=>(e.api.reportError(`Failed to identify. Got ${(0,r.w)(t)}`),{identityChanged:!1}))).then((e=>(t.finish(),e)))}(e);return t.identityChanged?yield p(e,t.userId):(e.logger.log("Identity has not changed"),e.nextGen.refreshThirdPartyData()),t})),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>{};return(0,n.mG)(void 0,void 0,void 0,(function*(){u(e).then(t),yield d(e.logger,e.trace,e.permutiveMethods,e.unprocessedEvents,e.queryManager,e.eventCollection,e.metrics),g(e.global,e.clientContext)}))};function d(e,t,i,r,s,c,u){e.log("Assuming identity hasn't changed");const l=s.hasNewOrModifiedQueries,d=t.startSpan(`qm_bootstrap_${l}`);return Promise.resolve().then((()=>l?c.allEvents().then((e=>s.bootstrap(e))):s.bootstrap([]))).then((()=>r.PageviewComplete.getIfPresent())).then((0,o.g_)((()=>e.log("No unprocessed PVC data detected")),(t=>(0,a.zG)(e.log("Unprocessed PVC data detected",t),(e=>{const{props:i}=t;return{props:i,unprocessedData:(0,n._T)(t,["props"])}}),(e=>{let{props:t,unprocessedData:n}=e;return i.track("PageviewComplete",t,{unprocessedData:n}).finally((()=>r.PageviewComplete.reset()))}))))).then((()=>d.finish()))}function p(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){e.logger.log("Identity has changed"),yield e.reset.reset(),e.userId.set(t),g(e.global,e.clientContext),e.nextGen.refreshThirdPartyData(),e.identities.setIdentities([]),yield e.nextGen.resetQL({downloadState:!0,preserveEventsFromCurrentView:!0})}))}function g(e,t){return e.context=t.getContext()}},5919:(e,t,i)=>{function n(e,t,i,n,r){r.debug("set SDK as ready"),e.setAsReady(),t.emit("permutive:api:ready"),i.track({name:"sdk_local_storage_byte_total",value:n.getStateSizeInBytes(),labels:{}}),i.track({name:"sdk_query_states_byte_total",value:e.getStateSizeInBytes(),labels:{}})}i.d(t,{R:()=>n})},7985:(e,t,i)=>{i.d(t,{$o:()=>o,je:()=>s});var n=i(5e3),r=i(3735),a=i(6640);const o=e=>{var t,i;const a="a9695278-4085-40b3-9f02-8d4c38a6ff01",o=void 0!==(null===(t=e[a])||void 0===t?void 0:t.q)&&void 0!==(null===(i=e[a])||void 0===i?void 0:i.config)?a:"permutive";return(0,r.zG)(e[o],(0,n.ij)("Can't find permutive tag on the page"),(0,n.UI)((e=>({tag:e,key:o}))))},s=(e,t)=>{let{tag:i,key:n}=e;return Object.assign(Object.assign({},i),{config:(0,a.ti)(Object.assign(Object.assign({},i.config),{windowKey:n}),t)})}},7078:(e,t,i)=>{i.d(t,{LA:()=>s});var n=i(1500),r=i(7209),a=i(2652);const o=(e,t,i)=>{let{api:n,state:r}=i;n.reportError(`Function "permutive.${t.functionName}" caused an error: ${e.message}`,r.userId.get())};function s(e,t,i,n,r,a){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:d;const u=c(e),l=a.startSpan("queued_methods"),p={api:r,state:t},g=e=>{if(e.functionName in i){i[e.functionName].apply(n,e.arguments)}else o(new Error("Does not exist."),e,p)},m=e=>!s.includes(e);u.forEach((e=>{try{m(e.functionName)&&g(e)}catch(t){const i=t instanceof Error?t:new Error("Unknown error.");o(i,e,p)}})),l.finish()}function c(e){const t=(0,n.uK)((e=>-1!==l.indexOf(e.functionName)))(e),i=t.right,o=t.left.filter((e=>"consent"!==e.functionName)),s=(0,r.Zt)(((e,t)=>u(e)&&u(t)?(0,a.lW)(p).compare(e.arguments[0],t.arguments[0]):(0,a.lW)(l).compare(e.functionName,t.functionName)));return(0,n.DY)(s)(i).concat(o)}const u=e=>"addon"===e.functionName,l=["identify","trigger","addon","track"],d=["identify"],p=["dfp","appnexus_adserver","web"]},4922:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>initialiseWebSDK,f:()=>initialisationSequence});var tslib__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(655),_permutive_permutive_utils_ts_error__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(2688),fp_ts_Either__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__(5e3),fp_ts_function__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(3735),fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(6934),_framework_ref__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2851),_identity_legacy_NeustarFabrickIdentitiesIngestor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6967),_identity_legacy_PermutiveIdentities__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1540),_identity_legacy_PermutiveIdentitiesIngestorNoOp__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(7658),_sdkql_blockers__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__(122),_core_activations_PermutiveActivationManagerWeb__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8975),_core_activations_PermutiveAddons__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9853),_core_context_PermutiveClientContextWeb__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(2836),_sdkql_event_collection_events_cache_store_crypto_HashcodeDigest__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6197),_sdkql_event_collection_PermutiveEventCustomProps__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(7748),_core_events_unprocessed_UnprocessedPageviewComplete__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(389),_core_events_unprocessed_UnprocessedPrebidAuctions__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(5865),_core_internals_CookiesWeb__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5461),_core_internals_ExternalDataWeb__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(9773),_core_internals_PermutiveLogger__WEBPACK_IMPORTED_MODULE_54__=__webpack_require__(342),_core_internals_SDKMessages__WEBPACK_IMPORTED_MODULE_57__=__webpack_require__(8491),_core_metrics_MetricReporter__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(7594),_core_metrics_Metrics__WEBPACK_IMPORTED_MODULE_58__=__webpack_require__(4074),_sdkql_query_language_query_manager_QueryManagerWeb__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1628),_core_session_SessionManager__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8317),_core_state_PermutiveDataStoreWeb__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(4026),_sdkql_state_sync_PermutiveEventSourceId__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(3622),_core_state_PermutiveNamespace__WEBPACK_IMPORTED_MODULE_56__=__webpack_require__(569),_core_state_PermutiveRealtime__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(7575),_core_state_PermutiveReset__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__(7256),_sdkql_state_sync_PermutiveStateSyncWeb__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(1229),_core_state_PermutiveStateWeb__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__(7274),_core_state_PermutiveUserId__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(9117),_core_state_PermutiveViewId__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(9880),_core_store_LocalStorage__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(7554),_core_store_SessionStorage__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(9332),_core_tcf_TCF__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2497),_dynamic_addons_LoadAddons__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(6037),_sdkql_event_collection_enrichment_Enrichers_GlobalEnricher__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(7200),_sdkql_event_collection_enrichment_RegisterEnrichers__WEBPACK_IMPORTED_MODULE_51__=__webpack_require__(6341),_dynamic_messages_PermutiveMessages__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__(9078),_http_PermutiveApi__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(7423),_http_PermutiveNetwork__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4586),_http_PermutiveUrls__WEBPACK_IMPORTED_MODULE_55__=__webpack_require__(310),_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2652),_utils_task_queue_PermutiveTaskQueue__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__(4996),_utils_Trace__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(6574),_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(3030),_Config__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(6640),_Consent_Consent__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(4564),_Consent_InitialisationCheckWeb__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(7708),_initialisation_browserFeatures__WEBPACK_IMPORTED_MODULE_53__=__webpack_require__(6416),_initialisation_identity__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(6315),_initialisation_initialisationLifecycle__WEBPACK_IMPORTED_MODULE_52__=__webpack_require__(5919),_initialisation_permutiveTag__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(7985),_sdkql_query_language_queryWorkerInit__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(8318),_initialisation_queuedMethods__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(7078),_PermutiveMethodsWeb__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(3298),_next_gen_index_web__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(2539);const prefix="[Initialisation Web]",sdkInitTimestamp=window.performance.now(),initialiseWebSDK=_ref=>{let{consentModule,logger,messages,metrics,namespace,network,partialTagWithKey,permutiveData,queryWorker,tag,sessionStorage,configFromQueryParams,urls}=_ref;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Y3)((()=>(0,tslib__WEBPACK_IMPORTED_MODULE_31__.mG)(void 0,void 0,void 0,(function*(){const windowKey=partialTagWithKey.key,permutiveGlobal=window[windowKey],config=tag.config,viewId=new _core_state_PermutiveViewId__WEBPACK_IMPORTED_MODULE_14__.W(config),trace=new _utils_Trace__WEBPACK_IMPORTED_MODULE_32__.l(config),sdkReadySpan=trace.startSpan("sdk_ready"),{consentTracking,consentValidation}=consentModule;(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.zG)(consentTracking.consentRef,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.YP((e=>{e?sessionStorage.put(configFromQueryParams,_Config__WEBPACK_IMPORTED_MODULE_21__.iq).then(fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.Q1,(e=>{logger.warn(prefix,`Failed to cache "${_Config__WEBPACK_IMPORTED_MODULE_21__.iq}".`,(0,_permutive_permutive_utils_ts_error__WEBPACK_IMPORTED_MODULE_34__.w)(e))})):sessionStorage.delete(_Config__WEBPACK_IMPORTED_MODULE_21__.iq)}))),window[windowKey].consent=consentValidation;const context=(0,_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_20__.PM)(tag.context||{},{path:window.location.pathname,url:(0,_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_35__.bk)(window.location.href),referrer:(0,_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_35__.bk)(document.referrer),view_id:viewId.get()}),createInternalsSpan=trace.startSpan("internals"),cookieStore=(0,_core_internals_CookiesWeb__WEBPACK_IMPORTED_MODULE_6__.S)(namespace,config,logger,consentTracking),localStorage=(0,_core_store_LocalStorage__WEBPACK_IMPORTED_MODULE_36__.E)(namespace,logger,consentTracking),externalData=(0,_core_internals_ExternalDataWeb__WEBPACK_IMPORTED_MODULE_37__.S)(namespace,logger,consentTracking),clientContext=new _core_context_PermutiveClientContextWeb__WEBPACK_IMPORTED_MODULE_38__.z(context);(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.zG)(viewId.ref,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.YP((e=>clientContext.updateContext(["view_id",e]))));const userId=new _core_state_PermutiveUserId__WEBPACK_IMPORTED_MODULE_13__.M(config,clientContext,cookieStore,externalData),eventSourceId=new _sdkql_state_sync_PermutiveEventSourceId__WEBPACK_IMPORTED_MODULE_11__.$(permutiveData),enrichers=new _sdkql_event_collection_enrichment_Enrichers_GlobalEnricher__WEBPACK_IMPORTED_MODULE_39__.J,api=new _http_PermutiveApi__WEBPACK_IMPORTED_MODULE_18__.F(urls,config,network,metrics,logger),identityProviderEnv={permutive:permutiveGlobal,network,api,userId,metrics,permutiveData,messages,config,cookies:cookieStore,logger},identities=new _identity_legacy_PermutiveIdentities__WEBPACK_IMPORTED_MODULE_2__.lg(metrics,trace,permutiveData,identityProviderEnv,logger),identitiesIngestor=new _identity_legacy_PermutiveIdentitiesIngestorNoOp__WEBPACK_IMPORTED_MODULE_40__.z,permutiveRealtime=new _core_state_PermutiveRealtime__WEBPACK_IMPORTED_MODULE_41__.u(metrics,messages),sessionManager=yield _core_session_SessionManager__WEBPACK_IMPORTED_MODULE_9__.S.initialise(cookieStore,localStorage,logger),unprocessedArgs={consentTracking,logger,namespace},unprocessedEvents={PageviewComplete:new _core_events_unprocessed_UnprocessedPageviewComplete__WEBPACK_IMPORTED_MODULE_42__.p(unprocessedArgs),PrebidAuctions:new _core_events_unprocessed_UnprocessedPrebidAuctions__WEBPACK_IMPORTED_MODULE_43__.J(unprocessedArgs)},customProperties=new _sdkql_event_collection_PermutiveEventCustomProps__WEBPACK_IMPORTED_MODULE_44__.X,queryManagerTransitionDebounceTime=1e3,queryManagerTransitionMaxDebounceTime=1e4,queryManager=new _sdkql_query_language_query_manager_QueryManagerWeb__WEBPACK_IMPORTED_MODULE_8__.c({customProperties,externalData,logger,messages,api,permutive:permutiveGlobal,permutiveData,queryWorker,realtime:permutiveRealtime,sessionManager,transitionDebounceMaxTime:queryManagerTransitionMaxDebounceTime,transitionDebounceTime:queryManagerTransitionDebounceTime,userId,viewId,metrics}),permutiveReset=new _core_state_PermutiveReset__WEBPACK_IMPORTED_MODULE_45__.a(config,localStorage,logger,permutiveData,eventSourceId,cookieStore,externalData),taskQueue=new _utils_task_queue_PermutiveTaskQueue__WEBPACK_IMPORTED_MODULE_46__.i(messages),stateSync=new _sdkql_state_sync_PermutiveStateSyncWeb__WEBPACK_IMPORTED_MODULE_12__.N(api,network,sessionManager,permutiveData,queryManager,metrics,userId,eventSourceId,(0,_sdkql_state_sync_PermutiveStateSyncWeb__WEBPACK_IMPORTED_MODULE_12__.e)()),activationManager=new _core_activations_PermutiveActivationManagerWeb__WEBPACK_IMPORTED_MODULE_3__.v(logger,permutiveGlobal,clientContext),[addonsLoadedRef,setAddonsLoaded]=_framework_ref__WEBPACK_IMPORTED_MODULE_0__.Ue(!1),nextGen=(0,_next_gen_index_web__WEBPACK_IMPORTED_MODULE_29__.B)({activationManager,addonsLoaded:addonsLoadedRef,api,config,consentTracking,enrichers,externalData,identities:identities.ref,logger,messages,metrics,namespace,network,permutiveData,queryManager,realtime:permutiveRealtime,sessionManager,stateSync,trace,track:function(){return permutiveGlobal.track(...arguments)},unprocessedPVC:unprocessedEvents.PageviewComplete,urls,userId,viewId});(0,_core_metrics_MetricReporter__WEBPACK_IMPORTED_MODULE_7__.p)({api,context:nextGen.metricContext,enrichers,logger,messages,metrics});const state=new _core_state_PermutiveStateWeb__WEBPACK_IMPORTED_MODULE_47__.u(permutiveData,permutiveReset,userId,viewId,nextGen.eventCollection),addons={},permutiveMethods=(0,_PermutiveMethodsWeb__WEBPACK_IMPORTED_MODULE_28__.S)(logger,api,activationManager,sessionManager,metrics,viewId,userId,network,enrichers,clientContext,unprocessedEvents,queryManager,taskQueue,identities,permutiveReset,messages,addons,trace,permutiveRealtime,state,customProperties,config,permutiveData,externalData,cookieStore,identitiesIngestor,permutiveGlobal,consentTracking,nextGen);createInternalsSpan.finish(),[].forEach((s=>{fp_ts_Either__WEBPACK_IMPORTED_MODULE_48__.Y3((()=>eval(s)),(e=>{api.reportError(Object.assign(Object.assign({},e),{message:`Error running custom script ${s}`}),userId.get())}))}));const blockers=(0,_sdkql_blockers__WEBPACK_IMPORTED_MODULE_49__.X)({logger,messages});blockers.addBlocker("permutive:queries:initialised"),messages.on("permutive:user:ready",(()=>{permutiveGlobal.identify=permutiveMethods.identify.bind(permutiveMethods);const e=identities.extractIdentifyFromQueue({global:permutiveGlobal});e.length>0&&permutiveGlobal.identify(e)})),messages.on("permutive:blockers:empty",(()=>{permutiveGlobal.on=permutiveMethods.on.bind(permutiveMethods),permutiveGlobal.once=permutiveMethods.once.bind(permutiveMethods),permutiveGlobal.track=permutiveMethods.track.bind(permutiveMethods),permutiveGlobal.trigger=permutiveMethods.trigger.bind(permutiveMethods),permutiveGlobal.query=permutiveMethods.query.bind(permutiveMethods),permutiveGlobal.segment=permutiveMethods.segment.bind(permutiveMethods),permutiveGlobal.segments=permutiveMethods.segments.bind(permutiveMethods),permutiveGlobal.reset=permutiveMethods.reset.bind(permutiveMethods),permutiveGlobal.ready=permutiveMethods.ready.bind(permutiveMethods),permutiveGlobal.addon=permutiveMethods.addon.bind(permutiveMethods),permutiveGlobal.context=clientContext.getContext(),permutiveGlobal.addons=addons,permutiveGlobal.config=config,permutiveRealtime.setAsReady(),(0,_initialisation_queuedMethods__WEBPACK_IMPORTED_MODULE_27__.LA)(permutiveGlobal.q,state,permutiveGlobal,permutiveMethods,api,trace),setAddonsLoaded(!0)}));const loadAddonsSpan=trace.startSpan("load_addons");(0,_dynamic_addons_LoadAddons__WEBPACK_IMPORTED_MODULE_17__.C)({extMessages:new _dynamic_messages_PermutiveMessages__WEBPACK_IMPORTED_MODULE_50__.a(messages),nextGen,messages,viewId,state,sessionManager,api,clientContext,externalData,logger,metrics,network,permutive:permutiveGlobal,q:permutiveGlobal.q,userId}),loadAddonsSpan.finish();const loadEnrichersSpan=trace.startSpan("load_enrichers"),enricherEnv={api,config,clientContext,logger,permutiveData,metrics,sessionManager,enrichers,network},loadEnrichersPromise=(0,_sdkql_event_collection_enrichment_RegisterEnrichers__WEBPACK_IMPORTED_MODULE_51__.H)(enricherEnv)();loadEnrichersPromise.then((()=>{loadEnrichersSpan.finish()})),yield(0,_initialisation_identity__WEBPACK_IMPORTED_MODULE_24__.TZ)({api,clientContext,eventCollection:nextGen.eventCollection,externalData,global:permutiveGlobal,identities,identitiesIngestor,logger,messages,metrics,network,nextGen,permutiveMethods,queryManager,reset:permutiveReset,stateSync,trace,unprocessedEvents,userId,sessionManager,sessionCount:nextGen.metricContext.current.session_count}),yield loadEnrichersPromise,(0,_initialisation_initialisationLifecycle__WEBPACK_IMPORTED_MODULE_52__.R)(queryManager,messages,metrics,state,logger),sdkReadySpan.finish()}))),(e=>`Exception during initialisation. Got ${e}`))},initialisationSequence=(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.zG)(fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Do,(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("support",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Uo)((0,_initialisation_browserFeatures__WEBPACK_IMPORTED_MODULE_53__.O)(window)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("queryWorker",(()=>_sdkql_query_language_queryWorkerInit__WEBPACK_IMPORTED_MODULE_26__.F)),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("partialTagWithKey",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Uo)((0,_initialisation_permutiveTag__WEBPACK_IMPORTED_MODULE_25__.$o)(window)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("configFromQueryParams",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Uo)((0,_Config__WEBPACK_IMPORTED_MODULE_21__.B9)()))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("tag",(e=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_initialisation_permutiveTag__WEBPACK_IMPORTED_MODULE_25__.je)(e.partialTagWithKey,e.configFromQueryParams)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("logger",(e=>{let{tag:t}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_core_internals_PermutiveLogger__WEBPACK_IMPORTED_MODULE_54__.SX)(t.config))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("urls",(e=>{let{tag:t}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)(new _http_PermutiveUrls__WEBPACK_IMPORTED_MODULE_55__.s(t.config))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("network",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)(new _http_PermutiveNetwork__WEBPACK_IMPORTED_MODULE_19__.E))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("namespace",(e=>{let{tag:t}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)(new _core_state_PermutiveNamespace__WEBPACK_IMPORTED_MODULE_56__.L(t.config))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("messages",(e=>{let{logger:t}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)(new _core_internals_SDKMessages__WEBPACK_IMPORTED_MODULE_57__.Q(t))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("consentModule",(e=>(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.zG)((()=>(0,_Consent_Consent__WEBPACK_IMPORTED_MODULE_22__.NY)(Object.assign(Object.assign({},e),{consentRequired:e.tag.config.consentRequired}))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Vn)((e=>e.message))))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("sessionStorage",(e=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_core_store_SessionStorage__WEBPACK_IMPORTED_MODULE_15__.u)(e.namespace,e.logger,e.consentModule.consentTracking)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("permutiveData",(e=>{let{tag:t,namespace:i,logger:n,consentModule:r}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_core_state_PermutiveDataStoreWeb__WEBPACK_IMPORTED_MODULE_10__.S)(t.config,i,n,r.consentTracking))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("metrics",(e=>{let{tag:t,messages:i,logger:n,permutiveData:r}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_core_metrics_Metrics__WEBPACK_IMPORTED_MODULE_58__.g)(sdkInitTimestamp,t.config,r,i,n))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("consent",(e=>(0,_Consent_InitialisationCheckWeb__WEBPACK_IMPORTED_MODULE_23__.D)(e))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.tS)((e=>initialiseWebSDK(e))))},2652:(e,t,i)=>{i.d(t,{BJ:()=>d,Bf:()=>k,G6:()=>M,Gz:()=>S,HD:()=>l,HP:()=>G,Kn:()=>u,Or:()=>C,PM:()=>m,PQ:()=>x,SL:()=>h,Z_:()=>T,a4:()=>v,aT:()=>w,b0:()=>I,b2:()=>_,bw:()=>R,cO:()=>A,eu:()=>b,fl:()=>D,jn:()=>p,k$:()=>E,lW:()=>O,lo:()=>L,m8:()=>P,qh:()=>g,rH:()=>z,rO:()=>j,vg:()=>U,vp:()=>f});var n=i(1500),r=i(3735),a=i(6567),o=i(7209),s=i(6017),c=i(2751);const u=e=>"object"==typeof e&&!Array.isArray(e)&&null!==e,l=e=>"string"==typeof e,d=e=>"number"==typeof e&&!Number.isNaN(e),p=e=>"boolean"==typeof e,g=e=>Object.entries(e);function m(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{})}function f(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t&=t;return t}function h(e){return t=>{let i=0;for(let n of t){i=i+e(n)|0}return i}}s.ff(c.xb);function _(){let e,t;return{promise:new Promise(((i,n)=>{e=i,t=n})),reject:t,resolve:e}}function v(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n={waitTimeInMs:50,exponentialBackOff:!1,maxAttempts:20},{waitTimeInMs:o,exponentialBackOff:s,maxAttempts:c}=m(n,i);let u=0;const l=i=>new Promise((n=>Promise.resolve(t()).then((t=>t?Promise.resolve(e()).then((e=>n((0,a.G)(e)))):(0,r.zG)(u++,(e=>e<c?setTimeout((()=>n(l(i*(s?2:1)))),i):n(a.YP)))))));return l(o)}function b(e,t){const i=Object.create(null);for(const n of t)i[n]=e[n];return i}let y=[];function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.userAgent;if(y.unshift(e),y.length>1)return;const i=["beforeunload","pagehide"],n=i.concat(["visibilitychange"]),r=e=>{if(!a&&e){a=!0;const e=y;y=[],e.forEach((e=>{try{e()}catch(e){}}))}};let a=!1;n.forEach((e=>{window.addEventListener(e,(()=>{const i=("visibilitychange"!==e||document.hidden)&&q(t);r(i)}))})),i.forEach((e=>{window.addEventListener(e,(()=>r(!0)))}))}function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object.assign({capture:!0},t);const i=["visibilitychange","pagehide"];i.forEach((i=>window.addEventListener(i,(()=>a.Y3((()=>{"pagehide"!==i&&"hidden"!==document.visibilityState||e()}))),{capture:t.capture})))}function E(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function S(e){return 36===e.length&&/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i.test(e)}function I(e,t){const i=Object.keys(e),n=i.length,r={};for(let o=0;o<n;o++){const n=i[o],s=t(n,e[n]);(0,a.pC)(s)&&(r[n]=s.value)}return r}function P(){const e={},t=arguments.length;for(let i=0;i<t;i++){const[t,n]=i<0||arguments.length<=i?void 0:arguments[i];e[t]=n}return e}function D(e,t){return I(e,((e,i)=>t(e)?(0,a.G)(i):a.YP))}function q(e){return/Mobi|Android/i.test(e)}function M(e){return/^((?!chrome|android).)*safari/i.test(e)}function x(e,t){return new Promise((i=>{var n;setTimeout((()=>{Promise.resolve(e()).then(i)}),null!==(n=null==t?void 0:t.timeout)&&void 0!==n?n:0)}))}function A(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}const C=()=>({equals:(e,t)=>Object.is(e,t)});function O(e){return(0,o.Zt)(((t,i)=>{const n=e.indexOf(t),r=e.indexOf(i);switch(!0){case-1===n&&-1===r:return 0;case-1!==n&&-1===r:return-1;case-1===n&&-1!==r:return 1;default:return n<=r?-1:1}}))}function T(e,t,i){return function(){try{return i(...arguments)}catch(i){e.reportError(i,t.get())}}}function U(e){return t=>null!=t&&e in t?t[e]:void 0}function G(e){let t=a.YP;const i=(0,a.fS)((()=>{const i=e();return t=(0,a.G)(i),i}));return()=>i(t)}const j=e=>t=>{var i;const n=Object.assign({},t);for(const r in e)n[r]=null===(i=e[r])||void 0===i?void 0:i.call(e,t[r]);return n};function R(e){return t=>(e(t),t)}const L=e=>t=>{const i=e.slice(0,-1),o=e.slice(-1)[0];return(0,r.zG)(i,n.f2((e=>{let[i,n]=e;return(0,r.zG)(t,a.DT(i),a.UI(n))})),a.fS((()=>o(t))))},B=e=>t=>{if("number"==typeof t)return t;if("string"==typeof t){const i=e(t);return Number.isNaN(i)?void 0:i}},z=B(parseInt);B(parseFloat)},6574:(e,t,i)=>{i.d(t,{l:()=>n});class n{constructor(e){var t;this.config=e,this.shouldUsePerformanceMark=!1,this.placeholderSpan={spanId:null,finish:()=>({})},this.shouldUsePerformanceMark=(null===(t=null===window||void 0===window?void 0:window.performance)||void 0===t?void 0:t.mark)&&this.config.tracingEnabled}startSpan(e){var t;if(this.shouldUsePerformanceMark){const i=this.generateId(),n=`permutive_${e}`,r=`${n}${i}_start`;return null===(t=null===window||void 0===window?void 0:window.performance)||void 0===t||t.mark(r),{spanId:r,finish:()=>{var e,t;null===(t=null===(e=null===window||void 0===window?void 0:window.performance)||void 0===e?void 0:e.measure)||void 0===t||t.call(e,n,r)}}}return this.placeholderSpan}generateId(){return"_"+Math.random().toString(36).substr(2,9)}}},4730:(e,t,i)=>{i.d(t,{b:()=>r});var n=i(2652);class r{constructor(e,t){this.timeoutDurationInMilliseconds=e,this.maxTimeOutDurationInMilliseconds=t}schedule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeoutDurationInMilliseconds,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,t,i)}scheduleAccumulated(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeoutDurationInMilliseconds,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,i,n,t)}scheduleForPageUnload(e){return(0,n.aT)(e)}debounce(e,t,i,r){let a,o,s,c=[];return u=>{r&&(s=r.concat(null!=s?s:r.empty,u));const l=(0,n.b2)();c.push(l);return a&&window.clearTimeout(a),a=window.setTimeout((()=>{window.clearTimeout(o),o=void 0;const t=e(s||u);c.forEach((e=>e.resolve(t))),s=null==r?void 0:r.empty,c=[]}),t),o||(o=window.setTimeout((()=>{window.clearTimeout(a),o=void 0;const t=e(s||u);c.forEach((e=>e.resolve(t))),s=null==r?void 0:r.empty,c=[]}),i)),l.promise}}}},4996:(e,t,i)=>{i.d(t,{i:()=>n});class n{constructor(e){this.messages=e,this.queue=[],this.nextNotify=null,e.on("permutive:taskQueue:update",(()=>{this.execute()}))}add(e){this.queue.push(e),this.notify()}notify(){const e=()=>{this.messages.emit("permutive:taskQueue:update")},t=(new Date).getTime();null===this.nextNotify||this.nextNotify<t-50?(this.nextNotify=t,e()):this.nextNotify<=t&&(this.nextNotify=t+50,window.setTimeout(e,50))}execute(){if(0===this.queue.length)return;let e=!1,t=!1,i=0;for(let n=0;n<this.queue.length;n++){const r=this.queue[n];if(r.complete)i+=1;else if(r.started)t=!0,e=e||r.blocks();else{if(r.waits()&&t)break;e||(t=!0,e=e||r.blocks(),r.execute((()=>{this.notify()})))}}this.queue.splice(0,i)}size(){return this.queue.length}}},3030:(e,t,i)=>{i.d(t,{_Y:()=>o,bk:()=>a,zM:()=>r});var n=i(3735);const r=()=>{var e,t;const i=null===(t=null===(e=window.location.href.split("?")[1])||void 0===e?void 0:e.split("#")[0])||void 0===t?void 0:t.split("&");return void 0===i?{}:i.reduce(((e,t)=>{const[i,n]=t.split("=");return Object.assign(Object.assign({},e),{[i]:n})}),{})},a=e=>{if(!e)return"";return(0,n.zG)(e,(e=>{const t=e.length-1;return"/"===e[t]?e.slice(0,t):e}))};function o(e){const t=e.match(/\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/),i=e.match(/[a-z0-9][a-z0-9-]+\.[a-z.]{2,24}$/i),n=e.match(/localhost/);if(i&&i.length>0){const t=e.split(".").reverse();return t.length>=3&&t[1].match(/^(com|edu|gov|net|mil|org|nom|co|ac|name|info|biz)$/i)?t[2]+"."+t[1]+"."+t[0]:t[1]+"."+t[0]}return t&&(null==t?void 0:t.length)>0?t[0]:n&&(null==n?void 0:n.length)>0?"localhost":""}},7305:(e,t,i)=>{i.r(t),i.d(t,{CTVAddon:()=>p,load:()=>d});var n=i(3735),r=i(6567),a=i(9853),o=i(2652);const s="ctv",c=(0,a.Hn)(s),u=c("ctv_engagement_enabled",!0),l=c("ctv_engagement_event_seconds",5),d=e=>{!1};class p{constructor(e){this.timerHandle=null,this.shouldTrackCTVEngagement=u&&l>0,this.DEFAULT_DURATION=0,this.options=e,this.input=this.sanitiseInput({duration:e.duration,videoProperties:e.videoProperties}),this.updateClientContext(this.input.videoProperties),this.options.viewId.generateAndSet(),this.trackerState="Paused",this.commonPlaybackState={},this.resumedState={},this.pausedState={},this.setDuration(this.input.duration),this.trackVideoView()}play(e){const t=()=>{this.shouldTrackCTVEngagement&&!this.timerHandle&&(this.timerHandle=this.registerEngagementInterval(l))},i=e=>(0,n.zG)(this.sanitisePosition(null!=e?e:this.pausedState.pausedPosition,(()=>0)),(e=>(this.updateResumedState({resumedPosition:e,resumedTimestamp:Date.now()}),e)),(e=>this.calculateMaximumViewedPosition(e)),(e=>this.updateCommonPlayBackState({maximumViewedPosition:e,percentageViewed:this.calculatePercentageViewed(e)})));switch(this.trackerState){case"Paused":t(),this.updateTrackerState("Resumed"),i(e);break;case"Resumed":i(e)}}pause(e){const t=e=>(0,n.zG)(this.sanitisePosition(e,(()=>this.calculateCurrentPosition())),(e=>(this.updatePausedState({pausedPosition:e,pausedTimestamp:Date.now()}),e)),(e=>this.calculateMaximumViewedPosition(e)),(e=>this.updateCommonPlayBackState({maximumViewedPosition:e,percentageViewed:this.calculatePercentageViewed(e),accumulatedEngagementTime:this.calculateAccumulatedEngagementTime()})));"Resumed"===this.trackerState&&(this.clearInterval(),this.updateTrackerState("Paused"),t(e))}stop(e){this.clearInterval(),"Resumed"===this.trackerState&&(0,n.zG)(this.sanitisePosition(e,(()=>this.calculateCurrentPosition())),(e=>this.calculateMaximumViewedPosition(e)),(e=>this.updateCommonPlayBackState({maximumViewedPosition:e,percentageViewed:this.calculatePercentageViewed(e)}))),this.updateTrackerState("Stopped"),this.trackVideoCompletion({completion:this.commonPlaybackState.percentageViewed,engaged_time:"Resumed"===this.trackerState?this.calculateTotalEngagedTime():this.commonPlaybackState.accumulatedEngagementTime})}setDuration(e){this.commonPlaybackState.totalVideoDuration=e}track(){this.options.permutive.track(...arguments)}trackVideoView(){this.track("Videoview",{isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",local_time:g(),video:this.input.videoProperties})}trackVideoEngagement(e){this.track("VideoEngagement",{isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",engaged_time:e,local_time:g(),video:this.input.videoProperties})}trackVideoCompletion(e){this.track("VideoCompletion",{isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",aggregations:{VideoEngagement:e},local_time:g(),video:this.input.videoProperties})}updateTrackerState(e){this.trackerState=e}registerEngagementInterval(e){return setInterval((()=>{this.trackVideoEngagement(e)}),1e3*e)}sanitisePosition(e,t){return(0,n.zG)(e,r.ij,r.EQ(t,(e=>"number"!=typeof e||Number.isNaN(e)?t():Math.max(e,0))))}calculateCurrentPosition(){return Date.now()-this.resumedState.resumedTimestamp+this.resumedState.resumedPosition}updateResumedState(e){this.resumedState=Object.assign(Object.assign({},this.resumedState),e)}updatePausedState(e){this.pausedState=Object.assign(Object.assign({},this.pausedState),e)}updateCommonPlayBackState(e){var t,i;const n=e.accumulatedEngagementTime?null!==(t=e.accumulatedEngagementTime+this.commonPlaybackState.accumulatedEngagementTime)&&void 0!==t?t:0:null!==(i=this.commonPlaybackState.accumulatedEngagementTime)&&void 0!==i?i:0;this.commonPlaybackState=Object.assign(Object.assign(Object.assign({},this.commonPlaybackState),e),{accumulatedEngagementTime:n})}calculateAccumulatedEngagementTime(){return this.pausedState.pausedTimestamp-this.resumedState.resumedTimestamp}calculateMaximumViewedPosition(e){var t;return Math.max(e,null!==(t=this.commonPlaybackState.maximumViewedPosition)&&void 0!==t?t:0)}calculateTotalEngagedTime(){return Date.now()-this.resumedState.resumedTimestamp+this.commonPlaybackState.accumulatedEngagementTime}calculatePercentageViewed(e){if(0===this.commonPlaybackState.totalVideoDuration)return 0;const t=e/this.commonPlaybackState.totalVideoDuration;return t>1||t<0?0:t}clearInterval(){this.timerHandle&&(clearInterval(this.timerHandle),this.timerHandle=null)}updateClientContext(e){const t=(0,o.qh)(e);this.options.clientContext.updateContext(...t)}logDebug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.options.logger.debug("[ctv]",...t)}sanitiseInput(e){const t=e=>(0,n.ls)(r.DT(e),r.pF(n.r5)),i=t(o.jn),a=t(o.HD),s=t(o.BJ),c=t((e=>Array.isArray(e)&&e.every(o.HD)));return(0,n.zG)(e,(0,o.rO)({duration:(0,n.ls)(r.DT(o.BJ),r.pF((()=>this.DEFAULT_DURATION))),videoProperties:(0,n.ls)(r.DT(o.Kn),r.UI((0,o.rO)({age_rating:a,audio_language:a,consecutive_episodes:s,content_type:c,country:a,episode_number:s,genre:c,iab_categories:c,original_language:a,runtime:s,season_number:s,subtitles:(0,n.ls)(r.DT(o.Kn),r.UI((0,o.rO)({enabled:i,language:a})),r.pF(n.r5)),title:a})),r.fS((()=>({}))))}),(0,o.bw)((t=>this.logDebug("validated input",{original:e,validated:t}))))}}function g(){const e=new Date,t=-e.getTimezoneOffset(),i=t>=0?"+":"-",n=e=>e.toString().padStart(2,"0");return e.getFullYear()+"-"+n(e.getMonth()+1)+"-"+n(e.getDate())+"T"+n(e.getHours())+":"+n(e.getMinutes())+":"+n(e.getSeconds())+i+n(Math.floor(Math.abs(t)/60))+":"+n(Math.abs(t)%60)}},7826:(e,t,i)=>{i.d(t,{$7:()=>h,Cg:()=>g,Qd:()=>f,cs:()=>m,dN:()=>d,zi:()=>p});var n=i(5e3),r=i(3735),a=i(6567),o=i(3328),s=i(2116),c=i(2851),u=i(2652);const l="[PrebidJS]";function d(e){const t=(()=>{const e=["pbjs",...window._pbjsGlobals||[]];return[...new Set(e)]})();e.logger.debug(l,"Found keys",t);return s.K4((()=>(0,r.zG)(t,o.UI((0,r.ls)((e=>(e=>{const t={maxAttempts:100,waitTimeInMs:50};let i;return{windowPropertyKey:e,pbjs:(0,u.a4)((()=>i),(()=>{const t=(0,r.zG)(window,(0,u.vg)(e));return!(!(null==t?void 0:t.que)||"function"!=typeof(null==t?void 0:t.getEvents)||(i=t,0))}),t)}})(e)),(t=>(0,r.zG)(c.p4(t.pbjs),c.UI((i=>{const o=n.pF((i=>(i.message=`Failed to resolve key "${t.windowPropertyKey}". ${i.message}`,e.reportError(`${l} ${i.toString()}`),a.YP)));return(0,r.zG)(i,(0,u.bw)(a.UI((i=>e.logger.debug(l,`Completed check for key "${t.windowPropertyKey}"`,{result:i})))),a.UI(o),a.UI(a.UI((e=>({windowPropertyKey:t.windowPropertyKey,pbjs:e})))))})))))),(e=>c.vP(...e)),c.UI((e=>({completedChecks:e.every(a.pC),pbjsKeyPairs:e.map(a.xH)}))),c.UI((e=>{let{pbjsKeyPairs:t,completedChecks:i}=e;const n=t.filter(a.pC),[s,...c]=n;return{completedChecks:i,mainPair:null!=s?s:a.YP,otherPairs:(0,r.zG)(c,o.DZ(r.yR))}})))))}const p=e=>"function"==typeof e.readConfig?e.readConfig():e.getConfig();function g(e){var t;const i=null===(t=e.meta)||void 0===t?void 0:t.advertiserDomains;if("string"==typeof i)return[i];if(Array.isArray(i)){const e=i.filter((e=>"string"==typeof e));return e.length>0?e:void 0}}const m=e=>{var t;const i=e.appnexus&&"object"==typeof e.appnexus&&"buyerMemberId"in e.appnexus&&e.appnexus.buyerMemberId,n=e.rubicon&&"object"==typeof e.rubicon&&"networkId"in e.rubicon&&e.rubicon.networkId,r=i||n||(null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.networkId);return r?`${r}`:void 0},f=e=>{var t;const i=e=>isNaN(e)?void 0:e;try{return"number"==typeof e.cpm?i(e.cpm):(0,r.zG)(null!==(t=e.cpm)&&void 0!==t?t:"",parseFloat,i)}catch(e){return}},h=e=>e.dealId?`${e.dealId}`:void 0},122:(e,t,i)=>{i.d(t,{X:()=>n});const n=e=>{let t=!0;const i=[];return{addBlocker:n=>{i.push(n),e.logger.log("<blockers> added blocker "+n),e.messages.on(n,(()=>{if(t){const r=i.indexOf(n);r>=0&&(i.splice(r,1),e.logger.log("<blockers> removed blocker "+n)),0===i.length&&(t=!1,e.messages.emit("permutive:blockers:empty"),e.logger.log("<blockers> complete"))}}))}}}},7748:(e,t,i)=>{i.d(t,{X:()=>n});class n{constructor(){this.properties={}}overrideCustomProps(e){this.properties=e}getCustomProps(){return this.properties}}},7200:(e,t,i)=>{i.d(t,{J:()=>r});var n=i(6308);class r{constructor(){this.replacementMap={}}register(e){this.replacementMap=Object.assign(Object.assign({},this.replacementMap),e.getReplacementMap)}enrich(e,t){return this.enrichRecursive(e,t)}enrichRecursive(e,t){const i={output:{},isFullyEnriched:!0},r=Object.keys(e);for(let a=0;a<r.length;a++){const o=r[a],s=e[o];switch(!0){case(0,n.t)(s):const[e,r]=this.isPropertyReplaceable(s);i.output[o]=e?r:s,this.replacementMap.hasOwnProperty(s)&&r===s&&t&&delete i.output[o],i.isFullyEnriched=!!e&&i.isFullyEnriched;break;case null!==s&&"object"==typeof s&&s.constructor===Object:const a=this.enrichRecursive(s,t);i.output[o]=a.output,i.isFullyEnriched=i.isFullyEnriched&&a.isFullyEnriched;break;default:i.output[o]=s}}return i}isPropertyReplaceable(e){const t=this.replacementMap[e];return[this.replacementMap.hasOwnProperty(e)&&t!==e,t]}}},6341:(e,t,i)=>{i.d(t,{B:()=>s,H:()=>c});var n=i(3735),r=i(5151),a=i(6934);const o=[],s=e=>{o.push(e)},c=e=>{const t=o.map((t=>(0,a.Y3)((()=>t.load(e)),(t=>{e.api.reportError(t)}))));return(0,n.zG)((0,r.RD)(t),(0,r.UI)(n.Q1))}},6308:(e,t,i)=>{i.d(t,{t:()=>n});const n=e=>"string"==typeof e&&"$"===e[0]},2546:(e,t,i)=>{i.r(t),i.d(t,{make:()=>O});var n=i(3735),r=i(655);let a,o;const s=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap;let p={get(e,t,i){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||u.get(e);if("store"===t)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return f(e[t])},set:(e,t,i)=>(e[t]=i,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function g(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(h(this),t),f(s.get(this))}:function(...t){return f(e.apply(h(this),t))}:function(t,...i){const n=e.call(h(this),t,...i);return u.set(n,t.sort?t.sort():[t]),f(n)}}function m(e){return"function"==typeof e?g(e):(e instanceof IDBTransaction&&function(e){if(c.has(e))return;const t=new Promise(((t,i)=>{const n=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",a),e.removeEventListener("abort",a)},r=()=>{t(),n()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",r),e.addEventListener("error",a),e.addEventListener("abort",a)}));c.set(e,t)}(e),t=e,(a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,p):e);var t}function f(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,i)=>{const n=()=>{e.removeEventListener("success",r),e.removeEventListener("error",a)},r=()=>{t(f(e.result)),n()},a=()=>{i(e.error),n()};e.addEventListener("success",r),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&s.set(t,e)})).catch((()=>{})),d.set(t,e),t}(e);if(l.has(e))return l.get(e);const t=m(e);return t!==e&&(l.set(e,t),d.set(t,e)),t}const h=e=>d.get(e);function _(e,t,{blocked:i,upgrade:n,blocking:r,terminated:a}={}){const o=indexedDB.open(e,t),s=f(o);return n&&o.addEventListener("upgradeneeded",(e=>{n(f(o.result),e.oldVersion,e.newVersion,f(o.transaction))})),i&&o.addEventListener("blocked",(()=>i())),s.then((e=>{a&&e.addEventListener("close",(()=>a())),r&&e.addEventListener("versionchange",(()=>r()))})).catch((()=>{})),s}function v(e,{blocked:t}={}){const i=indexedDB.deleteDatabase(e);return t&&i.addEventListener("blocked",(()=>t())),f(i).then((()=>{}))}const b=["get","getKey","getAll","getAllKeys","count"],y=["put","add","delete","clear"],w=new Map;function k(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(w.get(t))return w.get(t);const i=t.replace(/FromIndex$/,""),n=t!==i,r=y.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!r&&!b.includes(i))return;const a=async function(e,...t){const a=this.transaction(e,r?"readwrite":"readonly");let o=a.store;return n&&(o=o.index(t.shift())),(await Promise.all([o[i](...t),r&&a.done]))[0]};return w.set(t,a),a}p=(e=>({...e,get:(t,i,n)=>k(t,i)||e.get(t,i,n),has:(t,i)=>!!k(t,i)||e.has(t,i)}))(p);var E=i(2688),S=i(5e3),I=i(5151),P=i(6934),D=i(2652);function q(e){return"development"===e.environment?window.isSecureContext:"https:"===window.location.protocol}const M="[IDB]",x=(e,t,i,a,o,s)=>(0,n.zG)((0,I.of)(e.getNamespacedStorageKey(o)),(0,I.tS)((e=>(0,P.Y3)((()=>(0,r.mG)(void 0,void 0,void 0,(function*(){return i.put(a,s,e)}))),E.w))),(0,I.UI)((0,S.g_)((e=>{throw t.error(M,`Failed to store crypto key to ${a} due to unexpected error,\n`,e),e}),(()=>s))),(e=>e()));class A{constructor(e,t,i,n,r,a,o,s){this.namespace=e,this.logger=t,this.cryptoAlg=i,this.idb=n,this.mainObjectStore=r,this.keyObjectStore=a,this.keyObjectKey=o,this.cryptoKey=s,this.MAX_CONSECUTIVE_PUTS=30,this.puts=1,this.hasForcedCompaction=!1,this.logDebug("Created",this.idb)}static initialise(e,t,i,a,o,s,c,u,l,d){const p=(0,D.G6)(navigator.userAgent)&&!1,g=[q(e),o.isAvailable(),!p].every((e=>!0===e)),m=(e,i,s)=>(0,r.mG)(this,void 0,void 0,(function*(){return(0,n.zG)(yield e.get(s,t.getNamespacedStorageKey(i)),(e=>(0,r.mG)(this,void 0,void 0,(function*(){return null!=e?e:o.generateKey(!1)}))),(i=>(0,r.mG)(this,void 0,void 0,(function*(){return x(t,a,e,u,l,yield i)})))).catch((e=>{const t=(0,E.w)(e);throw a.error(M,"Get crypto key failed. Got\n",t),t}))})),f=(e,t,i)=>t.includes(i)?(0,n.Q1)():e.createObjectStore(i),h=g?(0,S.Y3)((()=>function(e){if(!(0,D.G6)(navigator.userAgent)||!indexedDB.databases)return Promise.resolve();let t,i=0;return new Promise((e=>{const n=()=>(i++,indexedDB.databases().finally(e));t=window.setInterval(n,100),n()})).finally((()=>{clearInterval(t),e.track({name:"sdk_idb_conn_attempt_safari_count",value:i,labels:{}})}))}(i).then((()=>_(s,d,{upgrade:e=>{const t=[...e.objectStoreNames];f(e,t,c),f(e,t,u)}})))),String):(0,S.t$)("Connection not attempted. Default to localStorage");return(0,S.g_)((e=>(0,P.t$)(e)),(e=>(0,n.zG)((0,P.Y3)((()=>e.then((e=>(0,r.mG)(this,void 0,void 0,(function*(){return{db:e,cryptoKey:yield m(e,l,u)}}))))),String),(0,P.UI)((e=>{let{db:i,cryptoKey:n}=e;return new A(t,a,o,i,c,u,l,n)})))))(h)}put(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){return(0,n.zG)((()=>(0,r.mG)(this,void 0,void 0,(function*(){return(0,n.bc)(JSON.stringify(e),this.cryptoKey)}))),(0,I.tS)((e=>{let[t,i]=e;return(0,I.of)(this.cryptoAlg.encrypt(i,t))})),(0,I.tS)((e=>()=>(0,r.mG)(this,void 0,void 0,(function*(){return yield this.resetIfRequired(this.puts++),e})))),(0,I.tS)((e=>(0,P.Y3)((()=>this.idb.put(this.mainObjectStore,e,this.namespace.getNamespacedStorageKey(String(t)))),E.w))),(0,I.UI)((0,S.g_)((i=>{throw this.logError(`Failed to put "${t.toString()}" value`,e,". Got \n",i),"QuotaExceededError"===i.name&&this.forceCompaction(),i}),(()=>t))),(e=>e()))}))}get(e){return(0,n.zG)(this.namespace.getNamespacedStorageKey(String(e)),(t=>this.idb.get(this.mainObjectStore,t).then((e=>(0,r.mG)(this,void 0,void 0,(function*(){return e?JSON.parse(yield this.cryptoAlg.decrypt(this.cryptoKey,e)):null})))).catch((t=>{const i=(0,E.w)(t);throw this.logError(`Get ${e.toString()} failed. Got`,i),i}))))}delete(e){return(0,n.zG)(this.namespace.getNamespacedStorageKey(String(e)),(e=>this.idb.delete(this.mainObjectStore,e)))}deleteStore(){return this.logDebug("Deleting",this.idb),this.idb.close(),v(this.idb.name)}forceCompaction(){if(this.hasForcedCompaction)return null;this.hasForcedCompaction=!0,this.logDebug("Attempting to force compaction");const e=`__${this.mainObjectStore}`;return _(e).then((t=>(t.close(),v(e))))}resetIfRequired(e){return(0,D.G6)(navigator.userAgent)&&e%this.MAX_CONSECUTIVE_PUTS==0?this.reset():Promise.resolve()}reset(){return(0,r.mG)(this,void 0,void 0,(function*(){const e=this.idb.name,t=this.idb.version;yield this.deleteStore(),this.idb=yield _(e,t),this.idb.createObjectStore(this.mainObjectStore),this.idb.createObjectStore(this.keyObjectStore),yield x(this.namespace,this.logger,this.idb,this.keyObjectStore,this.keyObjectKey,this.cryptoKey),this.logDebug("Reset to",this.idb)}))}logDebug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.debug(M,...t)}logError(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.error(M,...t)}}var C=i(8259);const O=(e,t,i,r,a,o,s,c,u,l,d)=>(0,n.zG)(A,(0,C._z)({logger:l,consentTracking:d,prefix:M})).initialise(e,t,i,l,r,a,o,s,c,u)},6197:(e,t,i)=>{i(2652)},9581:(e,t,i)=>{i.r(t),i.d(t,{PrebidAddon:()=>y,load:()=>b});var n=i(9853),r=i(655),a=i(1500),o=i(5e3),s=i(3735),c=i(6567),u=i(2851),l=i(2652),d=i(7826);const p="prebidAddonLoadingtime",g="prebidAddonInitStart",m="prebidAddonInitEnd",f=(0,n.Hn)("prebid")("revenue_insights_enabled",!1);class h{constructor(e){this.trackedBids=[],this.logger=e.logger,this.permutive=e.permutive,this.options=e,this.startRevenueInsights()}startRevenueInsights(){return(0,r.mG)(this,void 0,void 0,(function*(){if(this.logger.debug("[Revenue Insights]","revenue insights enabled",f),!1===f)return;performance.mark(g);const e={maxAttempts:200,waitTimeInMs:50};(0,s.zG)(this.options.pbjs,u.UI(c.UI((t=>(0,l.a4)((()=>this.runRevenueInsights(t)),(()=>{var e;return!!(null===(e=window.googletag)||void 0===e?void 0:e.pubads)}),e)))))}))}runRevenueInsights(e){this.trackMetrics();const t=()=>{e.getAllWinningBids().forEach((e=>i(e,!0))),e.onEvent("bidWon",(e=>i(e,!0)))},i=(e,t)=>(0,o.Y3)((()=>u(e,t)),(e=>{})),n=e=>{var t,i,n,r,a,o;const s=(null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.brandName)||(null===(i=null==e?void 0:e.meta)||void 0===i?void 0:i.clickUrl)||(null===(n=null==e?void 0:e.adomain)||void 0===n?void 0:n[0])||(null===(r=null==e?void 0:e.meta)||void 0===r?void 0:r.advertiserName)||(null!==(a=(0,d.Cg)(e))&&void 0!==a?a:[])[0]||(null===(o=null==e?void 0:e.adserverTargeting)||void 0===o?void 0:o.hb_adomain);return s?`${s}`:void 0},r=e=>{var t,i,n;const r=e.rubicon&&"object"==typeof e.rubicon&&"advertiserId"in e.rubicon&&e.rubicon.advertiserId||(null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.brandId)||(null===(i=null==e?void 0:e.meta)||void 0===i?void 0:i.buyerId)||(null===(n=null==e?void 0:e.meta)||void 0===n?void 0:n.advertiserId);return r?`${r}`:void 0},s={equals:(e,t)=>e.ad_unit_code===t.ad_unit_code&&e.ad_id===t.ad_id&&e.auction_id===t.auction_id&&e.winning_bid===t.winning_bid},c=e=>!(0,a.t9)(s)(e,this.trackedBids),u=(t,i)=>{const{bidderTimeout:a}=(0,d.zi)(e),o=((e,t,i)=>{var a,o;return{ad_id:null!==(a=e.adId)&&void 0!==a?a:"",ad_unit_code:null!==(o=e.adUnitCode)&&void 0!==o?o:"",bidder:e.bidder,bidder_timeout:i,deal_id:(0,d.$7)(e),cpm:(0,d.Qd)(e),hb_pb:e.adserverTargeting&&e.adserverTargeting.hb_pb,height:(0,l.rH)(e.height),width:(0,l.rH)(e.width),time_to_respond:e.timeToRespond,bid_available:"string"==typeof e.statusMessage&&e.statusMessage.indexOf("empty")<0,winning_bid:t,advertiser_id:r(e),advertiser_name:n(e),dsp_id:(0,d.cs)(e),auction_id:e.auctionId}})(t,i,a);c(o)&&(o.cpm&&o.cpm>0&&i&&this.permutive.track("PrebidBid",o),this.updateTrackedBids(o))};e.que.push((()=>{window.googletag.cmd.push(t)}))}trackMetrics(){performance.mark(m),performance.measure(p,g,m);const e=performance.getEntriesByName(p)[0].duration;this.options.metrics.track({name:"sdk_addon_init_duration_seconds",value:e,labels:{addon:"prebid"}})}updateTrackedBids(e){const t=this.trackedBids.findIndex((t=>e.ad_id===t.ad_id&&e.winning_bid!==t.winning_bid));t>-1?this.trackedBids[t]=Object.assign(Object.assign({},this.trackedBids[t]),e):this.trackedBids.push(e)}}const _="prebid",v=(0,n.Hn)("prebid")("data_provider_config",{ac_bidders:[]}),b=e=>{e.q.push({functionName:"addon",arguments:[_,{}]})};class y extends h{constructor(e){super(e),this.dataProviderParamsFromIntegrationConfig={},this.logger=e.logger,this.externalData=e.externalData,this.parsePrebidConfig()}getPermutiveRtdConfig(){return this.logDebug("RTD config retrieved",this.dataProviderParamsFromIntegrationConfig),this.dataProviderParamsFromIntegrationConfig}storeAndSetPermutiveRtdConfig(e){this.externalData.setExternalJsonData("permutive-prebid-rtd",e),this.dataProviderParamsFromIntegrationConfig=e}parsePrebidConfig(){this.logDebug("data provider config",v);const{ac_bidders:e}=v;this.storeAndSetPermutiveRtdConfig({acBidders:e})}logDebug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.log("[prebid]",...t)}}},8036:(e,t,i)=>{i.d(t,{AG:()=>s,UC:()=>a,Yh:()=>o});var n=i(6567),r=i(2652);const a=(e,t,i)=>e in t||(()=>{const t="number"==typeof e?e:parseInt(e);return!1===isNaN(t)&&i.has(t)})(),o=e=>(0,r.b0)(e,((e,t)=>t.state?(0,n.G)({[t.checksum]:t.state}):n.YP));function s(e){var t;return["SegmentEntry","SegmentExit"].includes(e.name)&&void 0!==(null===(t=e.properties)||void 0===t?void 0:t.segment_number)}},1628:(e,t,i)=>{i.d(t,{c:()=>Be,e:()=>Re});var n=i(7183),r=i(3735),a=i(4386),o=i(655);const s=()=>({kind:"null",value:null}),c=e=>({kind:"string",value:e}),u=e=>({kind:"number",value:e}),l=e=>({kind:"array",value:e}),d=e=>({kind:"object",value:e}),p=e=>e,g=()=>({kind:"bottom"}),m=e=>({kind:"inner",a:e}),f=e=>({kind:"top",error:e}),h=e=>({kind:"unbounded",group:e}),_=(e,t)=>({kind:"windowed",key:t,group:e}),v=(e,t,i)=>({kind:"countLimit",n:i,limit:t,group:e}),b=(e,t,i)=>({kind:"uniqueLimit",n:i,limit:t,group:e}),y=e=>({kind:"numberGroup",group:e}),w=e=>({kind:"stringGroup",group:e}),k=e=>({kind:"tuple",tuple:e}),E=e=>({state:e}),S=(e,t)=>({commands:e,payload:t});var I=i(7209),P=i(2751);const D=(e,t)=>{switch(e.kind){case"bottom":return{kind:"bottom"};case"inner":return m(t(e.a));case"top":return f(e.error)}},q=e=>(0,I.Zt)(((t,i)=>{if("bottom"===t.kind&&"bottom"===i.kind)return 0;if("bottom"===t.kind)return-1;if("bottom"===i.kind)return 1;if("top"===t.kind&&"top"===i.kind)return P.Df.compare(t.error,i.error);if("top"===t.kind)return 1;if("top"===i.kind)return-1;if("inner"===t.kind&&"inner"===i.kind)return e.compare(t.a,i.a);throw new Error("Non exhaustive match in extendedAlgebraOrd")}));var M=i(6567),x=i(1885),A=i(1500),C=i(5e3),O=function(e){return-1===e?1:1===e?-1:0};function T(e,t){return(0,A.oA)(e.map(t))}function U(e,t,i,n){const r=(e,t)=>{if(0===e.length)return(0,A.oA)(t.map((e=>(0,M.G)({1:e[1],2:i(M.YP,(0,M.G)(e[2]))}))));if(0===t.length)return(0,A.oA)(e.map((e=>(0,M.G)({1:e[1],2:i((0,M.G)(e[2]),M.YP)}))));if(e.length>0&&t.length>0&&(0,I.lt)(n)(e[0][1],t[0][1])){const[n,...a]=e,o=n[1],s=n[2];return(0,A.Ce)({1:o,2:i((0,M.G)(s),M.YP)})(r(a,t))}if(e.length>0&&t.length>0&&(0,I.gt)(n)(e[0][1],t[0][1])){const[n,...a]=t,o=n[1],s=n[2];return(0,A.Ce)({1:o,2:i(M.YP,(0,M.G)(s))})(r(e,a))}if(e.length>0&&t.length>0){const[n,...a]=e,[o,...s]=t,c=n[1],u=n[2],l=o[2];return(0,A.Ce)({1:c,2:i((0,M.G)(u),(0,M.G)(l))})(r(a,s))}throw new Error("Non exhaustive match in mapOption2")},a=(0,I.Uz)((e=>e[1]))(n),o=(e=>{const t=T(e,(e=>(0,M.pC)(e[2])?(0,M.G)({1:e[1],2:e[2].value}):M.YP));return 0===t.length?M.YP:(0,M.G)(t)})(r((0,A.DY)(a)([...e].map((e=>({1:e[0],2:e[1]})))),(0,A.DY)(a)([...t].map((e=>({1:e[0],2:e[1]}))))));return(0,M.UI)((e=>new Map(e.map((e=>[e[1],e[2]])))))(o)}function G(e,t,i,n){const r=(0,I.Uz)((e=>e[0]))(n),a=(0,A.DY)(r)([...t]).reduceRight(((e,t)=>{if((0,C.nM)(e)){const n=i(t[1],e.left);return(0,M.pC)(n)?(0,C.t$)(n.value):(0,C.F2)(t[0])}return e}),(0,C.t$)(e));return(0,M.Uo)(a)}function j(e,t){return new Map([...e].map(t))}function R(e,t){return new Map([...e].filter(t))}var L=i(4268),B=i(4011);function z(e){return JSON.stringify(N(e))}function N(e){switch(e.kind){case"null":return W.encode(e);case"string":return K.encode(e);case"number":return V.encode(e);case"array":return Y.encode(e);case"object":return Q.encode(e)}}function $(e){return null===e?W.decode(e):"number"==typeof e?V.decode(e):"string"==typeof e?K.decode(e):Array.isArray(e)?Y.decode(e):Q.decode(e)}const F=(e,t)=>(0,C.t$)(`Failed to decode. Input was ${JSON.stringify(e)}. Codec type was ${t}`),W={encode:e=>null,decode:e=>null===e?(0,C.F2)({kind:"null",value:null}):F(e,"SimpleNull")},K={encode:e=>e.value,decode:e=>"string"==typeof e?(0,C.F2)(c(e)):F(e,"SimpleString")},V={encode:e=>e.value,decode:e=>"number"==typeof e?(0,C.F2)(u(e)):F(e,"SimpleNumber")},Y={encode:e=>e.value.map(N),decode:e=>{if(Array.isArray(e)){const t=(0,A.fw)(C.g1)($)(e);return(0,C.UI)(l)(t)}return F(e,"SimpleArray")}},Q={encode:e=>{const t=[...e.value.entries()];return Object.assign({},...Array.from(t,(([e,t])=>({[e]:N(t)}))))},decode:e=>{if(e&&e.constructor===Object){const t=(0,A.fw)(C.g1)((([e,t])=>(0,r.zG)($(t),(0,C.UI)((t=>(0,r.bc)(e,t))))))(Object.entries(e));return(0,C.UI)((e=>d(new Map([...e]))))(t)}return F(e,"SimpleObject")}};function H(e){return(0,r.zG)(e,X,(0,M.UI)(z),(0,M.fS)((()=>"<encode error>")))}function J(e){return(0,M.UI)(re)(function(e){switch(e.state.kind){case"top":return(0,M.G)(c(e.state.error));case"bottom":return M.YP;case"inner":return X(e.state.a)}}(e))}function X(e){return function(e){switch(e.kind){case"numberGroup":case"stringGroup":return Z(e.group);case"tuple":return e.tuple.length>0}}(e.payload)?(0,M.G)(l(function(e,t){const i=(0,M.UI)((e=>(0,A.Ce)(e)(t)))(e);return(0,M.fS)((()=>t))(i)}((0,M.UI)((e=>c(function(e){const t=e=>{switch(e){case"add":return"p";case"mul":return"m";case"max":return"v";case"min":return"n"}},i=e=>1===e[2]?t(e[1]):t(e[1])+JSON.stringify(e[2]);return e.map(i).join("")}(e))))(e.commands),function(e){const t=e=>{switch(e.kind){case"bottom":return{kind:"null",value:null};case"top":return c(e.error);case"inner":return u(e.a)}},i=e=>T([ee,te,e=>(0,r.zG)(e,ne,d,M.G)],(t=>t(e))),n=e=>T([ee,ie,e=>(0,r.zG)(e,ne,(e=>j(e,(([e,t])=>[JSON.stringify(e),t]))),d,M.G)],(t=>t(e)));switch(e.kind){case"tuple":return e.tuple.map(t);case"stringGroup":return i(e.group);case"numberGroup":return n(e.group)}}(e.payload)))):M.YP}function Z(e){switch(e.kind){case"unbounded":return e.group.size>0;case"windowed":return e.group.size>0||(0,M.pC)(e.key);case"countLimit":case"uniqueLimit":return e.group.size>0||(0,M.pC)(e.limit)}}function ee(e){switch(e.kind){case"unbounded":return M.YP;case"windowed":return(0,M.G)(c("w"));case"countLimit":return(0,M.G)(c(1===e.n?"x":`x${e.n}`));case"uniqueLimit":return(0,M.G)(c(1===e.n?"u":`u${e.n}`))}}function te(e){switch(e.kind){case"unbounded":return M.YP;case"windowed":return(0,M.G)(c((0,M.pC)(e.key)?e.key.value:""));case"countLimit":case"uniqueLimit":return(0,M.G)(c((0,M.pC)(e.limit)?e.limit.value:""))}}function ie(e){switch(e.kind){case"unbounded":return M.YP;case"windowed":return(0,M.pC)(e.key)?(0,M.G)(u(e.key.value)):(0,M.G)({kind:"null",value:null});case"countLimit":case"uniqueLimit":return(0,M.pC)(e.limit)?(0,M.G)(u(e.limit.value)):(0,M.G)({kind:"null",value:null})}}function ne(e){switch(e.kind){case"unbounded":case"windowed":case"countLimit":case"uniqueLimit":return e.group}}function re(e){switch(e.kind){case"array":return 0===e.value.length?{kind:"null",value:null}:1===e.value.length?re(e.value[0]):l(e.value.map(re));case"object":return(0,r.zG)(R(e.value,(([e,t])=>"null"!==t.kind)),(e=>j(e,(e=>[e[0],re(e[1])]))),d);default:return e}}function ae(e){const t=e=>{if(0===e.length)return{kind:"bottom"};const t=(e=>{if(4!==e.length)return M.YP;const[t,i,n,r]=e;if("string"===t.kind&&"string"===i.kind&&"object"===r.kind){const e=(0,M.DT)((e=>oe(e[1].value)&&se(e[2].value)))({1:t,2:i});return(0,M.UI)((e=>({prim:e[1].value,grp:e[2].value,cutoff:n,m:r.value})))(e)}return M.YP})(e);if((0,M.pC)(t)){const{prim:e,grp:i,cutoff:n,m:r}=t.value,a=ce(n,r,ue(i));return"string"==typeof a?f(a):m(S(le(e),a))}const i=(e=>{if(3!==e.length)return M.YP;const[t,i,n]=e;if("string"===t.kind&&"object"===n.kind){const e=(0,M.DT)((e=>se(e.value)))(t);return(0,M.UI)((e=>({grp:e.value,cutoff:i,m:n.value})))(e)}return M.YP})(e);if((0,M.pC)(i)){const{grp:e,cutoff:t,m:n}=i.value,r=ce(t,n,ue(e));return"string"==typeof r?f(r):m(S(M.YP,r))}const n=(e=>{if(2!==e.length)return M.YP;const[t,i]=e;if("string"===t.kind&&"object"===i.kind){const e=(0,M.DT)((e=>oe(e.value)))(t);return(0,M.UI)((e=>({prim:e.value,m:i.value})))(e)}return M.YP})(e);if((0,M.pC)(n)){const{prim:e,m:t}=n.value;return m(S(le(e),w(h(t))))}const r=(e=>{if(1!==e.length)return M.YP;const[t]=e;return"object"===t.kind?(0,M.G)({m:t.value}):M.YP})(e);if((0,M.pC)(r)){const{m:e}=r.value;return m(S(M.YP,w(h(e))))}const a=(e=>{if(e.length<1)return M.YP;const[t,...i]=e;if("string"===t.kind){const e=(0,M.DT)((e=>oe(e.value)))(t);return(0,M.UI)((e=>({prim:e.value,rest:i})))(e)}return M.YP})(e);if((0,M.pC)(a)){const{prim:e,rest:t}=a.value;return m(S(le(e),pe(t)))}return m(S(M.YP,pe(e)))},i=e=>"array"===e.kind?(0,A.tS)(i)(e.value):[e];return"null"===e.kind?E({kind:"bottom"}):E(t(i(e)))}function oe(e){const t=e.split("");if(!0==(0===t.length))return!1;{const[e,...i]=t;return-1!=="pmvn".indexOf(e)&&i.every((e=>-1!=="pmvn0123456789".indexOf(e)))}}function se(e){const t=e.split("");switch(!0){case 0===t.length:return!1;case"w"===t[0]&&void 0===t[1]:return!0;default:{const[e,...i]=t;return-1!=="ux".indexOf(e)&&-1===i.map((e=>!isNaN(parseInt(e)))).indexOf(!1)}}}function ce(e,t,i){switch(e.kind){case"string":return w(i({1:(0,M.G)(e.value),2:t}));case"number":case"null":return y(i({1:"null"===e.kind?M.YP:(0,M.G)(e.value),2:R(j(t,(([e,t])=>[Number(e),t])),(e=>!isNaN(e[0])))}));default:return"{bad cutoff}"}}function ue(e){const t=e=>t=>b(t[2],t[1],e),i=e=>t=>v(t[2],t[1],e),n=e.split("");switch(!0){case"w"===n[0]&&void 0===n[1]:return e=>_(e[2],e[1]);case"u"===n[0]&&void 0===n[1]:return t(1);case"u"===n[0]&&void 0!==n[1]:return t(parseInt(n.slice(1).join("")));case"x"===n[0]&&void 0===n[1]:return i(1);case"x"===n[0]&&void 0!==n[1]:return i(parseInt(n.slice(1).join("")));default:throw new Error("This should never happen if you use isGroupCommand")}}function le(e){return(0,M.UI)(p)((0,x.nI)(de(e,(e=>{const t=e.split("");if(0===t.length)return M.YP;const[i,...n]=t,r=(e=>{switch(e){case"p":return(0,M.G)("add");case"m":return(0,M.G)("mul");case"v":return(0,M.G)("max");case"n":return(0,M.G)("min");default:return M.YP}})(i);return(0,M.UI)((e=>{const{init:t,rest:i}=(0,A.zT)((e=>{return"number"==typeof(t=parseInt(e))&&isFinite(t)&&Math.floor(t)===t;var t}))(n);return{1:{1:e,2:0===t.length?1:parseInt(t.join(""))},2:i.join("")}}))(r)}))))}function de(e,t){const i=t(e);return(0,M.fS)((()=>[]))((0,M.UI)((e=>[e[1]].concat(de(e[2],t))))(i))}function pe(e){return k(e.map(ge))}function ge(e){switch(e.kind){case"number":return m(e.value);case"string":return f(e.value);case"null":return{kind:"bottom"};case"object":return f("{object}");case"array":return f("{array}")}}const me={strategy:(e,t,i)=>n=>{if((0,M.Wi)(i))return t;if("delta"===e&&(0,M.Wi)(t))return M.YP;if((0,M.Wi)(t))return i;if((0,M.pC)(t)&&(0,M.pC)(i))return n(t.value,i.value);throw new Error("Non exhaustive match in combineCommand.strategy")},operation:(e,t,i,n,r,a)=>{const o=(0,A.pR)(q(a));if("append"===e&&"add"===t)return(0,A.yL)(i,n,we("append",r.plus));if("append"===e&&"mul"===t)return(0,A.yL)(i,n,we("append",r.times));if("append"===e&&"max"===t)return(0,I.Fp)(o)(i,n);if("join"===e&&"add"===t)return(0,A.yL)(i,n,we("join",(0,I.Fp)(a)));if("join"===e&&"mul"===t)return(0,A.yL)(i,n,we("join",(0,I.Fp)(a)));if("join"===e&&"max"===t)return(0,I.Fp)(o)(i,n);if("min"===t)return me.operation(e,"max",i,n,r,function(e){return(0,I.Zt)(((t,i)=>O(e.compare(t,i))))}(a));if("delta"===e&&"max"===t)return(0,I.gt)(o)(i,n)?i:n.map(g);if("delta"===e)return(0,A.yL)(i,n,((e,t)=>(0,I.gt)(q(a))(e,t)?e:{kind:"bottom"}));throw new Error("Non exhaustive match in combineCommand.operation")},extend:(e,t,i,n)=>{if("delta"===e&&"top"===i.kind&&"top"===n.kind)return(0,I.gt)(P.Df)(i.error,n.error)?f(i.error):{kind:"bottom"};if("delta"===e&&"bottom"===n.kind)return i;if("delta"===e&&"bottom"===i.kind)return{kind:"bottom"};if("top"===i.kind&&"top"===n.kind)return f((0,I.Fp)(P.Df)(i.error,n.error));if("top"===i.kind)return i;if("top"===n.kind)return n;if("inner"===i.kind&&"inner"===n.kind)return t(i.a,n.a);if("bottom"===i.kind)return n;if("bottom"===n.kind)return i;throw new Error("Non exhaustive match in extend")}},fe={plus:(e,t)=>e+t,times:(e,t)=>e*t};function he(e,t,i,n){if("unbounded"===e.kind&&"unbounded"===t.kind){const r=e.group,a=t.group;return(0,M.fS)(g)((0,M.UI)((e=>m(h(e))))(U(r,a,i,n)))}if("windowed"===e.kind&&"windowed"===t.kind){const r=e.key,a=e.group,o=t.key,s=t.group,c=(0,I.Fp)((0,M.pR)(n))(r,o);return(0,M.fS)(g)((0,M.UI)((e=>m(_(e,c))))(U(a,s,i,n)))}if("countLimit"===e.kind&&"countLimit"===t.kind){const r=e.n,a=t.n;if(r===a){const a=e.limit,o=e.group,s=t.limit,c=t.group,u=(0,I.Fp)((0,M.pR)(n))(a,s);return(0,M.fS)(g)((0,M.UI)((e=>m(v(e,u,r))))(U(o,c,i,n)))}return f("Non matching counts")}if("uniqueLimit"===e.kind&&"uniqueLimit"===t.kind){const r=e.n,a=t.n;if(r===a){const a=e.limit,o=e.group,s=t.limit,c=t.group,u=(0,I.Fp)((0,M.pR)(n))(a,s);return(0,M.fS)(g)((0,M.UI)((e=>m(b(e,u,r))))(U(o,c,i,n)))}return f("Non matching counts")}return f("Non matching group types")}function _e(e,t,i){return(0,M.fS)(s)(ve(e,M.YP)(t,i))}function ve(e,t){const i=t=>(i,n)=>me.strategy(e,i,n)(ve(e,t)),n=(t,n,r)=>{if("stringGroup"===n.kind&&"stringGroup"===r.kind){const e=he(n.group,r.group,i(t),P.Df);return D(e,(e=>w(ye(e,P.Df))))}if("numberGroup"===n.kind&&"numberGroup"===r.kind){const e=he(n.group,r.group,i(t),B.Df);return D(e,(e=>y(ye(e,B.Df))))}if("tuple"===n.kind&&"tuple"===r.kind){const i=(0,M.pC)(t)?t.value:[];return m(k(function(e,t,i,n,r,a){const o=(e,t)=>({1:(0,A.ke)(e)(t).concat((0,A.KB)(Math.max(0,e-t.length),g)),2:(0,A.md)(e)(t)}),s=(t,i,n)=>{if(0===t.length)return me.operation(e,"max",i,n,r,a);if(t.length>0){const[c,...u]=t,l=o(c[2],i),d=l[1],p=l[2],g=o(c[2],n),m=g[1],f=g[2];return me.operation(e,c[1],d,m,r,a).concat(s(u,p,f))}throw new Error("Non exhaustive match in recurse")};return(0,A.GY)((0,A.Qp)((e=>"bottom"===e.kind))((0,A.GY)(s(t,i,n))))}(e,i,n.tuple,r.tuple,fe,B.Df)))}throw new Error(`Non matching payload. Got ${n.kind} and ${r.kind}`)},r=(e,i)=>{if((0,M.Eh)((0,x.Eh)((0,L.n_)({1:P.Eq,2:B.Eq}))).equals(e.commands,i.commands)){const r=(0,M.Wi)(e.commands)?t:e.commands,a=n(r,e.payload,i.payload);return D(a,(t=>S(e.commands,t)))}throw new Error(`Non matching primitive strings. Got ${H(e)} and ${H(i)}`)};return(t,i)=>J(E(me.extend(e,r,ae(t).state,ae(i).state)))}function be(e,t,i){const n=(0,M.UI)((t=>R(e,(([e,n])=>(0,I.gf)(i)(e,t)))))(t);return(0,M.fS)((()=>e))(n)}function ye(e,t){switch(e.kind){case"unbounded":return e;case"windowed":return(0,M.Wi)(e.key)?e:_(be(e.group,e.key,t),e.key);case"countLimit":{const i=e.limit,n=e.n,r=e.group,a=G(n,r,((e,t)=>t<=1?M.YP:(0,M.G)(t-1)),t),o=(0,I.Fp)((0,M.pR)(t))(i,a);return v(be(r,o,t),o,n)}case"uniqueLimit":{const i=e.limit,n=e.n,r=e.group,a=(e,t)=>{if("object"===e.kind){const i=[...e.value.keys(),...t.keys()],r=new Set(i);return r.size>=n?M.YP:(0,M.G)(r)}return M.YP},o=G(new Set,r,a,t),s=(0,I.Fp)((0,M.pR)(t))(i,o);return b(be(r,s,t),s,n)}}}function we(e,t){return(i,n)=>me.extend(e,((e,i)=>m(t(e,i))),i,n)}var ke=i(922),Ee=i(2652),Se=i(4730),Ie=i(8036);class Pe{constructor(e,t,i){this.externalData=e,this.localQueries=t,this.externalQueries=i,this.queryCodesAsList=[],this.queryCodesAsMap={};const n=this.externalData.getExternalJsonData(ke.mL)||[],a=(0,r.zG)((0,M.Y3)((()=>n.filter((e=>(0,Ie.UC)(e,this.localQueries,this.externalQueries))))),(0,M.fS)((()=>[])));this.add(a)}add(e){return(0,r.zG)(e.forEach((e=>this.queryCodesAsMap[e]=!0)),(e=>this.updateSegmentsList()))}remove(e){return(0,r.zG)(e.forEach((e=>delete this.queryCodesAsMap[e])),(e=>this.updateSegmentsList()))}getAllAsList(){return this.queryCodesAsList}getAllAsMap(){return this.queryCodesAsMap}getUpdates(e){const t=[],i=[];return Object.entries(e).forEach((e=>{let[n,r]=e;const a=parseInt(n),o=(null==r?void 0:r.result)||{result:!1},s=!0===(null==o?void 0:o.result)&&!(a in this.queryCodesAsMap),c=!1===(null==o?void 0:o.result)&&a in this.queryCodesAsMap;s?t.push(a):c&&i.push(a)})),{entered:t,exited:i}}flush(){this.externalData.setExternalJsonData(ke.mL,this.getAllAsList())}reset(){this.externalData.removeExternalData(ke.mL),this.queryCodesAsList=[],this.queryCodesAsMap={}}updateSegmentsList(){this.queryCodesAsList=Object.keys(this.queryCodesAsMap).map((e=>parseInt(e)))}}const De="bootstrap",qe="process",Me="processTransitions",xe="updateExternalState",Ae="updateLAL",Ce="updateTPD";var Oe=i(2851);const Te="permutive:query:changed",Ue="internal_query_states",Ge="external_query_states",je=e=>class extends e{constructor(){super(...arguments),this.prefix="[Query Manager]",this.isWorkerReady=!1,this.stateMap={value:{},promise:Promise.resolve({})},this.extStateMap={},this.userSegments=new Pe(this.externalData,this.queryMetadata,this.externalQueries),this.segmentEntryQueryCodes=new Set,this.segmentExitQueryCodes=new Set,this.cohortEntryQueryCodes=new Set,this.cohortExitQueryCodes=new Set,this.hasNewOrModifiedQueries=!1,this.scheduler=new Se.b(this.transitionDebounceTime,this.transitionDebounceMaxTime),this.debouncedProcessTransitions=this.makeDebouncedProcessTransitions(),this.lalAndTpdListenersInitd=!1;const[e,t]=Oe.Ue(this.userSegments.getAllAsList());this.queryCodesRef=e,this.queryCodesRefUpdate=t;const[i,n]=Oe.Ue(Oe.a9(M.YP));this.setLalRef=n,this.lalRef=Oe.xH(i);const[r,a]=Oe.Ue(Oe.a9(M.YP));this.setTpdRef=a,this.tpdRef=Oe.xH(r)}get queryCodesAsRef(){return this.queryCodesRef}makeStateMaps(){const e=this.permutiveData.getData(Ue)||{},t=this.permutiveData.getData(Ge)||{};for(const t in e)if("activations"in e[t]){const i=e[t].activations;for(const e in i)i[e]=[...new Set(i[e])]}this.logDebug("Cached state maps",{internal:e,external:t});const i=Object.keys(this.queryMetadata),n=Object.keys(e);this.hasNewOrModifiedQueries=i.length!==n.length||i.filter((t=>{var i;return this.queryMetadata[t]!==(null===(i=e[t])||void 0===i?void 0:i.checksum)})).length>0,this.logDebug("has new or modified queries",this.hasNewOrModifiedQueries);const r=this.hasNewOrModifiedQueries?(0,Ee.fl)(e,(t=>{var i;const n=null===(i=e[t])||void 0===i?void 0:i.checksum,r=n===this.queryMetadata[t];return r||this.logDebug(`Dropping state for query ${t}, mismatched checksum`,{cachedChecksum:n,checksum:this.queryMetadata[t]}),r})):e;this.extStateMap=this.hasNewOrModifiedQueries?this.dropExternalStateMissingFromStateMap(t,r):t,this.stateMap={value:r,promise:Promise.resolve(r)},this.logDebug("Initialised state maps",{internal:this.stateMap.value,external:this.extStateMap,metadata:this.queryMetadata});this.permutiveData.getData("query_states")&&this.permutiveData.deleteKey("query_states")}dropExternalStateMissingFromStateMap(e,t){const i=(0,Ee.fl)(e,(e=>e in t));return this.permutiveData.setData(Ge,i),i}makeDebouncedProcessTransitions(){return this.scheduler.scheduleAccumulated((e=>this.processTransitions(e)),{concat:(e,t)=>e.concat(t),empty:[]})}makeMessage(e,t,i){return{type:e,payload:(0,r.bc)(this.queryMetadata,this.extStateMap,...t),stateMap:i,userId:this.userId.get()}}trackTransition(e,t){const i=ke.ED?this.customProperties.getCustomProps():{},n=Object.assign(Object.assign(Object.assign({},i),{segment_number:t}),{});e?(this.segmentEntryQueryCodes.add(t),this.cohortEntryQueryCodes.add(t.toString())):(this.segmentExitQueryCodes.add(t),this.cohortExitQueryCodes.add(t.toString())),this.permutive.track(e?"SegmentEntry":"SegmentExit",n)}trackSegmentsTransition(e,t){e.forEach((e=>{this.trackTransition(!0,e),this.messages.emit(Te,{queryCode:e,result:{result:!0}})})),t.forEach((e=>{this.trackTransition(!1,e),this.messages.emit(Te,{queryCode:e,result:{result:!1}})}))}updateUserSegments(e,t){e.length>0&&this.userSegments.add(e),t.length>0&&this.userSegments.remove(t),(e.length>0||t.length>0)&&(this.userSegments.flush(),this.queryCodesRefUpdate(this.userSegments.getAllAsList()))}onStateChangeReady(e){const{entered:t,exited:i}=this.userSegments.getUpdates(e);this.trackSegmentsTransition(t,i),this.updateUserSegments(t,i),this.logDebug("Updating query state",{updatedStateMap:e}),this.permutiveData.setData(Ue,e);return(t.length>0||i.length>0)&&(this.logDebug("Updated cohorts",{entered:t,exited:i}),this.messages.emit("permutive:segments:updated")),{segmentsEntered:new Set(t),segmentsExited:new Set(i),cohortsEntered:new Set(t.map(String)),cohortsExited:new Set(i.map(String))}}onStateChange(e,t){return(0,r.zG)(t.length>0?this.api.reportError(`QL error(s). Got ${t.join("; ")}`,this.userId.get()):{},(t=>this.stateMap.value=Object.assign(Object.assign({},this.stateMap.value),e)),(e=>this.isWorkerReady?[e,this.onStateChangeReady(e)]:[e,{segmentsEntered:new Set,segmentsExited:new Set,cohortsEntered:new Set,cohortsExited:new Set}]))}postMessage(e,t){const i=e=>this.userId.get()===e.userId?e:{diff:{},errors:[]};return new Promise((n=>{this.stateMap.promise=this.stateMap.promise.then((0,r.ls)((i=>this.makeMessage(e,t,i)),(e=>this.processMessage(e)))).then((0,r.ls)(i,(e=>{let{diff:t,errors:i,externalStateToDrop:r}=e;if(r){const e=(0,Ee.fl)(this.stateMap.value,(e=>!(e in r)));this.extStateMap=this.dropExternalStateMissingFromStateMap(this.extStateMap,e)}const[a,o]=this.onStateChange(t,i);return n([t,o]),a}))).catch((e=>(0,r.zG)(this.api.reportError(`Error during query execution. Got ${e}`,this.userId.get()),(e=>n([{},{segmentsEntered:new Set,segmentsExited:new Set,cohortsEntered:new Set,cohortsExited:new Set}])),(e=>this.stateMap.value))))}))}processTransitions(e){return this.postMessage(Me,[e])}bootstrap(e){const t=this.postMessage(De,[{segments:{"1p":this.userSegments.getAllAsMap()},sessionId:this.sessionManager.getSessionId(),viewId:this.viewId.get(),lookalikeModels:this.lalRef.current,thirdPartydata:this.tpdRef.current},e]);return this.lalAndTpdListenersInitd||(this.lalAndTpdListenersInitd=!0,this.lalRef.onChange(M.UI((e=>this.postMessage(Ae,[e])))),this.tpdRef.onChange(M.UI((e=>this.postMessage(Ce,[e]))))),t}process(e,t){return(0,Ie.AG)(e)?this.debouncedProcessTransitions([e]):this.processStandard([e],t)}processStandard(e,t){return(0,o.mG)(this,void 0,void 0,(function*(){const i=yield this.postMessage(qe,[e]);return t&&this.setAsRealTimeifNeeded(e),i}))}updateExternalState(e){const t=(0,Ee.b0)(e,((e,t)=>{const i=this.queryMetadata[e];return i&&t[i]?(0,M.Uo)($(t[i])):M.YP})),i=(0,Ee.b0)(this.extStateMap,((e,t)=>(0,M.Uo)($(t)))),n=(e,t,i)=>(0,r.zG)((0,M.Y3)((()=>(this.logDebug("Joining external state",{newExtState:e,currentExtState:t}),_e("join",e,t)))),(0,M.fS)((()=>(this.api.reportError(`Failed to join external state for query: ${i}. Had ${z(t)}, received ${z(e)}}`,this.userId.get()),e)))),a=(0,Ee.b0)(Object.assign(Object.assign({},i),t),((e,t)=>i[e]?(0,M.G)(N(n(t,i[e],e))):(0,M.G)(N(t))));return this.permutiveData.setData(Ge,a),this.extStateMap=a,this.postMessage(xe,[])}reset(){this.userSegments.reset(),this.permutiveData.setData(Ue,{}),this.permutiveData.setData(Ge,{}),this.stateMap={value:{},promise:Promise.resolve({})},this.extStateMap={}}setAsReady(){this.isWorkerReady=!0,this.onStateChangeReady(this.stateMap.value),this.messages.emit("permutive:queries:initialised")}getStateSizeInBytes(){return 2*JSON.stringify(this.stateMap.value).length}setAsRealTimeifNeeded(e){return!this.realtime.isRealtime()&&e.filter((e=>"Pageview"===e.name)).length>0?this.realtime.setAsRealtime(this.userSegments.getAllAsList().length):void 0}logDebug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.debug(this.prefix,...t)}};function Re(){return(0,n.h)(new a.Z)}class Le{constructor(e){this.queryMetadata={129627:"0c8b70cdb7",137008:"213c3e90b5",137010:"e392835b67",137011:"69f4e55d54",137013:"b4710e2191",137014:"999d8fdbaa",137015:"341435a8e2",137016:"1564bcbf4a",137017:"79754f73c7",137018:"2fb1c041d2",137020:"8ab4aeb57d",137023:"5c6cb6ae24",137205:"7bc92d4c61",137206:"64be93e6b9",137207:"35d03d5811",137412:"9b085e9d2f",137413:"500f18d124",137414:"74b8558a16",138270:"f4dd7a4a64",138272:"788cecdf44",139055:"5400f55dc9",139093:"68ca907c86",139095:"a2cc39555d",139096:"c748a452be",139215:"b57b23e31e",139216:"cd7275b5cd",139218:"6e993f7678",139219:"00342d8b23",141084:"26cc1bcae8",141085:"6f33c09da5",141280:"a0b1e4511f",141287:"a28277d918",141288:"04a0f27712",141289:"4eff2852a8",141290:"c76c6e871b",141291:"11535b357d",141293:"967720c7f4",141294:"0b3a79bd19",141295:"475cd1c1fb",141296:"f7398b2188",141297:"6f80812afe",141298:"4a69e16b4e",141299:"2dde75316d",141300:"917341f33b",141301:"cb3dfbc423",141302:"24c1d522a1",141303:"da302ac33e",141315:"0a8e6cc540",141364:"dbc230583d",142084:"9f370dc658",143189:"9ec34c9920",143191:"3737ee7d28",143192:"d6696e6906",143194:"25004e17cc",143196:"b0d0600567",143204:"984ec4468c",143205:"5c37fad070",143207:"9774382ac6",143209:"1ff1add006",143210:"9cec2bb827",143211:"b4d8160a76",143212:"8df1fb6727",143214:"ba1b9ba0d2",143215:"a6d5a869c9",143216:"66ebc5854a",143217:"dec56a8b84",144320:"d88b08e423",144321:"6f0b217b98",144322:"64346b35fd",144323:"0ffca50c6f",144324:"9bbd0a4e4f",144325:"3d6b24bbcd",144326:"22a92452f4",144327:"5bc3209c8e",144328:"dc982d6084",144329:"9e33dcd9a4",144330:"faf2a6fa8c",144331:"a2bc8addb5",144332:"4f087cba29",144333:"7fce7344f6",144334:"de1de715ad",144335:"b10074a3fa",144336:"3589e0958d",144337:"f4dfc61deb",144338:"d993fb19b7",144339:"6e2640a66a",144340:"794888938a",144341:"b67ab2141b",144342:"018b030602",144343:"f0e73be1b2",144344:"7651b5ff99",144345:"37afaf1d6c",144346:"fccbddfb6b",144347:"2a67ebe6aa",144348:"f4b4c75934",144349:"530b5a5408",144350:"da2ccc0ac0",144351:"ac6402ff53",144352:"77ee9c6764",144353:"f7afef6c8a",144354:"4e9fa37967",144355:"736722b937",144356:"ba7c68a31a",144357:"70d5b38da4",144358:"838799ed61",144359:"b10ac27ecc",144360:"f4409b270c",144361:"df2060e856",144362:"dbddad6c31",144363:"da7926b212",144364:"e81e7903a5",144365:"1ad6eb1022",144366:"998550734e",144367:"c2771a96b8",144368:"9e8635d7b7",144369:"ac8911d837",144370:"7c4da56017",144371:"cb13d78f0b",144372:"7e0514fdf9",144373:"caecf9fd52",144374:"5592c0e233",144375:"458ccee517",144376:"e6d2bd5e34",144377:"f0462b3f55",144378:"24ed763bbb",144379:"ad13a36ee6",144380:"4cf292f2ef",144381:"501ccea1a3",144382:"bab5668f90",144383:"7d971a5fe6",144384:"7e0cfeacf1",144385:"35a86a83cd",144386:"198757eef8",144387:"68ba0bb298",144388:"d1b2638321",144389:"7d433791c3",144390:"3a22c25dbf",144391:"a4cf7552ce",144392:"037e66234e",144393:"25b4e34816",144394:"d2df1af3c0",144395:"cd146ade29",144396:"8b476e5d72",144397:"40ed8c3a8e",144398:"9c298541e1",144399:"41b90444c9",144400:"c4f6a2b164",144401:"d06a8069d2",144402:"3f6486f691",144403:"035723e52a",144404:"0487600b44",144405:"bedc09e29d",144406:"dc4ce8ccc0",144407:"c3cd9c6c99",144408:"19fd8fff41",144409:"6ca2469bfa",144410:"c02be2af87",144411:"7cf2b627e4",144412:"bef2e70ba5",144413:"6c1bae2f39",144414:"cbf69d3097",144415:"d371b9134e",144416:"6094f70d2b",144417:"5509922225",144418:"32fa764046",144419:"bbc60d3a34",144420:"46bb2bab75",144421:"e626d10f84",144422:"a35a9cd829",144423:"075a706ccb",144424:"90dee5fbec",144425:"0e34192367",144426:"a1b2a5383a",144427:"15c243b84b",144428:"b8830ef841",144429:"4a6b1c733a",144430:"53bb1656d2",144431:"9d8c10c01d",144432:"511fcd90e5",144433:"08be68b43a",144434:"b4fe7c6f60",144435:"d326785634",144436:"2a50388dda",144437:"e042f17a83",144438:"a363d7403c",144439:"996c4babad",144440:"6f43907f72",144441:"a865726712",144442:"a35880f510",144443:"d2b2fef477",144444:"c1bbae778a",144445:"4d351142d9",144446:"a63ad805af",144447:"8ecb171883",144448:"050dd47bc4",144449:"517e24c120",144450:"86a3ebf947",144451:"db54836933",144452:"d758911d6b",144453:"9f03cc1db4",144454:"f1c4473a4f",144455:"212cd1286d",144456:"3ef1e9d13a",144457:"f2b5b969d6",144458:"ec9268e61d",144459:"e7ce4c774b",144461:"bfd4c144a9",144462:"0b3b491106",144463:"68746a9520",144464:"7aad071fad",144465:"6ffdd69926",144466:"94dfdbbdb6",144467:"1f3d8564d9",144468:"693cdee35f",144469:"b988dd0a09",144470:"4eaaaaaf5e",144471:"b3353cac1a",144472:"98471c0cdf",144473:"6e9a3ac43c",144474:"79c0030a34",144475:"f46168dee4",144476:"44f1beec51",144477:"e9363e018c",144478:"531c04b230",144479:"98353f5c55",144480:"f4b40ae836",144481:"f6be0c9fc8",144482:"19f34f06ef",144483:"249d9862e8",144484:"9c7bb3b60f",144485:"60f6dec9c1",144486:"c70306909f",144487:"472ac8a9e5",144488:"e63017efa0",144489:"4bd5ee43b1",144490:"a87c03ef76",144491:"15b58878a9",144492:"06461e6b9a",144493:"cacd89750e",144494:"184d83ae9b",144495:"40eb1b0f77",144496:"a1afba4518",144497:"4deb0eb65d",144498:"12c07c5ec3",144499:"b919e7002f",144500:"ac959c0037",144501:"bd867c3531",144502:"609a57c80d",144503:"a3dded33f0",144504:"2fd937a5fd",144505:"a221745c47",144506:"d5c3706947",144507:"004e851b5f",144508:"432a181f9e",144509:"298959ace6",144510:"dc5c3db291",144511:"5e91c9f9ef",144512:"81cf9302cc",144513:"ebddfd61ab",144514:"189acf4b19",144515:"2fa1c0b320",144516:"012c555f57",144517:"c00730aaeb",144518:"febc5f35b2",144519:"07e1bee34d",144520:"08bccf060e",144521:"2bfce9cf5f",144522:"98732caccc",144523:"6e0f9d0726",144524:"5713c6d57a",144525:"5ab6cb4c1b",144526:"a579738166",144527:"49d470895c",144528:"99b38c1d82",144529:"48086b3800",144530:"a386918f53",144531:"66ebfdf762",144532:"dbff1a9b56",144533:"dfbf10029f",144534:"eb9427c247",144535:"0b03a23f97",144536:"cc1719472f",144537:"584c453680",144538:"c896a2ee92",144539:"80819be655",144540:"d42730e6f9",144541:"50e2cdeaf0",144542:"0cbe752b39",144543:"643e23cc4b",144544:"098dee0c4c",144545:"3a9e44814d",144546:"cd571069a8",144547:"a97e2886ef",144548:"ff6b0adae6",144549:"e70c578260",144550:"9395bea35f",144551:"7b4f992ffe",144552:"f3769e2ff0",144553:"f19edbab8f",144554:"c0461572df",144555:"938157ef36",144556:"c11f713315",144557:"f2701b3615",144558:"a15b32f04f",144559:"0abd06305a",144560:"c0a24cdf8c",144561:"e02a234f2b",144562:"85f886160c",144563:"9a80a94504",144564:"0406b98bd3",144565:"be9250298d",144566:"615b93152b",144567:"480e25c762",144568:"a4b69e2c39",144569:"b1dd63ab23",144570:"2c471da51e",144571:"1b85f6b198",144572:"9c503b1f69",144573:"125e05f8dc",144574:"61ae87e4ff",144575:"64cfbbf79a",144576:"199646035a",144577:"dac73f5d09",144578:"09a16a9934",144579:"2214cf6f08",144580:"5ab7504a58",144581:"bc21676108",144582:"6fac28e809",144583:"840b9c03eb",144584:"639b28c837",144585:"c0abadab8d",144586:"cfeca4e0a3",144587:"b941289067",144588:"6b67f4e8f0",144589:"ea2ad85769",144590:"353a417082",144591:"e83f2d4a6e",144592:"e0c9ff899d",144593:"7b1773276c",144594:"f2827850a7",144595:"19b44326b8",144596:"b1daede8a8",144597:"a7624a55ea",144598:"80d47bfb43",144599:"62f34c29d0",144600:"6acbb7bfca",144601:"96ea248445",144602:"54437a0224",144603:"a8451e5d0c",144604:"da252b6ca3",144605:"5f1052dd0b",144606:"66e2827bb6",144607:"1aba78b5c6",144608:"f20cc8ca3a",144609:"1dfac47b70",144610:"34f92e913c",144611:"2d4982b18f",144612:"17f4492e77",144613:"872550a767",144614:"ba6826cc54",144615:"a583dcb7b5",144616:"2cce3384c6",144619:"f2efe4cd79",144620:"5803f6720b",144621:"ea72c71f53",144622:"df80d0e248",144623:"803a85c418",144624:"78cf0f30a2",144625:"ca10110b24",144626:"8bfd4e0c0c",144627:"5677bef213",144628:"5a9e6daa8d",144629:"bfafdef689",144630:"d446235c13",144631:"6d2d25584e",144632:"6ce7a1b535",144633:"bdd0c677aa",144634:"0c19714f83",144635:"11ca6cf699",144636:"69f0679f8e",144637:"4c8830a88c",144638:"f3fecb4da3",144639:"b23f478f5b",144640:"bce6be54c7",144641:"a4819b43e3",144642:"312a7cf3dd",144643:"c81e97bdaa",144644:"286279f66e",144645:"0ed93afd1b",144646:"18be706bd2",144647:"291b2df089",144648:"2aa1c70ae4",144649:"575e74301f",144650:"b9f832e754",144651:"cfc4f12e0d",144652:"cc5db381cc",144653:"36ff94df72",144654:"b833b16823",144655:"4730f6acea",144656:"112db365b6",144657:"603aa5e0ea",144658:"d89f880151",144659:"e3e4c688e0",144660:"fe88a0993e",144661:"104ba96995",144662:"c974d4f5ab",144663:"47c0f909b1",144664:"379050d356",144665:"cd6d01a535",144666:"c98438e6fa",144667:"a34b6721d5",144668:"bb5455d9ac",144669:"b3b79ff211",144670:"94e060e0bf",144671:"08da1def78",144672:"3fc7766fc2",144673:"f78728e3d8",144674:"e904b20827",144675:"131955fba8",144676:"9854169748",144677:"3706e0248f",144678:"a81243b535",144679:"281586f4eb",144680:"d907802b37",144681:"e07e42cbc0",144682:"3fef355a24",144683:"0c23976eb5",144684:"22a92452f4",144685:"350a5df2d7",144686:"40fca5d34c",144687:"9c1f7c8b62",144688:"9776e7d663",144689:"992035fd54",144690:"6de8f1afb2",144691:"2818956548",144692:"f43d60670d",144693:"af7ebd1bb8",144694:"cd0a1a56a4",144695:"86fc46d230",144696:"dcee871652",144697:"1366961728",144698:"f34ec92004",144699:"8b3a0f1cdf",144700:"91a0b6aaf9",144701:"f74783f0a3",144702:"98167b88c4",144703:"ce0cdae09e",144704:"beec43e36e",144705:"80e70ffe9a",144706:"079fb84cf7",144707:"ea82fed227",144708:"25b4a2f29e",144709:"91c4692f49",144710:"afae0689dc",144711:"7e10e17ed6",144712:"40a1d1a8ec",144713:"b4aaa5e93e",144714:"a62c023518",144715:"911249b00c",144716:"b61e0ba736",144717:"7c80e30ff9",144718:"3bd903c530",144719:"a2bc130941",144720:"b3ff2e3529",144721:"c7c3335e04",144722:"573fb9aec3",144723:"9d488a42be",144724:"56e2cb9d2b",144725:"f9d7c7e32d",144726:"e1e6b563e3",144727:"0c31d44611",144728:"9375852770",144729:"c3e6148b2a",144730:"1cfb9d8f22",144731:"d5b3806e71",144732:"c9aa8bd9c9",144733:"895303faa1",144734:"ec83dc0b0f",144735:"a018149a7c",144736:"56f06430a7",144737:"ffa3508276",144738:"fd9f535324",144739:"8a2e99ec25",144740:"4d35b91371",144741:"797b0abc0e",144742:"6a538069e2",144743:"c5621bde06",144744:"71043beecc",144745:"1c8722789c",144746:"b9a144ac82",144747:"ff4073bb84",144748:"99063ef641",144749:"611cec64d2",144750:"7d29a1bd5a",144751:"c1317a198b",144752:"cd12133841",144753:"9f4a8fa059",144754:"b3d0fdd7e1",144755:"cc48cdd4ac",144756:"12f88f2d85",144757:"5540ec05a3",144758:"7cf4960fb7",144759:"1b551543ce",144760:"13ebe3caf6",144761:"73ab1a1e73",144762:"2e72228ced",144763:"6a24ad9519",144764:"ed6cbeb869",144765:"3227b1ea7f",144766:"8c5cae9fc4",144767:"6d43649c13",144768:"dd576b200e",144769:"fe1e55128d",144770:"04ea2609d0",144771:"7e591d7d37",144772:"0efa6a2b3d",144773:"43ab81c204",144774:"504cfc418d",144775:"6d827f49aa",144776:"02b9b14aba",144777:"935eb78dd5",144778:"7e844e10cb",144779:"6069aa1e25",144780:"3985a878ed",144781:"3c87473411",144782:"f32685f3cd",144783:"1ddd520db3",144784:"2637014234",144785:"3c63b3af83",144786:"8e0b1e6544",144787:"1e3e23b119",144788:"8798e30ef2",144789:"1371f18834",144790:"6bf81c13b9",144791:"2ded8c7faf",144792:"5610a3f040",144793:"399237041d",144794:"0d84f416df",144795:"fbb28239cf",144796:"3b864c6e78",144797:"0da176810a",144798:"ad115cfc84",144799:"f8be3f5f88",144800:"fe114b210d",144801:"b9cc0c0051",144802:"16898d125b",144803:"2fb86b047c",144804:"c90db7c587",144805:"e89a88ef74",144806:"e479f5c284",144807:"6c7d39ce19",144808:"251b1cbae4",144809:"f3924aedba",144810:"2ccced5dd3",144811:"b4967af66b",144812:"9796f2fb35",144813:"98fa2a05f3",144814:"1613678ba2",144815:"c51d9a2062",144816:"0d0fe5b2d0",144817:"97e70310dd",144818:"55bfcd620e",144819:"2982a7aa32",144820:"d26f86cbbc",144821:"fc51c7615b",144822:"d47c60efdf",144823:"1997549b49",144824:"b4b9c519f1",144825:"9444ccc852",144826:"ff6a16a083",144827:"082bb06c5e",144828:"938d9fe9c4",144829:"554f20b0a1",144830:"74b4c4bd73",144831:"97e8d0c80a",144832:"ccfc547850",144833:"281aa1c80d",144834:"a40de6545e",144835:"d4e8334c1e",144836:"cb9f6490fb",144837:"e5683df02b",144838:"587465c0d3",144839:"8aed26da05",144840:"abe93efe97",144841:"e545f548bf",144842:"89c7c92fc8",144843:"9c2b8397ae",144844:"81d5c23267",144845:"841fb209b1",144846:"b20a16900e",144847:"0d2d4f122b",144848:"3dfbb30415",144849:"3abbc8e3d4",144850:"5b1335befa",144851:"95ed7f3f61",144852:"9c82f37e69",144853:"0724740694",144854:"735c6ab98d",144855:"f9ece10d73",144856:"af4548bacb",144857:"48fce608cc",144858:"dba7c17304",144859:"21513489ed",144860:"8a2a50328a",144861:"561f13a388",144862:"d433fbf13b",144863:"ef7d4bcb23",144864:"115f0be2d4",144865:"bb484396c6",144866:"599189d1f4",144867:"959db2fca1",144868:"8a854821bd",144869:"06f57943c0",144870:"13d2349163",144871:"8f507e72e2",144872:"cf09a32b83",144873:"be7e2c4d35",144874:"73f37f3da3",144875:"14e805e0cf",144876:"2d506fc0c6",144877:"92e44a7ce5",144878:"6274133a71",144879:"27a2c67c22",144880:"85f30605ab",144881:"b13a0b7232",144882:"9759e14df2",144883:"76ce7b2278",144884:"93e7f709ef",144885:"2ea305a678",144886:"01783bf9e8",144887:"6750762331",144888:"19a2e849f6",144889:"6704a97f14",144890:"42d5890a79",144891:"cf0e747db6",144892:"b6c4bf826b",144893:"5f114682a8",144894:"a3a71d5c42",144895:"670ec964db",144896:"168c9c2890",144897:"75a02c6816",144898:"73c1329104",144899:"9e16587eaf",144900:"d6f430ca18",144901:"f65aa18285",144902:"f4a1d2d31a",144903:"8420489073",144904:"fe6b88e6fe",144905:"04e1ac0ebd",144906:"0e7272d417",144907:"e379e8b07c",144908:"18afb0a949",144909:"42b14425ef",144910:"9ee8c03ef1",144911:"35b2633592",144912:"2e734d69f7",144913:"2ee81740ae",144914:"ed0d80b04a",144915:"308f2c9606",144916:"aba523a125",144917:"6ccd4159aa",144918:"445dd1841c",144919:"b48c10e7d8",144920:"6506fef9cc",144921:"4b07b03739",144922:"c05dab1543",144923:"43e2642aff",144924:"66f45ff5b8",144925:"677b145643",144926:"97030c23e2",144927:"b0d1ae75db",144928:"d19fcb2a83",144929:"3a3efbd623",144930:"8c4d498503",144931:"b45280a893",144932:"94a8a83211",144933:"bf0c99a9ce",144934:"4b223bb405",144935:"b3c2824ea3",144936:"1e0d050b01",144937:"9fd3986c79",144938:"4c8d21f907",144939:"91f447a71a",144940:"2e98d1ca25",144941:"742207338f",144942:"b8eb67b94c",144943:"7a17540dd3",144944:"37a66f5015",144945:"7d36f217a8",144946:"567e42a295",144947:"710aa154f1",144948:"dca943db20",144949:"bfdfe36451",145933:"31d459861e",145936:"af6d6e7919",145937:"95365745f9",145938:"675605086e",145939:"64b5f42aaa",145940:"f69e7a8aba",146344:"2505826a4a",146347:"3f2c28079a",146348:"932c3858ea",146349:"e2dd7ca066",146350:"b50bc4ffb1",146351:"dd16944a4f",146352:"8474bbc46e",146353:"66cfc9f3c4",146354:"1c30086a4c",146355:"0ffac853e6",146356:"82391a1b62",146357:"888ac910a9",146358:"edcd018dba",146359:"c82a6ae8d7",146361:"859f63a15f",146370:"9a3551dbf8",146383:"3d8140820b",146391:"63d356d6c8",146392:"e7a4edc4c3",146393:"1aa2ac27a3",146424:"f0f6c9ea2a",146897:"47d69ec9e6",146898:"52262ea5ca",146900:"08a7f20d66",146901:"c6eb8c7a78",146902:"a64258141f",146903:"2597496b68",146904:"4504936033",146905:"58c8604ff8",146906:"f5b198abd6",146907:"b624fdbf23",146908:"5a32637c66",146909:"5a2381bf4c",146910:"15ca4b2ce2",146911:"0606fa9eed",146912:"b95a2280cc",146913:"66fe7c650d",146914:"12dd015ce4",146915:"a6193bf164",146992:"b1ad692e26",146995:"e69e88290e",146996:"f1d6f234b0",146997:"a8cf01324d",146998:"08c437e9ba",147e3:"87c0b45c5a",147001:"43444e1ebf",147075:"2d474a8fe2",147076:"e42a2adabb",147077:"0e68e00cf6",147078:"2b4fdae46a",147347:"82d670c40e",147348:"3a90608836",147349:"42ae1cc1f1",147350:"e494bd6347",147352:"52b46e1997",147530:"3dd7a3ca6b",147660:"e0d8dbd6c8",147662:"712d07a470",147663:"4d35feb9d9",147664:"6c4ca505dd",147665:"38051b8694",147666:"904b535429",147667:"4bce9abee7",147730:"d999a94ec3",147732:"15fa6ed2b4",147734:"6a5e114e97",147739:"05905aca3b",147740:"1f5cc9bad9",147741:"733aeed18d",147851:"66b755ee05",147867:"9eebc23d23",148297:"25c7949a68",148616:"c8d2228a0a",148624:"114c4c468f",148627:"2b7cdb1322",148628:"21cff68ffe",148829:"78ed5808c9",148847:"bdcbc9917d",149001:"b911141770",149002:"28b385a302",149003:"e366b72311",149004:"9fb71b377f",149005:"54fa25e928",149007:"806e181bda",149014:"4489ef3e7e",149015:"7445383b33",150420:"f0e24232eb",150421:"1b8ec72a98",150423:"f7a51d70ff",150663:"95d8c3259b",150676:"cd3352b398",150677:"f795246df1",150678:"4dad4e158a",150679:"1a40a600d7",150681:"4cf9d7382a",150683:"c654f76077",150684:"19e029007c",150685:"2afa1cf057",150686:"f1d2446be4",150687:"d498188399",150688:"9f4f4a86c8",150689:"c4f9884546",150690:"9b9a5e4a80",150692:"1aa75d4492",150749:"e206ebd04a",150752:"a9bf35df59",150753:"a7b4802252",150755:"916d89844e",150756:"298e2823e3",150757:"716ef76960",150759:"1c8f891582",150760:"5c4ac33182",150761:"f82cf1d167",150762:"75fdd921e0",150763:"5f068b4bb7",150764:"960ca52cca",150766:"b951c8f590",150768:"407477f49c",150770:"019da0885b",150773:"1d1dd4e8e1",150780:"e04b81e86a",150781:"e8e99bb8fe",150861:"e028e8ba0c",150862:"99b8c07dec",150866:"1db287d5f4",150877:"6f99e5ad03",150878:"477be4c60f",151070:"d33f4a1211",151161:"509f1e3053",151167:"180ecf4535",153566:"4cf9d7382a",153666:"f5e4d3e712",153667:"69b906d9e5",153668:"724700efee",153669:"91034cf106",153670:"cefee1af93",153671:"cee58f4f26",153672:"8739d353b6",153673:"abbf1cccd5",153674:"b8b283ffe0",153675:"648e62bfe0",153676:"b5466f039e",153677:"c6f0a483cb",153678:"aa7863535a",153679:"a34c9ed35e",153680:"5a27ec2c74",153681:"e113fb9e11",153682:"f4612459a4",153683:"395b9ab3ca",153684:"20fd089ec6",153685:"cfd3a8204d",153686:"82ac718ea1",153687:"c7b8c2bd9f",153688:"fc76bef871",153689:"310545a602",153690:"d7dd6c5122",153691:"b1961a001b",153693:"bcb3b5ec03",153694:"3fd4b1125c",153695:"d54f639beb",153696:"8f3a70673a",153697:"7c6e832a16",153698:"b168b160f6",153699:"7302e62ab1",153700:"b77abfb0eb",153701:"5f688a3483",153702:"c8d229abc5",153703:"92567f12a7",153704:"0893b7788e",153705:"7188500a23",153706:"c739f52c92",153708:"43cd0af05e",153709:"27957eaa53",153710:"3be3173ad0",153711:"6894a16b1e",153712:"b09999e492",153713:"c00b9bf013",153714:"4ea0009d84",153715:"524ed08c9e",153716:"26df46a9a3",153717:"997e66c4a6",154600:"8a726e2e26",154607:"37e81e9a99",154608:"aa8315f240",154609:"4d6f5abe4c",154610:"a0873908f6",154611:"6396d885fe",154612:"4b98ecf2c2",154613:"1a5a0614fc",154614:"bf4f8acf4b",154909:"4cd6d16c0d",155018:"734e64b03a",155106:"18eceefddf",155108:"02f86237d1",155109:"fcf0cb051b",155628:"5cdaba910e",155826:"70538a57c9",155891:"8967021b58",155892:"2a4c1e7b7b",155893:"fede935fc0",155931:"24a8379483",155998:"657c5e4e81",156024:"03c5537f0a",156204:"cdc908fd70",156205:"fafe4e0640",160768:"4d15df3801",160769:"a9de626463",161982:"b8691ddd52",161983:"d28ace1af9",1e7:"ab2a79b4e1",10000001:"ea7eca3b49",10000002:"7a0b76bb2f",10000003:"49e502122c",10000004:"f1c67fac3c",10000005:"377db020e8",10000006:"547879da4e",10000007:"ca176545c8",10000008:"1a9d700b97",10000010:"a4cefa7f58",10000011:"aa7075e35b",10000012:"1ae8bddb93",10000013:"1e8886ad72",10000014:"f516ad362e",10000015:"787c19bee4",10000016:"d6475b75d5",10000017:"38ea08fad7",10000018:"5fab00fa2c",10000019:"e109f9b360",10000020:"90a178ea71",10000021:"bd128fcfed",10000022:"cd3face523",10000023:"c2f26784d1",10000024:"eb85193dfd",10000025:"9674e8f207",10000026:"6d37ba6b9a",10000035:"b0aca14cab",10000036:"d36ef645a5",10000037:"adf0bd9d7d",10000038:"0a8427037a",10000039:"9b0eb48861",10000040:"de880ed625",10000041:"82f6856d68",10000042:"98ff38947b",10000043:"3cde49fc7f",10000044:"204ea1bd83",10000045:"87b257dec6",10000046:"5579a14726",10000047:"aca78f9e2e",10000048:"fa2ea1e2fa",10000049:"673bfae6e5",10000050:"6f4e13e789",10000051:"d7f4837226",10000052:"53669c17cf",10000053:"cd9d4baf1b",10000054:"36a6a1b8ac",10000055:"61fbd3f45d",10000056:"36169adc34",10000057:"4dcf4dc5ea",10000058:"91ed3d5df9",10000059:"9975f2d18a",10000060:"291bb4c201",10000061:"835df65992",10000062:"8af22f787c",10000063:"13625d9512",10000064:"865b534730",10000065:"711a803835",10000066:"3f5a01518e",10000067:"a90790be86",10000068:"840b4c697a",10000069:"5b811cacf3",10000070:"26f90895bf",10000071:"ecfb5c1cab",10000072:"49ab120d1d",10000073:"8816deadae",10000074:"5c7a1ac24a",10000075:"0dc58fe713",10000076:"c791f64ecd",10000077:"fb2601505c",10000078:"ec0d63e687",10000079:"9f1a1f7510",10000080:"e51622030c",10000081:"c7a8cae6d0",10000082:"8ce761d02d",10000083:"7b6a42ef76",10000084:"479977505c",10000085:"930fdc5c22",10000086:"39e47fa144",10000087:"08cf53e104",10000088:"a2e20ffb1f",10000089:"68f37c2880",10000090:"be04a0b54e",10000324:"1ccab119ee",10000325:"1f783b581b",10000327:"21c25a4900",10000328:"482cefaa5d",10000329:"8ea8e0687e",10000330:"7f88a52c7e",10000687:"8cfe8cac9d",10000688:"6e4f7fa14e",10000689:"52ef8e630f",10000690:"e072687254",10000691:"3fe53e0c18",10000692:"9d30d89615",10000693:"d7956f1d3d",10000694:"05129d3c08",10000695:"74ef454681",10000696:"7ae9936d9c",10000697:"26fc0f70c4",10000698:"ae27296fe1",10000699:"d5f5b0f0cd",10000700:"eb8125a768",10000701:"3bea66735c",10000702:"16ae6df770",10000703:"761e431f4d",10000704:"063893f005",10000705:"55d48462e7",10000706:"5c3875edd3",10000707:"8968e719ff",10000708:"c517d35d9c",10000709:"5a2afc0cd9",10000710:"3e7a4e35f2",10000711:"44912da274",10000712:"e4ce60c3dd",10000713:"f18696c094",10000714:"017f28f8bb",10000715:"55116c14c3",10000716:"0f4395c2c4",10000717:"f3450f1ac2",10000718:"d1bc7ccfce",10000719:"88d3e1a480",10000720:"8eda205ac0",10000721:"f384ae2fa0",10000722:"4a3d1ff840",10000723:"68fd2589c4",10000724:"bae84a23bd",10000725:"d0f5458a4e",10000726:"6676d3d9a9",10000727:"aae1e1dcd7",10000728:"91ed3d5df9",10000729:"8f0eb3e289",10000730:"f1cea45a0b",10000731:"9351a7c7b0",10000732:"8ff05a8c34",10000733:"03f2821968",10000734:"7e89a633cb",10000735:"5f368efb3a",10000736:"5f368efb3a",10000737:"5bb87220bd",10000738:"6254881159",10000739:"1e02537eb0",10000740:"39270e0a06",10000741:"012978eb27",10000742:"d04b907379",10000743:"7070b1a14e",10000744:"6fc892f976",10000745:"8669619b19",10000746:"8b94534036",10000747:"7a40512ab1",10000748:"38d2e91fcf",10000749:"257cd6d50c",10000750:"3aa7ebea4f",10000751:"7e89a633cb",10000752:"a5abec86a6",10000753:"abafd1fcfc",10000754:"26fe7dbd61",10000755:"66d80d09bc",10000756:"08faf112c3",10000757:"05fedf88fd",10000758:"7680d4aba9",10000759:"f634153f8a",10000760:"46657a12ff",10000761:"64531a69c2",10000762:"904c2afaa9",10000763:"a3a3991956",10000764:"603cbf8d13",10000765:"78b12b1080",10000766:"211483a594",10000767:"07a0d69300",10000768:"183297f1ac",10000769:"e1c66b1569",10000770:"66b9851322",10000771:"fea86fbb59",10000772:"79a6fb7d55",10000773:"17f646de43",10000774:"468b27f1e6",10000775:"dab0ea43a2",10000776:"c3dc556a6d",10000777:"5b4df291a5",10000778:"17f4fcfd36",10000779:"47f71b40c3",10000780:"5c22398d33",10000781:"be5e562f33",10000782:"8b1de71fa0",10000783:"fdad521149",10000784:"d9dd4fd30f",10000785:"78e513e696",10000786:"5d44629314",10000787:"a5ab24f97d",10000788:"fb921aed0e",10000789:"d7f4f9500b",10000790:"8e63833564",10000791:"e3f4d88317",10000792:"533d5822ba",10000793:"4b226ceeb1",10000794:"a479c5c4c7",10000795:"df7301c3d9",10000796:"54fc95930e",10000797:"0c10dbde30",10000798:"b91b525b50",10000799:"6a4d2d099e",10000800:"0adbbddcf3",10000801:"38c747aefd",10000802:"f33b4f3f34",10000803:"a2d275785b"},this.externalQueries=new Set([]),this.customProperties=e.customProperties,this.externalData=e.externalData,this.logger=e.logger,this.messages=e.messages,this.api=e.api,this.permutive=e.permutive,this.permutiveData=e.permutiveData,this.queryWorker=e.queryWorker,this.realtime=e.realtime,this.sessionManager=e.sessionManager,this.transitionDebounceMaxTime=e.transitionDebounceMaxTime,this.transitionDebounceTime=e.transitionDebounceTime,this.userId=e.userId,this.viewId=e.viewId,this.metrics=e.metrics}processMessage(e){return this.queryWorker.postMessage(Object.assign({engine:"QLE"},e))}}class Be extends((()=>(0,r.zG)(Le,je))()){constructor(e){super(e),this.makeStateMaps()}}},8318:(e,t,i)=>{i.d(t,{F:()=>a});var n=i(6934),r=i(1628);const a=(0,n.Y3)((()=>{const e=(0,r.e)();return e.postMessage({engine:"QLE",type:"noop",userId:""}),Promise.resolve(e)}),(e=>`Failed to start QueryWorker. Got ${e}`))},3622:(e,t,i)=>{i.d(t,{$:()=>r});var n=i(2652);class r{constructor(e){this.permutiveData=e,this.eventSourceId=e.getData("event-source-id")||this.generateAndStoreEventSourceId()}get(){return this.eventSourceId}generateAndSet(){this.eventSourceId=this.generateAndStoreEventSourceId()}generateAndStoreEventSourceId(){const e=(0,n.k$)();return this.permutiveData.setData("event-source-id",e),e}}},1229:(e,t,i)=>{i.d(t,{N:()=>g,e:()=>d});var n=i(655),r=i(2688),a=i(7183),o=i(5e3),s=i(3735),c=i(4386),u=i(4730),l=i(8036);function d(){return(0,a.h)(new c.Z)}const p={concat:(e,t)=>Object.assign(Object.assign({},e),t),empty:{}};class g{constructor(e,t,i,n,r,a,o,s,c){this.api=e,this.network=t,this.sessionManager=i,this.permutiveData=n,this.queryManager=r,this.metrics=a,this.userId=o,this.eventSourceId=s,this.stateWorker=c,this.DEBOUNCE_TIME=1e3,this.MAX_DEBOUNCE_TIME=5e3,this.fetchUnseenState=!0,this.scheduler=new u.b(this.DEBOUNCE_TIME,this.MAX_DEBOUNCE_TIME),this.debouncedSyncIfNotEmpty=this.scheduler.scheduleAccumulated((e=>this.syncIfNotEmpty.bind(this)("standard",e)),p),this.fetchUnseenState=!!m.includes("a9695278-4085-40b3-9f02-8d4c38a6ff01")||this.sessionManager.sessionHasChanged(),this.stateOffset=this.permutiveData.getData("state_offset")||0,this.lastSentStateMapWithChecksum=(0,l.Yh)(this.permutiveData.getData("internal_query_states")||{}),this.stateWorker.postMessage({engine:"SSE",type:"noop"})}sync(e){return(0,s.zG)(this.debouncedSyncIfNotEmpty(e),(e=>Promise.resolve()))}syncWithUnseen(){return this.syncIfNotEmpty("unseen",{}).then(s.Q1)}syncIfNotEmpty(e,t){const[i,n,a]="standard"===e?[this.stateOffset,t,this.fetchUnseenState]:"unseen"===e?[this.stateOffset,this.queryManager.stateMap.value,!0]:[0,{},!0],o=this.metrics.startTimer("sdk_compute_delta_seconds",{}),c={type:"delta",stateMap:n,lastSentStateMapWithChecksum:this.lastSentStateMapWithChecksum},u=this.stateWorker.postMessage(Object.assign({engine:"SSE"},c)).then((e=>(this.metrics.stopTimer("sdk_compute_delta_seconds",o),e))),l=e=>{this.fetchUnseenState=!1;const t=(0,s.ls)((e=>this.api.reportError(`Error sending state delta. Got ${(0,r.w)(e)}`,this.userId.get())),(e=>({})));return this.api.state(this.metrics,this.userId.get(),this.eventSourceId.get(),e,i,a).then((e=>function(e){return!!e}(e)?this.onStateResponse(e):{})).then((t=>(this.lastSentStateMapWithChecksum=e,t))).catch(t)};return u.then((e=>a||Object.keys(e).length>0?l(e):Promise.resolve({})))}resetSync(){return(0,n.mG)(this,void 0,void 0,(function*(){this.reset(),yield this.syncIfNotEmpty("reset",{})}))}reset(){this.lastSentStateMapWithChecksum={}}onStateResponse(e){const t=(0,o.Y3)((()=>JSON.parse(e.state)),(e=>this.api.reportError(`Failed to parse State API response, got ${e}`,this.userId.get()))),i=e=>e?this.queryManager.updateExternalState(e):(0,s.Q1)();return(0,o.tO)(t)?(0,s.zG)(e.state_offset,(e=>this.stateOffset=e),(e=>this.permutiveData.setData("state_offset",e)),(e=>i(t.right)),(e=>t.right)):{}}}const m=["fe68d1f7-c9f4-45b3-8905-7cda73d3fd74"]},926:(e,t,i)=>{i.d(t,{Kd:()=>r,eJ:()=>a});var n=i(2116);i(2851),i(2652);const r="addon:twitter_pixel",a=function(e){return n.K4((()=>{}))}},1828:(e,t,i)=>{i.d(t,{ap:()=>a,gz:()=>u});var n=i(3735),r=i(9384);function a(e,t){return function(i){return function(n){return e.ap(e.map(n,(function(e){return function(i){return t.ap(e,i)}})),i)}}}function o(e,t,i){return function(n){for(var r=Array(i.length+1),a=0;a<i.length;a++)r[a]=i[a];return r[i.length]=n,0===t?e.apply(null,r):o(e,t-1,r)}}var s={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(i){return[e,t,i]}}},4:function(e){return function(t){return function(i){return function(n){return[e,t,i,n]}}}},5:function(e){return function(t){return function(i){return function(n){return function(r){return[e,t,i,n,r]}}}}}};function c(e){return r.e$.call(s,e)||(s[e]=o(n.bc,e-1,[])),s[e]}function u(e){return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var n=t.length,r=c(n),a=e.map(t[0],r),o=1;o<n;o++)a=e.ap(a,t[o]);return a}}},1500:(e,t,i)=>{i.d(t,{Ce:()=>l,DY:()=>E,DZ:()=>U,Ew:()=>b,GY:()=>k,KB:()=>p,Qp:()=>v,UI:()=>A,f2:()=>y,fw:()=>N,hX:()=>j,jV:()=>q,jj:()=>P,ke:()=>m,md:()=>_,oA:()=>G,pR:()=>W,t9:()=>I,tS:()=>C,u4:()=>B,uK:()=>R,vP:()=>$,xH:()=>O,yL:()=>S,zT:()=>h});var n=i(3735),r=(i(7341),i(9384)),a=i(1885),o=i(3328),s=i(4870),c=(i(5605),function(e){return 0===e.length}),u=a.Od,l=a.Ce,d=(a.ws,a.R3),p=(a.Im,function(e,t){return e<=0?[]:a.KB(t)(e)});var g=a.dC,m=(o.P5,o.YM,o.Z$,function(e){return function(t){return g(e,t)?w(t):t.slice(0,e)}});var f=function(e,t){for(var i=e.length,n=0;n<i&&t(e[n]);n++);return n};function h(e){return function(t){var i=D(f(t,e))(t);return{init:i[0],rest:i[1]}}}var _=function(e){return function(t){return e<=0||c(t)?w(t):e>=t.length?[]:t.slice(e,t.length)}};function v(e){return function(t){return t.slice(f(t,e))}}o.cx;function b(e){return o.Ew(e)}var y=o.f2;o.JO,o.qr;var w=function(e){return e.slice()},k=function(e){return c(e)?[]:e.slice().reverse()},E=function(e){return function(t){return t.length<=1?w(t):t.slice().sort(e.compare)}},S=function(e,t,i){for(var n=[],r=Math.min(e.length,t.length),a=0;a<r;a++)n[a]=i(e[a],t[a]);return n};var I=o.t9,P=function(e){var t=a.jj(e);return function(e){return u(e)?t(e):w(e)}},D=function(e){return function(t){return e>=1&&u(t)?a.lx(e)(t):c(t)?[w(t),[]]:[[],w(t)]}};function q(e){var t=I(e);return function(i,n){if(void 0===n){var r=q(e);return function(e){return r(e,i)}}return i.filter((function(e){return t(e,n)}))}}var M=function(e,t,i){return(0,n.zG)(e,B(t,i))},x=(o.kp,o.Eq,a.of),A=function(e){return function(t){return t.map((function(t){return e(t)}))}},C=function(e){return function(t){return(0,n.zG)(t,function(e){return function(t){for(var i=[],n=0;n<t.length;n++)i.push.apply(i,e(n,t[n]));return i}}((function(t,i){return e(i)})))}},O=C(n.yR),T=function(e){return function(t){for(var i=[],n=0;n<t.length;n++){var a=e(n,t[n]);r.pC(a)&&i.push(a.value)}return i}},U=function(e){return T((function(t,i){return e(i)}))},G=U(n.yR),j=function(e){return function(t){return t.filter(e)}},R=function(e){return L((function(t,i){return e(i)}))},L=function(e){return function(t){for(var i=[],n=[],r=0;r<t.length;r++){var a=t[r];e(r,a)?n.push(a):i.push(a)}return(0,s.s4)(i,n)}},B=(o.Lx,o.xP,o.u4),z=o.OE,N=(o.nq,o.iw,function(e){var t=F(e);return function(e){return t((function(t,i){return e(i)}))}}),$=function(e){return function(t){return M(t,e.of([]),(function(t,i){return e.ap(e.map(t,(function(e){return function(t){return(0,n.zG)(e,d(t))}})),i)}))}},F=function(e){return function(t){return z(e.of([]),(function(i,r,a){return e.ap(e.map(r,(function(e){return function(t){return(0,n.zG)(e,d(t))}})),t(i,a))}))}},W=(o.ZN,o.Eh,o.pR);o.pJ,o.oR,a.oo,o.yW,o.j0,r.F4,a.w6,a.QI,a.Ss},6862:(e,t,i)=>{function n(e){return function(t,i){return function(n){return e.chain(n,(function(n){return e.map(i(n),(function(e){var i;return Object.assign({},n,((i={})[t]=e,i))}))}))}}}i.d(t,{a:()=>n})},5e3:(e,t,i)=>{i.d(t,{g1:()=>b,G5:()=>v,dO:()=>f,Pd:()=>E,ak:()=>B,tS:()=>w,g_:()=>C,ij:()=>j,Yo:()=>D,DT:()=>P,fS:()=>T,pF:()=>O,nM:()=>q,tO:()=>M,t$:()=>c,UI:()=>m,Vn:()=>S,EQ:()=>A,vx:()=>G,F2:()=>u,LF:()=>U,i$:()=>L,Y3:()=>R});var n=i(6862),r=i(9384);function a(e){return function(t){return function(i){return e.fromEither(r.Wi(i)?r.t$(t()):r.F2(i.value))}}}function o(e){return function(t,i){return function(n){return e.fromEither(t(n)?r.F2(n):r.t$(i(n)))}}}var s=i(3735),c=(i(7341),r.t$),u=r.F2,l=function(e,t){return(0,s.zG)(e,m(t))},d=function(e,t){return(0,s.zG)(e,_(t))},p=function(e,t){return(0,s.zG)(e,w(t))},g="Either",m=function(e){return function(t){return q(t)?t:u(e(t.right))}},f={URI:g,map:l},h=u,_=function(e){return function(t){return q(t)?t:q(e)?e:u(t.right(e.right))}},v={URI:g,map:l,ap:d},b={URI:g,map:l,ap:d,of:h},y=function(e){return function(t){return q(t)?t:e(t.right)}},w=y,k={URI:g,map:l,ap:d,chain:p},E=function(e,t){return function(i){return q(i)?c(e(i.left)):u(t(i.right))}},S=function(e){return function(t){return q(t)?c(e(t.left)):t}},I={URI:g,fromEither:s.yR},P=o(I),D=a(I),q=r.nM,M=r.tO,x=function(e,t){return function(i){return q(i)?e(i.left):t(i.right)}},A=x,C=A,O=function(e){return function(t){return q(t)?e(t.left):t.right}},T=O,U=function(e){return q(e)?u(e.left):c(e.right)},G=function(e){return function(t){return q(t)?e(t.left):t}},j=function(e){return function(t){return null==t?c(e):u(t)}},R=function(e,t){try{return u(e())}catch(e){return c(t(e))}},L=x(s.yR,s.yR);r.F4;var B=(0,n.a)(k);r.Xl},4268:(e,t,i)=>{i.d(t,{Uz:()=>a,f7:()=>n,n_:()=>r,w4:()=>o});i(3735);var n=function(e){return{equals:function(t,i){return t===i||e(t,i)}}},r=function(e){return n((function(t,i){for(var n in e)if(!e[n].equals(t[n],i[n]))return!1;return!0}))},a=function(e){return function(t){return n((function(i,n){return t.equals(e(i),e(n))}))}},o={equals:function(e,t){return e===t}};o.equals},7341:(e,t,i)=>{function n(e,t){return function(i){return function(n){return e.map(n,(function(e){return t.map(e,i)}))}}}function r(e){return function(t,i){return function(n){return e.map(n,(function(e){var n;return Object.assign({},e,((n={})[t]=i(e),n))}))}}}i.d(t,{Hr:()=>r,UI:()=>n})},1885:(e,t,i)=>{i.d(t,{Ce:()=>l,Eh:()=>k,Im:()=>d,KB:()=>_,Od:()=>s,QI:()=>I,R3:()=>p,Ss:()=>P,dC:()=>c,jj:()=>m,lx:()=>w,nI:()=>h,of:()=>y,oo:()=>g,w6:()=>v,ws:()=>u});var n=i(3735),r=(i(7341),i(9384)),a=i(7241),o=function(e,t,i){if(i||2===arguments.length)for(var n,r=0,a=t.length;r<a;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},s=function(e){return e.length>0},c=function(e,t){return e<0||e>=t.length},u=function(e){return function(t){return o([e],t,!0)}},l=u,d=function(e){return function(t){return o(o([],t,!0),[e],!1)}},p=d,g=function(e,t,i){if(s(i)){var n=f(i);return n.splice(e,0,t),n}return[t]},m=function(e){return function(t){if(1===t.length)return b(t);for(var i=[E(t)],n=function(t){i.every((function(i){return!e.equals(i,t)}))&&i.push(t)},r=0,a=S(t);r<a.length;r++){n(a[r])}return i}},f=r.r1,h=function(e){return s(e)?r.G(e):r.YP},_=function(e){return function(t){for(var i=Math.max(0,Math.floor(t)),n=[e(0)],r=1;r<i;r++)n.push(e(r));return n}},v=function(e,t){return e<=t?_((function(t){return e+t}))(t-e+1):[e]};var b=f,y=function(e){return[e]};a.xP,a.Lx;var w=function(e){return function(t){var i=Math.max(1,e);return i>=t.length?[b(t),[]]:[(0,n.zG)(t.slice(1,i),l(E(t))),t.slice(i)]}},k=(a.u4,a.OE,a.nq,a.iw,a.YM,a.ZN,a.Eh),E=(r.F4,a.YM),S=function(e){return e.slice(1)};a.Z$,a.VV,a.Fp,a.j0;function I(e,t){return void 0===t?l(e):(0,n.zG)(t,l(e))}var P=function(e,t){return(0,n.zG)(e,p(t))};a.ur},6567:(e,t,i)=>{i.d(t,{DT:()=>s,DZ:()=>_,EQ:()=>k,Eh:()=>u,G:()=>o,UI:()=>d,Uo:()=>v,Wi:()=>y,Y3:()=>q,YP:()=>a,fS:()=>I,g_:()=>E,hX:()=>h,ij:()=>D,pC:()=>b,pF:()=>S,pR:()=>l,tS:()=>g,wp:()=>m,xH:()=>P});var n=i(3735),r=(i(7341),i(9384)),a=(i(6017),i(4870),i(5605),r.YP),o=r.G;function s(e){return function(t){return e(t)?o(t):a}}var c=function(e){return"Left"===e._tag?a:o(e.right)},u=function(e){return{equals:function(t,i){return t===i||(y(t)?y(i):!y(i)&&e.equals(t.value,i.value))}}},l=function(e){return{equals:u(e).equals,compare:function(t,i){return t===i?0:b(t)?b(i)?e.compare(t.value,i.value):1:-1}}},d=function(e){return function(t){return y(t)?a:o(e(t.value))}},p=o,g=function(e){return function(t){return y(t)?a:e(t.value)}},m=function(e){return function(t){return y(t)?e():t}},f=g(n.yR),h=function(e){return function(t){return y(t)?a:e(t.value)?t:a}},_=function(e){return function(t){return y(t)?a:e(t.value)}},v=c,b=r.pC,y=function(e){return"None"===e._tag},w=function(e,t){return function(i){return y(i)?e():t(i.value)}},k=w,E=k,S=function(e){return function(t){return y(t)?e():t.value}},I=S,P=f,D=function(e){return null==e?a:o(e)},q=function(e){try{return o(e())}catch(e){return a}};r.F4,r.Xl},7209:(e,t,i)=>{i.d(t,{Fp:()=>p,Uz:()=>s,VV:()=>d,Zt:()=>o,gf:()=>l,gt:()=>u,lt:()=>c,uZ:()=>g});var n=i(4268),r=i(3735),a=function(e){return function(t,i){return t===i||0===e(t,i)}},o=function(e){return{equals:a(e),compare:function(t,i){return t===i?0:e(t,i)}}},s=function(e){return function(t){return o((function(i,n){return t.compare(e(i),e(n))}))}},c=(r.W8,function(e){return function(t,i){return-1===e.compare(t,i)}}),u=function(e){return function(t,i){return 1===e.compare(t,i)}},l=function(e){return function(t,i){return-1!==e.compare(t,i)}},d=function(e){return function(t,i){return t===i||e.compare(t,i)<1?t:i}},p=function(e){return function(t,i){return t===i||e.compare(t,i)>-1?t:i}},g=function(e){var t=d(e),i=p(e);return function(e,n){return function(r){return i(t(r,n),e)}}};n.w4.equals},6017:(e,t,i)=>{i.d(t,{ff:()=>n,xD:()=>r});i(3735);var n=function(e){return function(t){return!e(t)}},r=function(e){return function(t){return function(i){return t(i)&&e(i)}}}},3328:(e,t,i)=>{i.d(t,{DZ:()=>U,Eh:()=>W,Eq:()=>D,Ew:()=>b,JO:()=>w,Lx:()=>B,OE:()=>z,Od:()=>p,P5:()=>f,Su:()=>C,UI:()=>A,YM:()=>h,Z$:()=>_,ZN:()=>F,bj:()=>S,cx:()=>v,f2:()=>y,hX:()=>O,hp:()=>E,iw:()=>$,j0:()=>J,kp:()=>P,nq:()=>N,oR:()=>Y,pJ:()=>V,pR:()=>K,qr:()=>k,t9:()=>I,u4:()=>L,uK:()=>G,xH:()=>x,xP:()=>R,xb:()=>d,yW:()=>H});var n=i(4268),r=i(3735),a=(i(7341),i(9384)),o=i(4011),s=i(7209),c=i(7241),u=i(4870),l=(i(5605),function(e,t,i){if(i||2===arguments.length)for(var n,r=0,a=t.length;r<a;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}),d=function(e){return 0===e.length},p=c.Od;c.Ce,c.ws,c.R3,c.Im;var g=function(e,t){return function(i){return p(i)?t(i):e()}},m=c.dC;function f(e,t){return void 0===t?function(t){return f(e,t)}:m(e,t)?a.YP:a.G(t[e])}var h=function(e){return p(e)?a.G(c.YM(e)):a.YP},_=function(e){return p(e)?a.G(c.Z$(e)):a.YP};var v=function(e){return function(t){for(var i=0;i<t.length;i++)if(e(t[i]))return a.G(i);return a.YP}};function b(e){return function(t){for(var i=0;i<t.length;i++)if(e(t[i]))return a.G(t[i]);return a.YP}}var y=function(e){return function(t){for(var i=0;i<t.length;i++){var n=e(t[i]);if(a.pC(n))return n}return a.YP}};var w=function(e){return function(t){for(var i=t.length-1;i>=0;i--){var n=e(t[i]);if(a.pC(n))return n}return a.YP}},k=function(e){return function(t){for(var i=t.length-1;i>=0;i--)if(e(t[i]))return a.G(i);return a.YP}},E=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];"Right"===n._tag&&t.push(n.right)}return t},S=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];"Left"===n._tag&&t.push(n.left)}return t};function I(e){return function(t,i){if(void 0===i){var n=I(e);return function(e){return n(t,e)}}for(var r,a=0;a<i.length;a++)if(r=i[a],e.equals(r,t))return!0;return!1}}var P=function(e,t){return(0,r.zG)(e,V(t))},D=function(e,t){return(0,r.zG)(e,Y(t))},q=c.of,M=function(e){return function(t){return(0,r.zG)(t,function(e){return function(t){if(d(t))return Q;for(var i=[],n=0;n<t.length;n++)i.push.apply(i,e(n,t[n]));return i}}((function(t,i){return e(i)})))}},x=M(r.yR),A=function(e){return function(t){return t.map((function(t){return e(t)}))}},C=function(e){return function(t){return t.map((function(t,i){return e(i,t)}))}},O=function(e){return function(t){return t.filter(e)}},T=function(e){return function(t){for(var i=[],n=0;n<t.length;n++){var r=e(n,t[n]);a.pC(r)&&i.push(r.value)}return i}},U=function(e){return T((function(t,i){return e(i)}))},G=(r.yR,function(e){return j((function(t,i){return e(i)}))}),j=function(e){return function(t){for(var i=[],n=[],r=0;r<t.length;r++){var a=t[r];e(r,a)?n.push(a):i.push(a)}return(0,u.s4)(i,n)}},R=function(e){return function(t){return function(i){return i.reduce((function(i,n,r){return e.concat(i,t(r,n))}),e.empty)}}},L=function(e,t){return z(e,(function(e,i,n){return t(i,n)}))},B=function(e){var t=R(e);return function(e){return t((function(t,i){return e(i)}))}},z=function(e,t){return function(i){for(var n=i.length,r=e,a=0;a<n;a++)r=t(a,r,i[a]);return r}},N=function(e,t){return $(e,(function(e,i,n){return t(i,n)}))},$=function(e,t){return function(i){return i.reduceRight((function(e,i,n){return t(n,i,e)}),e)}},F=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},W=function(e){return(0,n.f7)((function(t,i){return t.length===i.length&&t.every((function(t,n){return e.equals(t,i[n])}))}))},K=function(e){return(0,s.Zt)((function(t,i){for(var n=t.length,r=i.length,a=Math.min(n,r),s=0;s<a;s++){var c=e.compare(t[s],i[s]);if(0!==c)return c}return o.Df.compare(n,r)}))},V=function(e){return function(t){for(var i=l([],e(t),!0),n=[];i.length>0;){var r=i.shift();a.nM(r)?i.unshift.apply(i,e(r.left)):n.push(r.right)}return n}},Y=function(e){return function(t){var i=e(t),n=[],r=[];function o(t){a.nM(t)?e(t.left).forEach((function(e){return n.push(e)})):r.push(t.right)}for(var s=0,c=i;s<c.length;s++){o(c[s])}for(;n.length>0;)o(n.shift());return r}},Q=(c.oo,c.cS);function H(e){return function(t){return t.every(e)}}var J=function(e){var t=c.j0(e);return function(i){return g((function(){return e.empty}),t(i))}};a.F4,c.w6,c.QI,c.Ss},7241:(e,t,i)=>{i.d(t,{R3:()=>_,Im:()=>h,ur:()=>z,QI:()=>$,cS:()=>d,Lx:()=>q,xP:()=>A,Eh:()=>U,ZN:()=>T,ru:()=>k,vM:()=>E,YM:()=>G,j0:()=>N,Od:()=>p,dC:()=>g,Z$:()=>R,Fp:()=>B,VV:()=>L,of:()=>P,Ce:()=>f,ws:()=>m,w6:()=>y,u4:()=>D,nq:()=>M,iw:()=>C,OE:()=>x,Ss:()=>F,oo:()=>v,Ri:()=>S});var n,r=i(4268),a=i(3735),o=(i(7341),i(9384)),s=i(7209),c=function(e){return{concat:s.VV(e)}},u=function(e){return{concat:s.Fp(e)}};n=void 0;var l=function(e,t,i){if(i||2===arguments.length)for(var n,r=0,a=t.length;r<a;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},d=o.Xl,p=o.Od,g=function(e,t){return e<0||e>=t.length},m=function(e){return function(t){return l([e],t,!0)}},f=m,h=function(e){return function(t){return l(l([],t,!0),[e],!1)}},_=h,v=function(e,t,i){if(p(i)){var n=o.r1(i);return n.splice(e,0,t),n}return[t]},b=function(e){return function(t){for(var i=Math.max(0,Math.floor(t)),n=[e(0)],r=1;r<i;r++)n.push(e(r));return n}},y=function(e,t){return e<=t?b((function(t){return e+t}))(t-e+1):[e]};function w(e,t){return t?e.concat(t):function(t){return t.concat(e)}}function k(e){return function(t){var i=t.length;if(0===i)return d;for(var n=[],r=t[0],a=[r],o=1;o<i;o++){var s=t[o];e.equals(s,r)?a.push(s):(n.push(a),a=[r=s])}return n.push(a),n}}var E=function(e){return function(t){for(var i={},n=0,r=t;n<r.length;n++){var a=r[n],s=e(a);o.e$.call(i,s)?i[s].push(a):i[s]=[a]}return i}};var S=function(e){for(var t=[e[0][0]],i=[e[0][1]],n=1;n<e.length;n++)t[n]=e[n][0],i[n]=e[n][1];return[t,i]},I=function(e){return function(t){for(var i=[e,t[0]],n=1;n<t.length;n++)i.push(e,t[n]);return i}},P=o.ri,D=function(e,t){return x(e,(function(e,i,n){return t(i,n)}))},q=function(e){return function(t){return function(i){return i.slice(1).reduce((function(i,n){return e.concat(i,t(n))}),t(i[0]))}}},M=function(e,t){return C(e,(function(e,i,n){return t(i,n)}))},x=function(e,t){return function(i){return i.reduce((function(e,i,n){return t(n,e,i)}),e)}},A=function(e){return function(t){return function(i){return i.slice(1).reduce((function(i,n,r){return e.concat(i,t(r+1,n))}),t(0,i[0]))}}},C=function(e,t){return function(i){return i.reduceRight((function(e,i,n){return t(n,i,e)}),e)}},O=o.YM,T=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},U=function(e){return(0,r.f7)((function(t,i){return t.length===i.length&&t.every((function(t,n){return e.equals(t,i[n])}))}))},G=(o.F4,O),j=o.Gb,R=function(e){return e[e.length-1]},L=function(e){var t=c(e);return function(e){return e.reduce(t.concat)}},B=function(e){var t=u(e);return function(e){return e.reduce(t.concat)}},z=function(e){return function(t){return t.reduce(e.concat)}},N=function(e){var t=z(e);return function(e){return(0,a.ls)(function(e){return function(t){var i=j(t);return p(i)?(0,a.zG)(i,I(e),f(G(t))):t}}(e),t)}};function $(e,t){return void 0===t?f(e):(0,a.zG)(t,f(e))}var F=function(e,t){return(0,a.zG)(e,w([t]))}},4923:(e,t,i)=>{i.d(t,{Bu:()=>h,CC:()=>R,DZ:()=>te,EW:()=>W,Eh:()=>le,G:()=>O,HA:()=>U,I8:()=>B,P5:()=>_,RF:()=>L,RJ:()=>N,SW:()=>V,Su:()=>b,UI:()=>y,Ub:()=>Q,V_:()=>F,XP:()=>d,Yz:()=>x,_Y:()=>$,_r:()=>P,dp:()=>c,dx:()=>m,e$:()=>f,hX:()=>ee,jt:()=>q,kp:()=>j,mK:()=>X,mS:()=>z,nn:()=>G,nr:()=>pe,nu:()=>K,oA:()=>se,oh:()=>ce,qS:()=>J,ri:()=>S,sq:()=>A,t9:()=>T,tV:()=>ne,uK:()=>ie,uZ:()=>de,vA:()=>H,vP:()=>I,xb:()=>u,yW:()=>C,z7:()=>M,zV:()=>Y});var n=i(4268),r=i(3735),a=i(9384),o=i(4870),s=i(2751),c=(i(5605),function(e){return Object.keys(e).length}),u=function(e){for(var t in e)if(a.e$.call(e,t))return!1;return!0},l=function(e){return function(t){return Object.keys(t).sort(e.compare)}},d=l(s.Df);function p(e){if("function"==typeof e)return p(s.Df)(e);var t=l(e);return function(e){return function(i){for(var n=[],r=0,a=t(i);r<a.length;r++){var o=a[r];n.push(e(o,i[o]))}return n}}}var g=p(s.Df)((function(e,t){return[e,t]}));var m=function(e,t){return function(i){if(a.e$.call(i,e)&&i[e]===t)return i;var n=Object.assign({},i);return n[e]=t,n}},f=function(e,t){return a.e$.call(t,e)};function h(e){return function(t,i){if(void 0===i){var n=h(e);return function(e){return n(e,t)}}for(var r in t)if(!a.e$.call(i,r)||!e.equals(t[r],i[r]))return!1;return!0}}function _(e,t){return void 0===t?function(t){return _(e,t)}:a.e$.call(t,e)?a.G(t[e]):a.YP}var v={};function b(e){return function(t){var i={};for(var n in t)a.e$.call(t,n)&&(i[n]=e(n,t[n]));return i}}function y(e){return b((function(t,i){return e(i)}))}function w(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return w(s.Df).apply(void 0,e);var i=l(e[0]);return function(e,t){return function(n){for(var r=e,a=i(n),o=a.length,s=0;s<o;s++){var c=a[s];r=t(c,r,n[c])}return r}}}function k(e){if("compare"in e){var t=l(e);return function(e){return function(i){return function(n){for(var r=e.empty,a=t(n),o=a.length,s=0;s<o;s++){var c=a[s];r=e.concat(r,i(c,n[c]))}return r}}}}return k(s.Df)(e)}function E(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return E(s.Df).apply(void 0,e);var i=l(e[0]);return function(e,t){return function(n){for(var r=e,a=i(n),o=a.length-1;o>=0;o--){var s=a[o];r=t(s,n[s],r)}return r}}}var S=function(e,t){var i;return(i={})[e]=t,i};function I(e){return X(s.Df)(e)}function P(e){return function(t){var i={},n={};for(var r in t)if(a.e$.call(t,r)){var s=e(r,t[r]);switch(s._tag){case"Left":i[r]=s.left;break;case"Right":n[r]=s.right}}return(0,o.s4)(i,n)}}function D(e){return function(t){var i={},n={};for(var r in t)if(a.e$.call(t,r)){var s=t[r];e(r,s)?n[r]=s:i[r]=s}return(0,o.s4)(i,n)}}function q(e){return function(t){var i={};for(var n in t)if(a.e$.call(t,n)){var r=e(n,t[n]);a.pC(r)&&(i[n]=r.value)}return i}}function M(e){return function(t){var i={},n=!1;for(var r in t)if(a.e$.call(t,r)){var o=t[r];e(r,o)?i[r]=o:n=!0}return n?i:t}}var x=g,A=function(e){for(var t={},i=0,n=e;i<n.length;i++){var r=n[i];t[r[0]]=r[1]}return t};function C(e){return function(t){for(var i in t)if(!e(t[i]))return!1;return!0}}function O(e){return function(t){for(var i in t)if(e(t[i]))return!0;return!1}}function T(e){return function(t,i){if(void 0===i){var n=T(e);return function(e){return n(t,e)}}for(var r in i)if(e.equals(i[r],t))return!0;return!1}}var U=function(e,t){return(0,r.zG)(e,y(t))},G=function(e,t){return(0,r.zG)(e,b(t))},j=function(e){var t=re(e);return function(e,i,n){return(0,r.zG)(e,t(i,n))}},R=function(e){return function(t){var i=ae(e)(t);return function(e,t){return(0,r.zG)(e,i(t))}}},L=function(e){var t=oe(e);return function(e,i,n){return(0,r.zG)(e,t(i,n))}},B=function(e,t){return(0,r.zG)(e,ee(t))},z=function(e,t){return(0,r.zG)(e,te(t))},N=function(e,t){return(0,r.zG)(e,ie(t))},$=function(e,t){return(0,r.zG)(e,ne(t))},F=function(e){var t=w(e);return function(e,i,n){return(0,r.zG)(e,t(i,n))}},W=function(e){var t=k(e);return function(e){var i=t(e);return function(e,t){return(0,r.zG)(e,i(t))}}},K=function(e){var t=E(e);return function(e,i,n){return(0,r.zG)(e,t(i,n))}},V=function(e,t){return(0,r.zG)(e,P(t))},Y=function(e,t){return(0,r.zG)(e,D(t))},Q=function(e,t){return(0,r.zG)(e,q(t))},H=function(e,t){return(0,r.zG)(e,M(t))},J=function(e){var t=Z(e);return function(e){var i=t(e);return function(e,t){return i(e,(0,r.ls)(r.SK,t))}}},X=function(e){var t=J(e);return function(e){var i=t(e);return function(e){return i(e,r.yR)}}},Z=function(e){return function(t){var i=l(e);return function(e,n){var r=i(e);if(0===r.length)return t.of(v);for(var a=t.of({}),o=function(i){a=t.ap(t.map(a,(function(e){return function(t){var n;return Object.assign({},e,((n={})[i]=t,n))}})),n(i,e[i]))},s=0,c=r;s<c.length;s++){o(c[s])}return a}}},ee=function(e){return M((function(t,i){return e(i)}))},te=function(e){return q((function(t,i){return e(i)}))},ie=function(e){return D((function(t,i){return e(i)}))},ne=function(e){return P((function(t,i){return e(i)}))};function re(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var i=w(e[0]);return function(e,t){return i(e,(function(e,i,n){return t(i,n)}))}}return re(s.Df).apply(void 0,e)}function ae(e){if("compare"in e){var t=k(e);return function(e){var i=t(e);return function(e){return i((function(t,i){return e(i)}))}}}return ae(s.Df)(e)}function oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var i=E(e[0]);return function(e,t){return i(e,(function(e,i,n){return t(i,n)}))}}return oe(s.Df).apply(void 0,e)}var se=function(e){var t={};for(var i in e)if(a.e$.call(e,i)){var n=e[i];a.pC(n)&&(t[i]=n.value)}return t},ce=function(e){var t={},i={};for(var n in e)if(a.e$.call(e,n)){var r=e[n];a.nM(r)?t[n]=r.left:i[n]=r.right}return(0,o.s4)(t,i)},ue="ReadonlyRecord";function le(e){var t=h(e);return(0,n.f7)((function(e,i){return t(e)(i)&&t(i)(e)}))}function de(e){return{concat:function(t,i){if(u(t))return i;if(u(i))return t;var n=Object.assign({},t);for(var r in i)a.e$.call(i,r)&&(n[r]=a.e$.call(t,r)?e.concat(t[r],i[r]):i[r]);return n},empty:v}}s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df;function pe(e,t){return a.e$.call(void 0===t?this:t,e)}s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df},7927:(e,t,i)=>{i.d(t,{UI:()=>u,XP:()=>s,dx:()=>c,hX:()=>y,xb:()=>a});var n=i(4923),r=i(2751),a=(i(5605),n.dp,n.xb),o=function(e){return function(t){return Object.keys(t).sort(e.compare)}},s=o(r.Df);var c=n.dx;n.e$;n.Bu,n.P5,n.Su;var u=n.UI;n.ri;function l(e){return n.vP(e)}n._r;n.jt;n.yW,n.G,n.t9;var d=n.HA,p=(n.nn,n.kp),g=n.CC,m=n.RF,f=(n.I8,n.mS,n.RJ,n._Y,n.V_),h=n.EW,_=n.nu,v=(n.SW,n.zV,n.Ub,n.vA,n.qS),b=(n.mK,function(e){return function(t){var i=o(e);return function(e,n){var r=i(e);if(0===r.length)return t.of({});for(var a=t.of({}),o=function(i){a=t.ap(t.map(a,(function(e){return function(t){return e[i]=t,e}})),n(i,e[i]))},s=0,c=r;s<c.length;s++){o(c[s])}return a}}}),y=n.hX;n.DZ,n.uK,n.tV;n.oA,n.oh;var w="Record";n.Eh,n.uZ,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,n.nr,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df,r.Df},2197:(e,t,i)=>{i.d(t,{ff:()=>n});var n=function(e){return function(t){return!e(t)}}},4870:(e,t,i)=>{i.d(t,{Pd:()=>r,s4:()=>n});i(3735);var n=function(e,t){return{left:e,right:t}},r=function(e,t){return function(i){return n(e(a(i)),t(o(i)))}},a=function(e){return e.left},o=function(e){return e.right}},5151:(e,t,i)=>{i.d(t,{Hi:()=>h,PM:()=>f,RD:()=>E,UA:()=>_,UI:()=>u,dO:()=>m,oE:()=>I,of:()=>d,pE:()=>S,tD:()=>a,tS:()=>p,uU:()=>k});var n=i(3735),r=(i(7341),i(9384)),a=function(e){return function(){return Promise.resolve().then(e)}};var o=function(e,t){return(0,n.zG)(e,u(t))},s=function(e,t){return(0,n.zG)(e,l(t))},c=function(e,t){return(0,n.zG)(e,p(t))},u=function(e){return function(t){return function(){return Promise.resolve().then(t).then(e)}}},l=function(e){return function(t){return function(){return Promise.all([Promise.resolve().then(t),Promise.resolve().then(e)]).then((function(e){return(0,e[0])(e[1])}))}}},d=function(e){return function(){return Promise.resolve(e)}},p=function(e){return function(t){return function(){return Promise.resolve().then(t).then((function(t){return e(t)()}))}}},g="Task";var m={URI:g,map:o},f={URI:g,of:d},h={URI:g,map:o,ap:s},_={URI:g,map:o,of:d,ap:s,chain:c},v=n.yR,b=(r.F4,d(r.Xl)),y=function(e){var t=function(e){return function(t){return function(){return Promise.all(t.map((function(t,i){return Promise.resolve().then((function(){return e(i,t)()}))})))}}}(e);return function(e){return r.Od(e)?t(e):b}},w=function(e){var t=function(e){return function(t){return function(){return r.Gb(t).reduce((function(t,i,n){return t.then((function(t){return Promise.resolve().then(e(n+1,i)).then((function(e){return t.push(e),t}))}))}),Promise.resolve().then(e(0,r.YM(t))).then(r.ri))}}}(e);return function(e){return r.Od(e)?t(e):b}},k=function(e){return y((function(t,i){return e(i)}))},E=k(n.yR),S=function(e){return w((function(t,i){return e(i)}))},I={URI:g,map:o,of:d,ap:s,chain:c,fromIO:a,fromTask:v}},6934:(e,t,i)=>{i.d(t,{Do:()=>Z,ak:()=>ee,tS:()=>Q,g_:()=>B,Uo:()=>j,t$:()=>O,UI:()=>K,Vn:()=>V,EQ:()=>R,vx:()=>N,F2:()=>T,Y3:()=>z});var n=i(6862),r=i(1828),a=i(5e3),o=i(3735),s=i(7341);function c(e){return(0,o.ls)(a.F2,e.of)}function u(e){return(0,o.ls)(a.t$,e.of)}function l(e){return function(t){return e.map(t,a.F2)}}function d(e){return function(t){return e.map(t,a.t$)}}function p(e){return function(t){return(0,o.ls)(a.ij(t),e.of)}}function g(e){var t=p(e);return function(e){var i=t(e);return function(e){return(0,o.ls)(e,i)}}}function m(e){var t=_(e),i=g(e);return function(e){var n=i(e);return function(e){return t(n(e))}}}function f(e){return(0,s.UI)(e,a.dO)}function h(e){return(0,r.ap)(e,a.G5)}function _(e){return function(t){return function(i){return e.chain(i,(function(i){return a.nM(i)?e.of(i):t(i.right)}))}}}function v(e){return function(t){return function(i){return e.chain(i,(function(i){return a.nM(i)?t():e.of(i)}))}}}function b(e){return function(t,i){return function(n){return e.map(n,a.Pd(t,i))}}}function y(e){return function(t){return function(i){return e.map(i,a.Vn(t))}}}function w(e){return function(t,i){return function(n){return e.map(n,a.EQ(t,i))}}}function k(e){return function(t,i){return function(n){return e.chain(n,a.EQ(t,i))}}}function E(e){return function(t){return function(i){return e.chain(i,a.EQ(t,e.of))}}}function S(e){return function(t){return function(i){return e.chain(i,(function(i){return a.nM(i)?t(i.left):e.of(i)}))}}}function I(e){var t=S(e);return function(i){return t((function(t){return e.map(i(t),(function(e){return a.nM(e)?e:a.t$(t)}))}))}}function P(e){return function(t){return function(i){return e.chain(i,a.EQ((function(i){return e.map(t(i),a.t$)}),(function(t){return e.of(a.F2(t))})))}}}function D(e){return function(t){return e.map(t,a.LF)}}function q(e){return function(t){return e.map(t,a.i$)}}var M=i(9384),x=i(5151),A=function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},C=function(e,t){var i,n,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},O=u(x.PM),T=c(x.PM),U=l(x.dO),G=d(x.dO),j=(x.tD,x.tD,x.of),R=(x.tD,w(x.dO)),L=k(x.UA),B=L,z=(x.UA,function(e,t){return function(){return A(void 0,void 0,void 0,(function(){var i;return C(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e().then(M.F2)];case 1:return[2,n.sent()];case 2:return i=n.sent(),[2,M.t$(t(i))];case 3:return[2]}}))}))}}),N=(x.dO,x.PM,x.PM,x.UA,S(x.UA)),$=(x.UA,x.UA,x.dO,function(e,t){return(0,o.zG)(e,K(t))}),F=function(e,t){return(0,o.zG)(e,Y(t))},W=function(e,t){return(0,o.zG)(e,Q(t))},K=f(x.dO),V=(x.dO,y(x.dO)),Y=h(x.Hi),Q=_(x.UA),H=(x.UA,T),J="TaskEither";var X={URI:J,map:$,ap:F,chain:W};var Z=H(M.F4),ee=(0,n.a)(X);M.Xl},5605:(e,t,i)=>{function n(e,t){return function(i){var n=e.traverse(i);return function(e,r){return i.map(n(e,r),t.separate)}}}function r(e,t){return function(i){var n=e.traverse(i);return function(e,r){return i.map(n(e,r),t.compact)}}}i.d(t,{BL:()=>r,Fj:()=>n})},3735:(e,t,i)=>{i.d(t,{MZ:()=>r,Q1:()=>u,SK:()=>g,W8:()=>o,a9:()=>a,bc:()=>d,gn:()=>s,ls:()=>l,r5:()=>c,yR:()=>n,zG:()=>p});function n(e){return e}var r=n;function a(e){return function(){return e}}var o=a(!0),s=a(null),c=a(void 0),u=c;function l(e,t,i,n,r,a,o,s,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return i(t(e.apply(this,arguments)))};case 4:return function(){return n(i(t(e.apply(this,arguments))))};case 5:return function(){return r(n(i(t(e.apply(this,arguments)))))};case 6:return function(){return a(r(n(i(t(e.apply(this,arguments))))))};case 7:return function(){return o(a(r(n(i(t(e.apply(this,arguments)))))))};case 8:return function(){return s(o(a(r(n(i(t(e.apply(this,arguments))))))))};case 9:return function(){return c(s(o(a(r(n(i(t(e.apply(this,arguments)))))))))}}}function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}function p(e,t,i,n,r,a,o,s,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return i(t(e));case 4:return n(i(t(e)));case 5:return r(n(i(t(e))));case 6:return a(r(n(i(t(e)))));case 7:return o(a(r(n(i(t(e))))));case 8:return s(o(a(r(n(i(t(e)))))));case 9:return c(s(o(a(r(n(i(t(e))))))));default:for(var u=arguments[0],l=1;l<arguments.length;l++)u=arguments[l](u);return u}}var g=function(e,t){return t}},9384:(e,t,i)=>{i.d(t,{F2:()=>d,F4:()=>_,G:()=>s,Gb:()=>f,Od:()=>g,Wi:()=>r,Xl:()=>h,YM:()=>m,YP:()=>o,e$:()=>v,nM:()=>c,pC:()=>a,r1:()=>b,ri:()=>p,t$:()=>l,tO:()=>u});var n=function(e,t,i){if(i||2===arguments.length)for(var n,r=0,a=t.length;r<a;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},r=function(e){return"None"===e._tag},a=function(e){return"Some"===e._tag},o={_tag:"None"},s=function(e){return{_tag:"Some",value:e}},c=function(e){return"Left"===e._tag},u=function(e){return"Right"===e._tag},l=function(e){return{_tag:"Left",left:e}},d=function(e){return{_tag:"Right",right:e}},p=function(e){return[e]},g=function(e){return e.length>0},m=function(e){return e[0]},f=function(e){return e.slice(1)},h=[],_={},v=Object.prototype.hasOwnProperty,b=function(e){return n([e[0]],e.slice(1),!0)}},4011:(e,t,i)=>{i.d(t,{Df:()=>r,Eq:()=>n});var n={equals:function(e,t){return e===t}},r={equals:n.equals,compare:function(e,t){return e<t?-1:e>t?1:0}};n.equals,r.compare},2751:(e,t,i)=>{i.d(t,{Df:()=>r,Eq:()=>n,pn:()=>o,xb:()=>a});var n={equals:function(e,t){return e===t}},r={equals:n.equals,compare:function(e,t){return e<t?-1:e>t?1:0}},a=function(e){return 0===e.length},o=function(e,t){return function(i){return i.endsWith(e,t)}}},655:(e,t,i)=>{i.d(t,{_T:()=>n,mG:()=>r});function n(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}function r(e,t,i,n){return new(i||(i=Promise))((function(r,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))}Object.create;Object.create},4386:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(477),r=i.n(n);function a(){return r()('/*! permutive-javascript-sdk v19.94.0 (web) (built 2023-07-14T19:26:48.299Z) */(()=>{"use strict";function e(e){return e instanceof Error?e:new Error("string"==typeof e?e:JSON.stringify(e))}const r=()=>({kind:"null",value:null}),n=e=>({kind:"string",value:e}),t=e=>({kind:"number",value:e}),i=e=>({kind:"array",value:e}),a=e=>({kind:"object",value:e}),o=e=>e,s=()=>({kind:"bottom"}),c=e=>({kind:"inner",a:e}),l=e=>({kind:"top",error:e}),u=e=>({kind:"unbounded",group:e}),p=(e,r)=>({kind:"windowed",key:r,group:e}),m=(e,r,n)=>({kind:"countLimit",n,limit:r,group:e}),d=(e,r,n)=>({kind:"uniqueLimit",n,limit:r,group:e}),g=e=>({kind:"numberGroup",group:e}),_=e=>({kind:"stringGroup",group:e}),f=e=>({kind:"tuple",tuple:e}),v=e=>({state:e}),w=(e,r)=>({commands:e,payload:r});function y(e){return e}function h(e){return function(){return e}}var b=h(void 0);function q(e,r,n,t,i,a,o,s,c){switch(arguments.length){case 1:return e;case 2:return function(){return r(e.apply(this,arguments))};case 3:return function(){return n(r(e.apply(this,arguments)))};case 4:return function(){return t(n(r(e.apply(this,arguments))))};case 5:return function(){return i(t(n(r(e.apply(this,arguments)))))};case 6:return function(){return a(i(t(n(r(e.apply(this,arguments))))))};case 7:return function(){return o(a(i(t(n(r(e.apply(this,arguments)))))))};case 8:return function(){return s(o(a(i(t(n(r(e.apply(this,arguments))))))))};case 9:return function(){return c(s(o(a(i(t(n(r(e.apply(this,arguments)))))))))}}}function k(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e}function A(e,r,n,t,i,a,o,s,c){switch(arguments.length){case 1:return e;case 2:return r(e);case 3:return n(r(e));case 4:return t(n(r(e)));case 5:return i(t(n(r(e))));case 6:return a(i(t(n(r(e)))));case 7:return o(a(i(t(n(r(e))))));case 8:return s(o(a(i(t(n(r(e)))))));case 9:return c(s(o(a(i(t(n(r(e))))))));default:for(var l=arguments[0],u=1;u<arguments.length;u++)l=arguments[u](l);return l}}var S=function(e){return{equals:function(r,n){return r===n||e(r,n)}}},x=function(e){return S((function(r,n){for(var t in e)if(!e[t].equals(r[t],n[t]))return!1;return!0}))},I=function(e){return function(r,n){return r===n||0===e(r,n)}},E=function(e){return{equals:I(e),compare:function(r,n){return r===n?0:e(r,n)}}},M=function(e){return function(r){return E((function(n,t){return r.compare(e(n),e(t))}))}},C=function(e){return function(r,n){return-1===e.compare(r,n)}},D=function(e){return function(r,n){return 1===e.compare(r,n)}},B=function(e){return function(r,n){return r===n||e.compare(r,n)>-1?r:n}};var N={equals:function(e,r){return e===r}},z={equals:N.equals,compare:function(e,r){return e<r?-1:e>r?1:0}};const P=(e,r)=>{switch(e.kind){case"bottom":return{kind:"bottom"};case"inner":return c(r(e.a));case"top":return l(e.error)}},T=e=>E(((r,n)=>{if("bottom"===r.kind&&"bottom"===n.kind)return 0;if("bottom"===r.kind)return-1;if("bottom"===n.kind)return 1;if("top"===r.kind&&"top"===n.kind)return z.compare(r.error,n.error);if("top"===r.kind)return 1;if("top"===n.kind)return-1;if("inner"===r.kind&&"inner"===n.kind)return e.compare(r.a,n.a);throw new Error("Non exhaustive match in extendedAlgebraOrd")}));var L=function(e,r,n){if(n||2===arguments.length)for(var t,i=0,a=r.length;i<a;i++)!t&&i in r||(t||(t=Array.prototype.slice.call(r,0,i)),t[i]=r[i]);return e.concat(t||Array.prototype.slice.call(r))},j=function(e){return"Some"===e._tag},O={_tag:"None"},F=function(e){return{_tag:"Some",value:e}},U=function(e){return"Left"===e._tag},G=(Object.prototype.hasOwnProperty,function(e){return L([e[0]],e.slice(1),!0)}),X=function(e){return function(r){return!e(r)}};var R=O,V=F;function H(e){return function(r){return e(r)?V(r):R}}var Q=function(e){return"Left"===e._tag?R:V(e.right)},W=function(e){return{equals:function(r,n){return r===n||(Z(r)?Z(n):!Z(n)&&e.equals(r.value,n.value))}}},J=function(e){return{equals:W(e).equals,compare:function(r,n){return r===n?0:$(r)?$(n)?e.compare(r.value,n.value):1:-1}}},Y=function(e){return function(r){return Z(r)?R:V(e(r.value))}},K=Q,$=j,Z=function(e){return"None"===e._tag},ee=function(e,r){return function(n){return Z(n)?e():r(n.value)}},re=ee,ne=re,te=function(e){return function(r){return Z(r)?e():r.value}};var ie;ie=void 0;var ae=function(e){return e[0]},oe=ae;var se=function(e,r,n){if(n||2===arguments.length)for(var t,i=0,a=r.length;i<a;i++)!t&&i in r||(t||(t=Array.prototype.slice.call(r,0,i)),t[i]=r[i]);return e.concat(t||Array.prototype.slice.call(r))},ce=function(e){return e.length>0},le=function(e,r){return e<0||e>=r.length},ue=function(e){return function(r){return se([e],r,!0)}},pe=ue,me=function(e){return function(r){return se(se([],r,!0),[e],!1)}},de=me,ge=G,_e=function(e){return ce(e)?F(e):O},fe=function(e){return function(r){for(var n=Math.max(0,Math.floor(r)),t=[e(0)],i=1;i<n;i++)t.push(e(i));return t}};var ve=ge;var we=function(e){return function(r){var n=Math.max(1,e);return n>=r.length?[ve(r),[]]:[A(r.slice(1,n),pe(he(r))),r.slice(n)]}},ye=function(e){return S((function(r,n){return r.length===n.length&&r.every((function(r,t){return e.equals(r,n[t])}))}))},he=oe;var be={equals:function(e,r){return e===r}},qe={equals:be.equals,compare:function(e,r){return e<r?-1:e>r?1:0}};function ke(e){return function(r,n){if(void 0===n){var t=ke(e);return function(e){return t(r,e)}}for(var i,a=0;a<n.length;a++)if(i=n[a],e.equals(i,r))return!0;return!1}}var Ae=function(e,r){return function(n){for(var t=n.length,i=e,a=0;a<t;a++)i=r(a,i,n[a]);return i}};var Se=function(e){return 0===e.length},xe=ce,Ie=pe,Ee=de,Me=function(e,r){return e<=0?[]:fe(r)(e)};var Ce=le,De=function(e){return function(r){return Ce(e,r)?ze(r):r.slice(0,e)}};var Be=function(e,r){for(var n=e.length,t=0;t<n&&r(e[t]);t++);return t};var Ne=function(e){return function(r){return e<=0||Se(r)?ze(r):e>=r.length?[]:r.slice(e,r.length)}};var ze=function(e){return e.slice()},Pe=function(e){return Se(e)?[]:e.slice().reverse()},Te=function(e){return function(r){return r.length<=1?ze(r):r.slice().sort(e.compare)}},Le=function(e,r,n){for(var t=[],i=Math.min(e.length,r.length),a=0;a<i;a++)t[a]=n(e[a],r[a]);return t};var je=ke,Oe=function(e){return function(r){return e>=1&&xe(r)?we(e)(r):Se(r)?[ze(r),[]]:[[],ze(r)]}};function Fe(e){var r=je(e);return function(n,t){if(void 0===t){var i=Fe(e);return function(e){return i(e,n)}}return n.filter((function(e){return!r(e,t)}))}}var Ue=function(e){return function(r){return A(r,function(e){return function(r){for(var n=[],t=0;t<r.length;t++)n.push.apply(n,e(t,r[t]));return n}}((function(r,n){return e(n)})))}},Ge=function(e){return function(r){for(var n=[],t=0;t<r.length;t++){var i=e(t,r[t]);j(i)&&n.push(i.value)}return n}},Xe=function(e){return Ge((function(r,n){return e(n)}))},Re=Xe(y),Ve=Ae,He=function(e){var r=Qe(e);return function(e){return r((function(r,n){return e(n)}))}},Qe=function(e){return function(r){return Ve(e.of([]),(function(n,t,i){return e.ap(e.map(t,(function(e){return function(r){return A(e,Ee(r))}})),r(n,i))}))}},We=function(e){return E((function(r,n){for(var t=r.length,i=n.length,a=Math.min(t,i),o=0;o<a;o++){var s=e.compare(r[o],n[o]);if(0!==s)return s}return qe.compare(t,i)}))},Je=function(e){return{_tag:"Left",left:e}},Ye=function(e){return{_tag:"Right",right:e}},Ke=function(e,r){return A(e,er(r))},$e=function(e,r){return A(e,nr(r))},Ze="Either",er=function(e){return function(r){return ir(r)?r:Ye(e(r.right))}},rr=Ye,nr=function(e){return function(r){return ir(r)?r:ir(e)?e:Ye(r.right(e.right))}},tr={URI:Ze,map:Ke,ap:$e,of:rr},ir=U,ar=function(e){return function(r){return ir(r)?e(r.left):r.right}},or=ar,sr=function(e,r){try{return Ye(e())}catch(e){return Je(r(e))}};var cr=function(e){return-1===e?1:1===e?-1:0};function lr(e,r){return Re(e.map(r))}function ur(e,r,n,t){const i=(e,r)=>{if(0===e.length)return Re(r.map((e=>V({1:e[1],2:n(R,V(e[2]))}))));if(0===r.length)return Re(e.map((e=>V({1:e[1],2:n(V(e[2]),R)}))));if(e.length>0&&r.length>0&&C(t)(e[0][1],r[0][1])){const[t,...a]=e,o=t[1],s=t[2];return Ie({1:o,2:n(V(s),R)})(i(a,r))}if(e.length>0&&r.length>0&&D(t)(e[0][1],r[0][1])){const[t,...a]=r,o=t[1],s=t[2];return Ie({1:o,2:n(R,V(s))})(i(e,a))}if(e.length>0&&r.length>0){const[t,...a]=e,[o,...s]=r,c=t[1],l=t[2],u=o[2];return Ie({1:c,2:n(V(l),V(u))})(i(a,s))}throw new Error("Non exhaustive match in mapOption2")},a=M((e=>e[1]))(t),o=(e=>{const r=lr(e,(e=>$(e[2])?V({1:e[1],2:e[2].value}):R));return 0===r.length?R:V(r)})(i(Te(a)([...e].map((e=>({1:e[0],2:e[1]})))),Te(a)([...r].map((e=>({1:e[0],2:e[1]}))))));return Y((e=>new Map(e.map((e=>[e[1],e[2]])))))(o)}function pr(e,r,n,t){const i=M((e=>e[0]))(t),a=Te(i)([...r]).reduceRight(((e,r)=>{if(ir(e)){const t=n(r[1],e.left);return $(t)?Je(t.value):Ye(r[0])}return e}),Je(e));return K(a)}function mr(e,r){return new Map([...e].map(r))}function dr(e,r){return new Map([...e].filter(r))}function gr(e){return JSON.stringify(_r(e))}function _r(e){switch(e.kind){case"null":return wr.encode(e);case"string":return yr.encode(e);case"number":return hr.encode(e);case"array":return br.encode(e);case"object":return qr.encode(e)}}function fr(e){return null===e?wr.decode(e):"number"==typeof e?hr.decode(e):"string"==typeof e?yr.decode(e):Array.isArray(e)?br.decode(e):qr.decode(e)}const vr=(e,r)=>Je(`Failed to decode. Input was ${JSON.stringify(e)}. Codec type was ${r}`),wr={encode:e=>null,decode:e=>null===e?Ye({kind:"null",value:null}):vr(e,"SimpleNull")},yr={encode:e=>e.value,decode:e=>"string"==typeof e?Ye(n(e)):vr(e,"SimpleString")},hr={encode:e=>e.value,decode:e=>"number"==typeof e?Ye(t(e)):vr(e,"SimpleNumber")},br={encode:e=>e.value.map(_r),decode:e=>{if(Array.isArray(e)){const r=He(tr)(fr)(e);return er(i)(r)}return vr(e,"SimpleArray")}},qr={encode:e=>{const r=[...e.value.entries()];return Object.assign({},...Array.from(r,(([e,r])=>({[e]:_r(r)}))))},decode:e=>{if(e&&e.constructor===Object){const r=He(tr)((([e,r])=>A(fr(r),er((r=>k(e,r))))))(Object.entries(e));return er((e=>a(new Map([...e]))))(r)}return vr(e,"SimpleObject")}};function kr(e){return A(e,Sr,Y(gr),te((()=>"<encode error>")))}function Ar(e){return Y(Dr)(function(e){switch(e.state.kind){case"top":return V(n(e.state.error));case"bottom":return R;case"inner":return Sr(e.state.a)}}(e))}function Sr(e){return function(e){switch(e.kind){case"numberGroup":case"stringGroup":return xr(e.group);case"tuple":return e.tuple.length>0}}(e.payload)?V(i(function(e,r){const n=Y((e=>Ie(e)(r)))(e);return te((()=>r))(n)}(Y((e=>n(function(e){const r=e=>{switch(e){case"add":return"p";case"mul":return"m";case"max":return"v";case"min":return"n"}},n=e=>1===e[2]?r(e[1]):r(e[1])+JSON.stringify(e[2]);return e.map(n).join("")}(e))))(e.commands),function(e){const r=e=>{switch(e.kind){case"bottom":return{kind:"null",value:null};case"top":return n(e.error);case"inner":return t(e.a)}},i=e=>lr([Ir,Er,e=>A(e,Cr,a,V)],(r=>r(e))),o=e=>lr([Ir,Mr,e=>A(e,Cr,(e=>mr(e,(([e,r])=>[JSON.stringify(e),r]))),a,V)],(r=>r(e)));switch(e.kind){case"tuple":return e.tuple.map(r);case"stringGroup":return i(e.group);case"numberGroup":return o(e.group)}}(e.payload)))):R}function xr(e){switch(e.kind){case"unbounded":return e.group.size>0;case"windowed":return e.group.size>0||$(e.key);case"countLimit":case"uniqueLimit":return e.group.size>0||$(e.limit)}}function Ir(e){switch(e.kind){case"unbounded":return R;case"windowed":return V(n("w"));case"countLimit":return V(n(1===e.n?"x":`x${e.n}`));case"uniqueLimit":return V(n(1===e.n?"u":`u${e.n}`))}}function Er(e){switch(e.kind){case"unbounded":return R;case"windowed":return V(n($(e.key)?e.key.value:""));case"countLimit":case"uniqueLimit":return V(n($(e.limit)?e.limit.value:""))}}function Mr(e){switch(e.kind){case"unbounded":return R;case"windowed":return $(e.key)?V(t(e.key.value)):V({kind:"null",value:null});case"countLimit":case"uniqueLimit":return $(e.limit)?V(t(e.limit.value)):V({kind:"null",value:null})}}function Cr(e){switch(e.kind){case"unbounded":case"windowed":case"countLimit":case"uniqueLimit":return e.group}}function Dr(e){switch(e.kind){case"array":return 0===e.value.length?{kind:"null",value:null}:1===e.value.length?Dr(e.value[0]):i(e.value.map(Dr));case"object":return A(dr(e.value,(([e,r])=>"null"!==r.kind)),(e=>mr(e,(e=>[e[0],Dr(e[1])]))),a);default:return e}}function Br(e){const r=e=>{if(0===e.length)return{kind:"bottom"};const r=(e=>{if(4!==e.length)return R;const[r,n,t,i]=e;if("string"===r.kind&&"string"===n.kind&&"object"===i.kind){const e=H((e=>Nr(e[1].value)&&zr(e[2].value)))({1:r,2:n});return Y((e=>({prim:e[1].value,grp:e[2].value,cutoff:t,m:i.value})))(e)}return R})(e);if($(r)){const{prim:e,grp:n,cutoff:t,m:i}=r.value,a=Pr(t,i,Tr(n));return"string"==typeof a?l(a):c(w(Lr(e),a))}const n=(e=>{if(3!==e.length)return R;const[r,n,t]=e;if("string"===r.kind&&"object"===t.kind){const e=H((e=>zr(e.value)))(r);return Y((e=>({grp:e.value,cutoff:n,m:t.value})))(e)}return R})(e);if($(n)){const{grp:e,cutoff:r,m:t}=n.value,i=Pr(r,t,Tr(e));return"string"==typeof i?l(i):c(w(R,i))}const t=(e=>{if(2!==e.length)return R;const[r,n]=e;if("string"===r.kind&&"object"===n.kind){const e=H((e=>Nr(e.value)))(r);return Y((e=>({prim:e.value,m:n.value})))(e)}return R})(e);if($(t)){const{prim:e,m:r}=t.value;return c(w(Lr(e),_(u(r))))}const i=(e=>{if(1!==e.length)return R;const[r]=e;return"object"===r.kind?V({m:r.value}):R})(e);if($(i)){const{m:e}=i.value;return c(w(R,_(u(e))))}const a=(e=>{if(e.length<1)return R;const[r,...n]=e;if("string"===r.kind){const e=H((e=>Nr(e.value)))(r);return Y((e=>({prim:e.value,rest:n})))(e)}return R})(e);if($(a)){const{prim:e,rest:r}=a.value;return c(w(Lr(e),Or(r)))}return c(w(R,Or(e)))},n=e=>"array"===e.kind?Ue(n)(e.value):[e];return"null"===e.kind?v({kind:"bottom"}):v(r(n(e)))}function Nr(e){const r=e.split("");if(!0==(0===r.length))return!1;{const[e,...n]=r;return-1!=="pmvn".indexOf(e)&&n.every((e=>-1!=="pmvn0123456789".indexOf(e)))}}function zr(e){const r=e.split("");switch(!0){case 0===r.length:return!1;case"w"===r[0]&&void 0===r[1]:return!0;default:{const[e,...n]=r;return-1!=="ux".indexOf(e)&&-1===n.map((e=>!isNaN(parseInt(e)))).indexOf(!1)}}}function Pr(e,r,n){switch(e.kind){case"string":return _(n({1:V(e.value),2:r}));case"number":case"null":return g(n({1:"null"===e.kind?R:V(e.value),2:dr(mr(r,(([e,r])=>[Number(e),r])),(e=>!isNaN(e[0])))}));default:return"{bad cutoff}"}}function Tr(e){const r=e=>r=>d(r[2],r[1],e),n=e=>r=>m(r[2],r[1],e),t=e.split("");switch(!0){case"w"===t[0]&&void 0===t[1]:return e=>p(e[2],e[1]);case"u"===t[0]&&void 0===t[1]:return r(1);case"u"===t[0]&&void 0!==t[1]:return r(parseInt(t.slice(1).join("")));case"x"===t[0]&&void 0===t[1]:return n(1);case"x"===t[0]&&void 0!==t[1]:return n(parseInt(t.slice(1).join("")));default:throw new Error("This should never happen if you use isGroupCommand")}}function Lr(e){return Y(o)(_e(jr(e,(e=>{const r=e.split("");if(0===r.length)return R;const[n,...t]=r,i=(e=>{switch(e){case"p":return V("add");case"m":return V("mul");case"v":return V("max");case"n":return V("min");default:return R}})(n);return Y((e=>{const{init:r,rest:n}=(i=e=>{return"number"==typeof(r=parseInt(e))&&isFinite(r)&&Math.floor(r)===r;var r},function(e){var r=Oe(Be(e,i))(e);return{init:r[0],rest:r[1]}})(t);var i;return{1:{1:e,2:0===r.length?1:parseInt(r.join(""))},2:n.join("")}}))(i)}))))}function jr(e,r){const n=r(e);return te((()=>[]))(Y((e=>[e[1]].concat(jr(e[2],r))))(n))}function Or(e){return f(e.map(Fr))}function Fr(e){switch(e.kind){case"number":return c(e.value);case"string":return l(e.value);case"null":return{kind:"bottom"};case"object":return l("{object}");case"array":return l("{array}")}}const Ur={strategy:(e,r,n)=>t=>{if(Z(n))return r;if("delta"===e&&Z(r))return R;if(Z(r))return n;if($(r)&&$(n))return t(r.value,n.value);throw new Error("Non exhaustive match in combineCommand.strategy")},operation:(e,r,n,t,i,a)=>{const o=We(T(a));if("append"===e&&"add"===r)return Le(n,t,Jr("append",i.plus));if("append"===e&&"mul"===r)return Le(n,t,Jr("append",i.times));if("append"===e&&"max"===r)return B(o)(n,t);if("join"===e&&"add"===r)return Le(n,t,Jr("join",B(a)));if("join"===e&&"mul"===r)return Le(n,t,Jr("join",B(a)));if("join"===e&&"max"===r)return B(o)(n,t);if("min"===r)return Ur.operation(e,"max",n,t,i,function(e){return E(((r,n)=>cr(e.compare(r,n))))}(a));if("delta"===e&&"max"===r)return D(o)(n,t)?n:t.map(s);if("delta"===e)return Le(n,t,((e,r)=>D(T(a))(e,r)?e:{kind:"bottom"}));throw new Error("Non exhaustive match in combineCommand.operation")},extend:(e,r,n,t)=>{if("delta"===e&&"top"===n.kind&&"top"===t.kind)return D(z)(n.error,t.error)?l(n.error):{kind:"bottom"};if("delta"===e&&"bottom"===t.kind)return n;if("delta"===e&&"bottom"===n.kind)return{kind:"bottom"};if("top"===n.kind&&"top"===t.kind)return l(B(z)(n.error,t.error));if("top"===n.kind)return n;if("top"===t.kind)return t;if("inner"===n.kind&&"inner"===t.kind)return r(n.a,t.a);if("bottom"===n.kind)return t;if("bottom"===t.kind)return n;throw new Error("Non exhaustive match in extend")}},Gr={plus:(e,r)=>e+r,times:(e,r)=>e*r};function Xr(e,r,n,t){if("unbounded"===e.kind&&"unbounded"===r.kind){const i=e.group,a=r.group;return te(s)(Y((e=>c(u(e))))(ur(i,a,n,t)))}if("windowed"===e.kind&&"windowed"===r.kind){const i=e.key,a=e.group,o=r.key,l=r.group,u=B(J(t))(i,o);return te(s)(Y((e=>c(p(e,u))))(ur(a,l,n,t)))}if("countLimit"===e.kind&&"countLimit"===r.kind){const i=e.n,a=r.n;if(i===a){const a=e.limit,o=e.group,l=r.limit,u=r.group,p=B(J(t))(a,l);return te(s)(Y((e=>c(m(e,p,i))))(ur(o,u,n,t)))}return l("Non matching counts")}if("uniqueLimit"===e.kind&&"uniqueLimit"===r.kind){const i=e.n,a=r.n;if(i===a){const a=e.limit,o=e.group,l=r.limit,u=r.group,p=B(J(t))(a,l);return te(s)(Y((e=>c(d(e,p,i))))(ur(o,u,n,t)))}return l("Non matching counts")}return l("Non matching group types")}function Rr(e,r,n,t,i,a){const o=(e,r)=>({1:De(e)(r).concat(Me(Math.max(0,e-r.length),s)),2:Ne(e)(r)}),c=(r,n,t)=>{if(0===r.length)return Ur.operation(e,"max",n,t,i,a);if(r.length>0){const[s,...l]=r,u=o(s[2],n),p=u[1],m=u[2],d=o(s[2],t),g=d[1],_=d[2];return Ur.operation(e,s[1],p,g,i,a).concat(c(l,m,_))}throw new Error("Non exhaustive match in recurse")};return Pe((l=e=>"bottom"===e.kind,function(e){return e.slice(Be(e,l))})(Pe(c(r,n,t))));var l}function Vr(e,n,t){return te(r)(Hr(e,R)(n,t))}function Hr(e,r){const n=r=>(n,t)=>Ur.strategy(e,n,t)(Hr(e,r)),t=(t,i)=>{if(W(ye(x({1:N,2:be}))).equals(t.commands,i.commands)){const a=((r,t,i)=>{if("stringGroup"===t.kind&&"stringGroup"===i.kind){const e=Xr(t.group,i.group,n(r),z);return P(e,(e=>_(Wr(e,z))))}if("numberGroup"===t.kind&&"numberGroup"===i.kind){const e=Xr(t.group,i.group,n(r),qe);return P(e,(e=>g(Wr(e,qe))))}if("tuple"===t.kind&&"tuple"===i.kind){const n=$(r)?r.value:[];return c(f(Rr(e,n,t.tuple,i.tuple,Gr,qe)))}throw new Error(`Non matching payload. Got ${t.kind} and ${i.kind}`)})(Z(t.commands)?r:t.commands,t.payload,i.payload);return P(a,(e=>w(t.commands,e)))}throw new Error(`Non matching primitive strings. Got ${kr(t)} and ${kr(i)}`)};return(r,n)=>Ar(v(Ur.extend(e,t,Br(r).state,Br(n).state)))}function Qr(e,r,n){const t=Y((r=>dr(e,(([e,t])=>function(e){return function(r,n){return-1!==e.compare(r,n)}}(n)(e,r)))))(r);return te((()=>e))(t)}function Wr(e,r){switch(e.kind){case"unbounded":return e;case"windowed":return Z(e.key)?e:p(Qr(e.group,e.key,r),e.key);case"countLimit":{const n=e.limit,t=e.n,i=e.group,a=(e,r)=>r<=1?R:V(r-1),o=pr(t,i,a,r),s=B(J(r))(n,o);return m(Qr(i,s,r),s,t)}case"uniqueLimit":{const n=e.limit,t=e.n,i=e.group,a=(e,r)=>{if("object"===e.kind){const n=[...e.value.keys(),...r.keys()],i=new Set(n);return i.size>=t?R:V(i)}return R},o=pr(new Set,i,a,r),s=B(J(r))(n,o);return d(Qr(i,s,r),s,t)}}}function Jr(e,r){return(n,t)=>Ur.extend(e,((e,n)=>c(r(e,n))),n,t)}function Yr(e,r){return Vr("append",e,r)}function Kr(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.reduce(((e,r)=>Object.assign(Object.assign({},e),r)),{})}X((function(e){return 0===e.length}));function $r(e,r){const n=Object.keys(e),t=n.length,i={};for(let a=0;a<t;a++){const t=n[a],o=r(t,e[t]);$(o)&&(i[t]=o.value)}return i}const Zr=e=>r=>{if("number"==typeof r)return r;if("string"==typeof r){const n=e(r);return Number.isNaN(n)?void 0:n}};Zr(parseInt),Zr(parseFloat);function en(e){var r;return["SegmentEntry","SegmentExit"].includes(e.name)&&void 0!==(null===(r=e.properties)||void 0===r?void 0:r.segment_number)}const rn="process";let nn=!1,tn=[],an=!1;const on={};let sn={getCurrentTime:()=>new Date,getCurrentSession:()=>"",getCurrentView:()=>"",getSegments:()=>({}),get1PSegments:()=>({}),get3PSegments:()=>({}),getSegmentsArray:()=>({}),getLookalikeModels:()=>({}),setSegmentActivation:()=>{}};const cn=()=>{const e=_n.concat(sn.get1PSegments(),sn.get3PSegments()),r=gn(e);sn.getSegments=()=>e,sn.getSegmentsArray=()=>r};function ln(e,r,n,t,i,a,o){nn=!1,tn=[],an=!1;const s=A(t.thirdPartydata,re((()=>t.segments),(e=>_n.concat(t.segments,e)))),c=gn(s);sn={getCurrentTime:()=>new Date,getCurrentSession:()=>t.sessionId,getCurrentView:()=>t.viewId,get1PSegments:()=>t.segments,get3PSegments:()=>A(t.thirdPartydata,te((()=>({})))),getSegments:()=>s,getSegmentsArray:()=>c,getLookalikeModels:()=>A(t.lookalikeModels,te((()=>({})))),setSegmentActivation:(e,r)=>{}},an=$(t.lookalikeModels),nn=$(t.thirdPartydata);const l=$r(r,((r,n)=>{var t;return(null===(t=e[r])||void 0===t?void 0:t.checksum)===n?R:V(((e,r)=>{const n=a[e].interpret(null,sn);return Object.assign({checksum:r},!1===n.result?{}:{result:n})})(r,n))}));if(0===i.length)return{diff:Object.assign(Object.assign({},e),l),errors:[]};if(0===Object.keys(l).length)return{diff:e,errors:[]};{const t=pn(l,r,n,i,"bootstrap",a,o);return{diff:Object.assign(Object.assign({},e),t.diff),errors:t.errors}}}function un(e,r,n,t,i,a){(e=>{const r=Object.assign({},e);delete r["1p"],sn.get3PSegments=()=>r})(t),cn(),sn.setSegmentActivation=dn(e,r),nn=!0;const o=pn(e,r,n,tn.length>0?tn:[on],"updateTPD",i,a);return tn=[],o}function pn(e,r,n,t,i,a,o){let s={diff:{},errors:[]};const c=t.length,l=()=>t.filter((e=>{return r=o["!UpdateLookalikeModels"]||[],en(n=e)&&r.includes(n.properties.segment_number.toString());var r,n})).length===t.length?"lookalikeTransition":"transition",u=(e,r,n)=>"transition"===e?n===r-1?l():"event":e;for(let l=0;l<c;l++){const p=t[l],m=u(i,c,l),d=mn(Object.assign(Object.assign({},e),s.diff),r,n,p,m,a,o);s={diff:Object.assign(Object.assign({},s.diff),d.diff),errors:s.errors.concat(d.errors)}}return s}function mn(n,t,i,a,o,s,c){var l;"bootstrap"!==o&&(sn.setSegmentActivation=dn(n,t));const u=r,p=(r,n)=>{const t=s[r],o=t.lift(a,sn),c=q(fr,or(u)),l=c(n.state||null),p=c(o),m=A(sr((()=>Yr(l,p)),e),ar((r=>{throw e(`Failed to append lifted event ${gr(p)} to internal state ${gr(l)}. Got ${r}`)}))),d=A(i[r],H(Boolean),Y(c)),[g,_]=A(d,ne((()=>k(m,!1)),(e=>A(sr((()=>k(Yr(m,e),!1)),b),or((()=>k(m,!0))))))),f=_r(m),v=t.interpret(_r(g),sn),w=n.activations||{};return Object.assign(Object.assign(Object.assign(Object.assign({checksum:n.checksum},null===f?{}:{state:f}),!1===v.result?{}:{result:v}),0===Object.keys(w).length?{}:{activations:w}),!1===_?{}:{dropExternalState:_})},m={diff:{},errors:[]},d=function(e,r,n,t,i){switch(e){case"event":const e=(null==i?void 0:i[t.name])||[];if(nn)return e;{tn.push(t);const r=[...i["!UpdateSecondPartyData"]||[],...i["!UpdateThirdPartyData"]||[]];return Fe(N)(e,r)}case"lookalikeTransition":return(null==i?void 0:i[t.name])||[];case"transition":const a=(null==i?void 0:i[t.name])||[];if(an){const e=i["!UpdateLookalikeModels"]||[];return a.concat(e)}return a;case"bootstrap":const o=((null==i?void 0:i[t.name])||[]).filter((e=>void 0!==r[e]));return Fe(N)(o,[...nn?[]:(i["!UpdateSecondPartyData"]||[]).concat(i["!UpdateThirdPartyData"]||[]),...an?[]:i["!UpdateLookalikeModels"]||[]]);case"updateExternalState":return Object.keys(n);case"updateLAL":return i["!UpdateLookalikeModels"]||[];case"updateTPD":return[...i["!UpdateSecondPartyData"]||[],...i["!UpdateThirdPartyData"]||[]];default:return[]}}(o,n,i,a,c),g=d.length;!function(e){en(e)&&((e=>{const r=sn.get1PSegments(),n={"1p":Object.assign(Object.assign({},r["1p"]),e["1p"])};sn.get1PSegments=()=>n})({"1p":{[e.properties.segment_number]:"SegmentEntry"===e.name}}),cn())}(a);for(let e=0;e<g;e++){const r=d[e],i=n[r]||{checksum:t[r]};let a=i;try{a=p(r,i)}catch(e){m.errors.push(`Failed to interpret query ${r}. Got ${e}`)}a.dropExternalState&&(null!==(l=m.externalStateToDrop)&&void 0!==l||(m.externalStateToDrop={}),m.externalStateToDrop[r]=!0),m.diff[r]=a}return m}function dn(e,r){return(n,t,i)=>{if(!(i in e)){const n=r[i];if(void 0===n)throw new Error("Checksum not in internalStateMap");e[i]={checksum:n}}"activations"in e[i]||(e[i].activations={});const a=e[i].activations;n in a||(a[n]=[]);const o=a[n];o.includes(t)||(a[n]=[...o,t])}}function gn(e){return Object.keys(e).reduce(((r,n)=>{const t=Object.keys(e[n]),i=[];return t.forEach((r=>{!0===e[n][r]&&i.push(r)})),r[n]=i,r}),{})}const _n={empty:{},concat:(e,r)=>{const n=Object.assign({},e);for(const[e,t]of Object.entries(r))n[e]?n[e]=Kr(n[e],t):n[e]=t;return n}};const fn=(e,r)=>{const n=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];return[e.stateMap,...e.payload,...t,r.rawQueries,r.queriesByEvent]};return"bootstrap"===e.type?ln(...n(e)):"updateLAL"===e.type?function(e,r,n,t,i,a){return sn.getLookalikeModels=()=>t,an=!0,mn(e,r,n,on,"updateLAL",i,a)}(...n(e)):"updateTPD"===e.type?un(...n(e)):"updateExternalState"===e.type?function(e,r,n,t,i){return mn(e,r,n,on,"updateExternalState",t,i)}(...n(e)):e.type===rn?pn(...n(e,"event")):"processTransitions"===e.type?function(e,r,n,t,i,a){return pn(e,r,n,t,"transition",i,a)}(...n(e)):{diff:{},errors:[]}};const vn=function(){var e=this&&this.__assign||function(){return e=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var i in r=arguments[n])Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e},e.apply(this,arguments)},r=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,n=r&&e[r],t=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},n=this&&this.__read||function(e,r){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var t,i,a=n.call(e),o=[];try{for(;(void 0===r||r-- >0)&&!(t=a.next()).done;)o.push(t.value)}catch(e){i={error:e}}finally{try{t&&!t.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},t=this&&this.__spreadArray||function(e,r,n){if(n||2===arguments.length)for(var t,i=0,a=r.length;i<a;i++)!t&&i in r||(t||(t=Array.prototype.slice.call(r,0,i)),t[i]=r[i]);return e.concat(t||Array.prototype.slice.call(r))},i=function(){function i(e){return"number"==typeof e?a[e]:e}function p(e){return"number"==typeof e?o[e]:e}function m(e){return"number"==typeof e?s[e]:e}function d(e){switch(e.length){case 0:return null;case 1:return e[0];default:return e}}function g(e,r,n){void 0===n&&(n=v);var t=m(r).reduce((function(e,r){return e&&null!=e[r]?e[r]:null}),e);return null===t?null:n(t)}function _(e,r){var n=m(r).slice();return n.unshift(e),n}function f(e,r,n){return void 0===n&&(n=v),g(e,_("properties",r),n)}var v=function(e){return e},w=function(e){return!0};function y(e,r){return function(n){for(var t=0;t<e.length;t++){if((e[t](n)||!1)===r)return r}return!r}}var h=function(e){return function(r){return!e(r)}},b=function(e,r){return function(n){return n>=e&&n<=r}},q=function(e){return new Date(e).getTime()},k=function(e){return g(e,["time"],q)},A=function(e,r){return g(r,e,q)},S=function(e,r,n,t,i,a){return function(o){var s=g(o,e,(function(e){return e.filter(t).map((function(e){return g(e,r)})).reduce(i,a)}));return n(null===s?a:s)}};function x(e,n,t,i){var a,o;try{for(var s=r(e),c=s.next();!c.done;c=s.next()){var l=c.value;if(t(l)&&n(l)===i)return i}}catch(e){a={error:e}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}return!i}var I=function(e){return function(r){return("string"==typeof e||"number"==typeof e)&&"string"==typeof r&&r.toLowerCase().indexOf(p(e).toLowerCase())>-1}},E=function(e){return function(r){return null!=r&&Array.isArray(r)&&r.indexOf(e)>=0}};function M(e,r,n,t,i){var a=g(e.getSegments(),[r,n])||!1;return i&&(t||a)&&e.setSegmentActivation(r,n,i),a}function C(e,r,n){return g(e.getSegments(),[r,n])||!1}function D(e,r,t){return void 0===t&&(t=18e5),function(i){return{a:{m:function(e,r){return[r[0],i.a.m(null!=e[0]&&e[0][0]===r[0][0]?e[1]:i.a.z,r[1])]},z:[[],i.a.z]},p:function(n,t){return[[e(n)],g(t,r)===e(n)?i.p(n,t):i.a.z]},r:function(r,n){return i.r(r,0!==n[0].length&&n[0][0]===e(r)?n[1]:i.a.z)},d:i.d.sq||{l:function(a,o){var s=g(a,r),c=e(o);if(s!==c)return null;var l=i.d.l(a,o);if(!(Array.isArray(l)&&l.length>1))return null;var u=n(l),p=u[0],m=u.slice(1),d=+(k(a)||o.getCurrentTime()),_=Math.floor(d/t),f={};return f[_]={},f[_][c]=1===m.length?m[0]:m,[p,"u",null,f]},i:function(r,n){if(!Array.isArray(r)||"object"!=typeof r[3])return[[],i.a.z];var t=e(n),a=r[3];return[[t],Object.keys(a).map((function(e){return a[e][t]})).filter((function(e){return e})).map((function(e){return i.d.i([r[0]].concat(e))})).reduce(i.a.m,i.a.z)]}}}}}var B=D((function(e){return e.getCurrentSession()}),["session_id"],18e5),N=D((function(e){return e.getCurrentView()}),["view_id"],3e5);function z(e,r,a,o){return void 0===o&&(o=1),{a:{m:function(e,r){return e.concat(r).slice(-a)},z:[]},p:function(n,t){return g(t,["name"])===i(r)?[e.p(n,t)]:[]},r:function(r,n){return e.r(r,n.reduce((function(r,n){return e.a.m(r,n)}),e.a.z))},d:e.d.ftn||{l:function(r,n){var t,i=e.d.l(r,n),s=g(r,["time"],q)*o;return i&&[i[0],"x"+a,null,(t={},t[s]=2==i.length?i[1]:i.slice(1),t)]},i:function(r,i){return r?Object.keys(r[3]||{}).sort().reverse().map((function(e){return Array.isArray(e)?t([r[0]],n(r[3][e]),!1):[r[0],r[3][e]]})).map((function(r){return e.d.i(r,i)})):[]}}}}var P=function(e,r){return null===e?null==r?null:{b:r}:null==r?{a:e}:{a:e,b:r}},T=function(e,r){return e&&r?e(r):null},L=function(e,r,n){if(n&&n.result&&Array.isArray(n.result)){var t=T(e.d&&e.d.m,{result:n.result[0]}),i=T(r.d&&r.d.m,{result:n.result[1]});return P(t,i)}return null};function j(e,r){var n=c[e];if(!r||!n)return!1;if(!n.length)return!0;for(var t=0,i=!1,a=function(e){for(var r=[],n=0;n<e.length;++n){var t=e.charCodeAt(n);if(t>=55296&&t<=56319){var i=e.charCodeAt(n+1);if(i>=56320&&i<=57343){r.push(e.slice(n,n+2)),++n;continue}}r.push(e.charAt(n))}return r}(r.toLowerCase()),o=0;o<a.length;o++){for(var s=a[o];t>0&&!n[t][s];)t=n[t].su?n[t].su:0;if(n[t][s]&&(i=!!n[t=n[t][s]].te))break}return i}return{q:function(e){return{lift:function(r,n){return e.d.l(r,n)},interpret:function(r,n){return function(r,n){return{result:e.r(r,n)}}(n,e.d.i(r,n))},migrate:function(r){return r&&e.d.m?e.d.m(r):null},m:e.a.m,z:e.a.z,p:e.p,r:e.r,i:e.d.i}},a:function(e){return y(e,!1)},acq:function(e,r){return{p:function(n,t){return[e.p(n,t),r.p(n,t)]},r:function(n,t){return e.r(n,t[0])&&r.r(n,t[1])},a:{z:[e.a.z,r.a.z],m:function(n,t){return[e.a.m(n[0],t[0]),r.a.m(n[1],t[1])]}},d:{l:function(n,t){return P(e.d.l(n,t),r.d.l(n,t))},i:function(n,t){return n?[e.d.i(n.a||null,t),r.d.i(n.b||null,t)]:[e.a.z,r.a.z]},m:function(n){return L(e,r,n)}}}},acs:j,acs_:function(e,r){return function(n){return j(r,g(n,e))}},af_i:function(e,r,n){return void 0===n&&(n=w),function(t){return g(t,e,(function(e){return x(e,r,n,!1)}))&&!0}},af_l:function(e,r,n){return void 0===n&&(n=w),function(t){var i=g(t,e,(function(e){return e.filter(n).length}));return r(null===i?0:i)}},af_m:function(e,r,n,t){return void 0===t&&(t=w),function(i){var a=g(i,e,(function(e){return e.filter(t)}));return null===a||0===a.length?n(0):n(a.map((function(e){return g(e,r)})).reduce((function(e,r){return e+r}),0)/a.length)}},af_n:function(e,r,n,t){return void 0===t&&(t=w),S(e,r,n,t,(function(e,r){return Math.min(e,r)}),Number.POSITIVE_INFINITY)},af_p:function(e,r,n,t){return void 0===t&&(t=w),S(e,r,n,t,(function(e,r){return e*r}),1)},af_s:function(e,r,n,t){return void 0===t&&(t=w),S(e,r,n,t,(function(e,r){return e+r}),0)},af_u:function(e,r,n){return void 0===n&&(n=w),function(t){return g(t,e,(function(e){return x(e,r,n,!0)}))||!1}},af_x:function(e,r,n,t){return void 0===t&&(t=w),S(e,r,n,t,(function(e,r){return Math.max(e,r)}),Number.NEGATIVE_INFINITY)},as:function(e,r,n){var t=_("properties",r);return function(r){for(var i=g(r,t),a=n.length,o=!0,s=0;s<a;s++){var c=n[s];if(!(o=e(c)(i)))break}return o}},c:E,c_:function(e,r){return function(n){return E(r)(g(n,e))}},cl_:function(e,r){return function(n){return E(p(r))(g(n,e))}},cx:function(e){return function(r){return E(p(e))(r)}},ctu:function(e,r,n,t){return{a:t?{m:function(e,r){return e.filter((function(e){return-1===r.indexOf(e)})).concat(r).slice(-t)},z:[]}:{m:function(e,r){return e.filter((function(e){return-1===r.indexOf(e)})).concat(r)},z:[]},p:function(t,a){return g(a,["name"])===i(e)&&r(a)?g(a,n):[]},r:function(e,r){return r},d:{l:function(){return null},i:function(){return[]}}}},ctv:function(r,n,t,a){function o(e,r){var n,t=function(e){return{k:e.k,c:1+e.c}},i={arr:[],add:{k:r,c:1}};return r?(n=e.reduce((function(e,r){return e.add.k===r.k?{arr:e.arr,add:t(r)}:{arr:e.arr.concat(r),add:e.add}}),i)).arr.concat(n.add):e}return{a:a?{m:function(e,r){return o(e,r).slice(-a)},z:[]}:{m:function(e,r){return o(e,r)},z:[]},p:function(e,a){return g(a,["name"])===i(r)&&n(a)?g(a,t):null},r:function(r,n){return n.reduce((function(r,n){var t;return e(e({},r),((t={})[n.k]=n.c,t))}),{})},d:{l:function(e){return null},i:function(e){return[]}}}},ctw:function(e,r,n,t){return{a:t?{m:function(e,r){return e.concat(r).slice(-t)},z:[]}:{m:function(e,r){return e.concat(r)},z:[]},p:function(t,a){return g(a,["name"])===i(e)&&r(a)?g(a,n):[]},r:function(e,r){return r},d:{l:function(){return null},i:function(){return[]}}}},cw:function(e,r,n){return void 0===n&&(n=v),{a:{m:function(e,r){return e+r},z:0},p:function(n,t){return g(t,["name"])===i(e)&&r(t)?1:0},r:function(e,r){return n(r)},d:{l:function(n){return g(n,["name"])===i(e)&&r(n)?["p",1]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:0},m:function(e){return e&&e.result?["p",e.result]:null}}}},e:function(e){return function(r){return r===e}},e_:function(e,r){return function(n){return g(n,e)===r}},fm:function(e,r){return{p:r.p,r:function(n,t){return e(r.r(n,t))},a:r.a,d:r.d}},ftn:function(e,r,n){return{a:{m:function(e,r){return e.concat(r.slice(0,n-e.length))},z:[]},p:function(n,t){return g(t,["name"])===i(r)?[e.p(n,t)]:[]},r:function(r,n){return e.r(r,n.reduce((function(r,n){return e.a.m(r,n)}),e.a.z))},d:z(e,r,n,-1).d}},fw:function(e,r,n,t){return void 0===t&&(t=v),{a:{m:function(e,r){return null===e?r:e},z:null},p:function(t,a){return g(a,["name"])===i(e)&&r(a)?g(a,n):null},r:function(e,r){return r},d:{l:function(n){return g(n,["name"])===i(e)&&r(n)?["p",1]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:0},m:function(e){return e&&e.result?["p",e.result]:null}}}},g:function(e){return function(r){return r>e}},g_:function(e,r){return function(n){return g(n,e)>r}},gb:function(e,r,n){return{a:{m:function(n,t){var i=Object.keys(n).concat(Object.keys(t)).filter((function(e,r,n){return n.indexOf(e)===r})).sort((function(e,r){return Math.max(g(n,[r,1]),g(t,[r,1]))-Math.max(g(n,[e,1]),g(t,[e,1]))})).slice(0,r).reduce((function(r,i){var a=e.a.m(g(n,[i,0])||e.a.z,g(t,[i,0])||e.a.z);return r[i]=[a,Math.max(g(n,[i,1]),g(t,[i,1]))],r}),{});return i},z:{}},p:function(r,t){var i,a,o=g(t,_("properties",n)),s=e.p(r,t);return null==o||(null==(a=s)||"object"==typeof a&&0===Object.keys(a).length||a===e.a.z)?{}:((i={})[o]=[s,g(t,["time"],q)],i)},r:function(r,n){var t={};return Object.keys(n).forEach((function(i){return t[i]=e.r(r,n[i][0])})),t},d:{l:function(){return null},i:function(){return{}}}}},ge:function(e){return function(r){return r>=e}},ge_:function(e,r){return function(n){return g(n,e)>=r}},i_:v,ifp:function(e){return{a:{m:function(e,r){return r},z:null},p:function(e){return null},r:function(r,n){return function(r){return C(r,"1p",e)}(r)},d:{l:function(e,r){return null},i:function(e){return null}}}},isp:function(e,r,n,t){return{a:{m:function(e,r){return r},z:!1},p:function(n,t){return C(n,e,r)},r:function(i,a){return M(i,e,r,n,t)},d:{l:function(e,r){return null},i:function(e){return Array.isArray(e)&&(!!+e[2]||!1)}}}},itp:function(e,r,n,t){return{a:{m:function(e,r){return r},z:!1},p:function(n,t){return C(n,e,r)},r:function(i,a){return M(i,e,r,n,t)},d:{l:function(e,r){return null},i:function(e){return Array.isArray(e)&&(!!+e[2]||!1)}}}},k:g,l:function(e){return function(r){return r<e}},l_:function(e,r){return function(n){var t=g(n,e);return null!==t&&t<r}},le:function(e){return function(r){return r<=e}},le_:function(e,r){return function(n){var t=g(n,e);return null!==t&&t<=r}},lm:function(e,r){var n=function(r){return function(e,r,n){if(void 0===r[n])return NaN;var t=e||{};if(0==(t["1p"]||[]).length)return NaN;var i,a=r[n]||{},o=(a["1p"]||{}).const||0;return Object.keys(t).forEach((function(e){t[e].forEach((function(r){var n=(a[e]||{})[r]||0;o+=n}))})),i=o,1/(1+Math.pow(Math.E,-i))}(r.getSegmentsArray(),r.getLookalikeModels(),e)};return{a:{m:function(e,r){return r},z:null},p:function(e){return null},r:function(e,t){return r(n(e))},d:{l:function(e,r){return null},i:function(e){return null}}}},ltn:z,mnw:function(e,r,n,t){void 0===t&&(t=v);var a=Number.POSITIVE_INFINITY;return{a:{m:function(e,r){return e<r?e:r},z:a},p:function(t,o){return g(o,["name"])===i(e)&&r(o)?g(o,n):a},r:function(e,r){return t(r)},d:{l:function(t){return g(t,["name"])===i(e)&&r(t)?["n",g(t,n)]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:a}}}},mxw:function(e,r,n,t){void 0===t&&(t=v);var a=Number.NEGATIVE_INFINITY;return{a:{m:function(e,r){return e>r?e:r},z:a},p:function(t,o){return g(o,["name"])===i(e)&&r(o)?g(o,n):a},r:function(e,r){return t(r)},d:{l:function(t){return g(t,["name"])===i(e)&&r(t)?["v",g(t,n)]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:a}}}},n0:h(v),n:function(e){return function(r){return r!==e}},nt:h,n_:function(e,r){return function(n){return g(n,e)!==r}},o:function(e){return y(e,!0)},ocq:function(e,r){return{p:function(n,t){return[e.p(n,t),r.p(n,t)]},r:function(n,t){return e.r(n,t[0])||r.r(n,t[1])},a:{z:[e.a.z,r.a.z],m:function(n,t){return[e.a.m(n[0],t[0]),r.a.m(n[1],t[1])]}},d:{l:function(n,t){return P(e.d.l(n,t),r.d.l(n,t))},i:function(n,t){return n?[e.d.i(n.a||null,t),r.d.i(n.b||null,t)]:[e.a.z,r.a.z]},m:function(n){return L(e,r,n)}}}},oe:function(e){for(var r=Object.keys(e),n=r.length,t=new Array(n);n--;)t[n]=[r[n],e[r[n]]];return t},os:function(e,r,n){var t=_("properties",r);return function(r){for(var i=g(r,t),a=n.length,o=!1,s=0;s<a;s++){var c=n[s];if(o=e(c)(i))break}return o}},pacs:function(e,r){return function(n){return j(r,f(n,e))}},pb:function(e,r,n){return function(t){return b(r,n)(f(t,e))}},pc:function(e,r){return function(n){var t=f(n,e);return null!=t&&Array.isArray(t)&&t.indexOf(r)>=0}},pc_:function(e,r){return function(n){var t=f(n,e),i=p(r);return null!=t&&Array.isArray(t)&&t.indexOf(i)>=0}},pe:function(e,r){return function(n){return f(n,e)===r}},pg:function(e,r){return function(n){return f(n,e)>r}},pge:function(e,r){return function(n){return f(n,e)>=r}},pl:function(e,r){return function(n){var t=f(n,e);return null!==t&&t<r}},ple:function(e,r){return function(n){var t=f(n,e);return null!==t&&t<=r}},pn:function(e,r){return function(n){return f(n,e)!==r}},ps:function(e,r){return function(n){return I(r)(f(n,e))}},pw:function(e,r,n,t){return void 0===t&&(t=v),{a:{m:function(e,r){return e*r},z:1},p:function(t,a){return g(a,["name"])===i(e)&&r(a)?g(a,n):1},r:function(e,r){return t(r)},d:{l:function(t){return g(t,["name"])===i(e)&&r(t)?(a=g(t,n))>=1?["m2p",a]:a>0?["m2p",null,1/a]:0==a?["m2p",0]:a>-1?["m2p",null,1/a,1]:["m2p",a,null,1]:null;var a},i:function(e){return e?Array.isArray(e)?0===(r=e.slice(1))[0]?0:Math.pow(-1,r[2]||0)*(r[0]||1)/(r[1]||1):e:1;var r}}}},r:function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return u[e].apply(u,t([],n(r),!1))},ref:function(e){return function(r){return l[e](r)}},s:I,s_:function(e,r){return function(n){return I(r)(g(n,e))}},scq:function(e,r,n){return void 0===n&&(n=v),{p:function(n,t){return[e.p(n,t),r.p(n,t)]},r:function(t,i){return n(e.r(t,i[0])+r.r(t,i[1]))},a:{z:[e.a.z,r.a.z],m:function(n,t){return[e.a.m(n[0],t[0]),r.a.m(n[1],t[1])]}},d:{l:function(n,t){return P(e.d.l(n,t),r.d.l(n,t))},i:function(n,t){return n?[e.d.i(n.a||null,t),r.d.i(n.b||null,t)]:[e.a.z,r.a.z]},m:function(n){return L(e,r,n)}}}},sq:B,dscq:function(r,n,t,a){var o="x".concat(a),s=function(e){return e?2===e.length?["p",o,"",e[1]]:e:null},c=function(e){var t,a=function(e){return g(e,["session_id"])}(e);return a&&g(e,["name"])===i(r)&&n(e)?["p",o,"",(t={},t[a]=1,t)]:null};return{a:{m:function(r,n){var t=s(r),i=s(n);return t?i?["p",o,"",e(e({},t[3]),i[3])]:t:i},z:null},p:function(e,r){return c(r)},r:function(e,r){var n=r&&r[3]&&"object"==typeof r[3]?Object.keys(r[3]).length:0;return t(n)},d:{l:function(e,r){return c(e)},i:function(e,r){return s(e)}}}},sw:function(e,r,n,t){return void 0===t&&(t=v),{a:{m:function(e,r){return e+r},z:0},p:function(t,a){return g(a,["name"])===i(e)&&r(a)?g(a,n):0},r:function(e,r){return t(r)},d:{l:function(t){return function(n){return g(n,["name"])===i(e)&&r(n)}(t)?(a=g(t,n))<0?["p2",null,-a]:["p2",a]:null;var a},i:function(e){return e?Array.isArray(e)?((r="p2"===e[0]?e.slice(1):e)[0]||0)-(r[1]||0):e:0;var r}}}},t:w,tb:function(e,r){return function(n){return b(e,r)(k(n))}},te:function(e){return function(r){return k(r)===e}},te_:function(e,r){return function(n){return A(e,n)===r}},tg:function(e){return function(r){return k(r)>e}},tg_:function(e,r){return function(n){return A(e,n)>r}},tge:function(e){return function(r){return k(r)>=e}},tge_:function(e,r){return function(n){return A(e,n)>=r}},ti:q,tl:function(e){return function(r){return k(r)<e}},tl_:function(e,r){return function(n){return A(e,n)<r}},tle:function(e){return function(r){return k(r)<e}},tle_:function(e,r){return function(n){return A(e,n)<r}},tn:function(e){return function(r){return k(r)!==e}},tn_:function(e,r){return function(n){return A(e,n)!==r}},tw:function(e,r,i){var a=i||100,o=Math.ceil(r/a),s=function(e){return Math.floor(e/o)},c=function(e,n,t){var i;return[s(e.getTime()-r),(i={},i[s(n)]=t,i)]},l=function(r,n){var t=Math.max(r[0],n[0]),i=Object.keys(r[1]).filter((function(e){return e>=t})).concat(Object.keys(n[1]).filter((function(e){return e>=t}))).filter((function(e,r,n){return n.indexOf(e)===r})).reduce((function(t,i){var a=e.a.m(r[1][i]||e.a.z,n[1][i]||e.a.z);return a!==e.a.z&&(t[i]=a),t}),{});return[t,i]},u=[Number.NEGATIVE_INFINITY,{}],p=function(e){var r=function(r){return r.map((function(r){var t=n(r,3),i=t[0],a=(t[1],t[2]);return c(e.t,a,i)})).reduce(l,u)};return l(r(e.in),r(e.out))},m=function(r){if(void 0!==r.result)return m(r.result);if(void 0!==r.w)return m(p(r));var t=n(r,2),i=(t[0],t[1]),a=null,o={};for(var s in i){var c=e.d.m({result:i[s]});c&&Array.isArray(c)&&(a=c[0],o[s]=d(c.slice(1)))}return a&&[a,"w",r[0],o]};return{a:{m:function(e,r){var n=e.w?p(e):e;return l(n,r)},z:u},p:function(r,n){return c(r.getCurrentTime(),g(n,["time"],q),e.p(r,n))},r:function(r,n){var t=(n.w?p(n):n)[1];return e.r(r,Object.keys(t).reduce((function(r,n){return e.a.m(r,t[n])}),e.a.z))},d:e.d.tw||{l:function(r,i){var a=e.d.l(r,i),o=e.d.i(a,i);return a&&t([a[0],"w"],n(c(i.getCurrentTime(),g(r,["time"],q),o)),!1)},i:function(e,n){var t=Array.isArray(e)?e:[],i=n.getCurrentTime(),a=s(i.getTime()-r);return[t[2]||null,Object.keys(t[3]||{}).map((function(e){var r;return(r={})[e]=t[3][e],r})).reduce((function(e,r){return Object.keys(r).filter((function(e){return parseInt(e)>=a})).forEach((function(n){return e[n]=r[n]})),e}),{})]},m:e.d.m&&m}}},vgw:function(e,r,n,t){void 0===t&&(t=v);var a={v:0,k:0};return{a:{m:function(e,r){var n=e.k+r.k;return{v:n?e.v+r.k*(r.v-e.v)/n:0,k:n}},z:a},p:function(t,o){return g(o,["name"])===i(e)&&r(o)?{v:g(o,n),k:1}:a},r:function(e,r){return t(r.v)},d:{l:function(t){return g(t,["name"])===i(e)&&r(t)?0==(a=g(t,n))?["p3",1]:a<0?["p3",1,null,-a]:["p3",1,a]:null;var a},i:function(e){return e?Array.isArray(e)?{v:(((r=e.slice(1))[1]||0)-(r[2]||0))/(r[0]||1),k:r[0]||0}:void 0:a;var r}}}},vq:N,w:function(e){return function(r){return r===p(e)}},x:function(e){return function(r){return r!==p(e)}},y:function(e,r){return function(n){return f(n,e)===o[r]}},y_:function(e,r){return function(n){return g(n,e)===o[r]}},z:function(e,r){return function(n){return f(n,e)!==o[r]}},z_:function(e,r){return function(n){return g(n,e)!==o[r]}}}}(),a=["Pageview","Tracking","PrebidBid","PageviewComplete","SegmentEntry","LinkClick","SlotClicked","GamLogSlotClicked","SlotViewable"],o=["/technology and computing/consumer electronics/tv and video equipment","/art and entertainment/movies and tv/comedies","/art and entertainment/movies and tv/romantic comedies","/art and entertainment/music/music genres/opera","/art and entertainment/music/music genres/pop music","/food and drink/healthy eating","Hulu","Netflix","www.si.com","/art and entertainment/movies and tv/animated","/art and entertainment/movies and tv/dramas","/art and entertainment/movies and tv/reality","/art and entertainment/movies and tv/television","/art and entertainment/music/music genres/classical music","/automotive and vehicles/cars/luxury","/food and drink/dining out","/food and drink/vegetarian","/health and fitness","/society/crime","/society/dating","/sports/football","/sports/skiing","/style and fashion/beauty/cosmetics","/travel/specialty travel/adventure travel","/travel/traveling with kids","National Women\'s Soccer League","athlonsports.com","djbooth.net","parade.com","thespun.com","www.mensjournal.com","www.powder.com","www.thestreet.com","/art and entertainment/books and literature","/art and entertainment/books and literature/fan fiction","/art and entertainment/books and literature/poetry","/art and entertainment/books and literature/science fiction","/art and entertainment/comics and animation","/art and entertainment/dance","/art and entertainment/movies","/art and entertainment/movies and tv","/art and entertainment/movies and tv/action","/art and entertainment/movies and tv/children\'s","/art and entertainment/movies and tv/classics","/art and entertainment/movies and tv/documentaries","/art and entertainment/movies and tv/horror","/art and entertainment/movies and tv/movies/reviews","/art and entertainment/music","/art and entertainment/music/music genres/blues","/art and entertainment/music/music genres/country music","/art and entertainment/music/music genres/electronic music","/art and entertainment/music/music genres/hip hop","/art and entertainment/music/music genres/jazz","/art and entertainment/music/musical instruments","/art and entertainment/shows and events","/art and entertainment/shows and events/classical concert","/art and entertainment/theatre","/automotive and vehicles/motorcycles","/business and industrial","/business and industrial/fashion industry","/education/language learning","/family and parenting","/finance/accounting and auditing/tax preparation and planning","/finance/financial news","/food and drink","/food and drink/desserts and baking","/food and drink/food/fruits and vegetables","/food and drink/food/salads","/food and drink/health and lowfat cooking","/food and drink/vegan","/health and fitness/exercise","/health and fitness/men\'s health","/health and fitness/nutrition","/health and fitness/weight loss","/health and fitness/women\'s health","/hobbies and interests/games/video and computer games","/law, govt and politics","/law, govt and politics/government","/law, govt and politics/law enforcement","/law, govt and politics/politics","/news","/pets/birds","/pets/dogs","/pets/large animals","/sports/baseball","/sports/basketball","/sports/boxing","/sports/climbing","/sports/diving","/sports/golf","/sports/hockey","/sports/horse racing","/sports/horses","/sports/olympics/paralympic games","/sports/parachuting","/sports/rugby","/sports/running and jogging","/sports/sailing","/sports/soccer","/sports/surfing and bodyboarding","/sports/walking","/style and fashion/beauty","/style and fashion/beauty/hair care","/technology and computing/consumer electronics/game systems and consoles","/travel/business travel","5 Things You Must Know Before the Market Opens","Disneyland Resort","HBO","Major League Baseball","Midday Bell","Paramount","Peacock","SI Golf Gear Up","SI Golf Morning Read","TheStreet Daily","TheStreet Top Ten","Ulta Beauty","WNBA","bassmagazine.com","bitcoinmagazine.com","daytimeconfidential.com","edm.com","esi.si.com","fadeawayworld.net","footballscoop.com","mikefarrellsports.com","mishtalk.com","news.scorebooklive.com","ontapsportsnet.com","scriptmag.com","sportscollectorsdigest.com","swimsuit.si.com","tennisbuzz.net","thehockeynews.com","wrestlingnews.co","www.basketballnetwork.net","www.bikemag.com","www.bunkersparadise.com","www.enfuegonow.com","www.f4wonline.com","www.goldminemag.com","www.howcast.com","www.metaledgemag.com","www.mixedmartialarts.com","www.mmanews.com","www.numismaticnews.net","www.skateboarding.com","www.snowboarder.com","www.surfer.com","/art and entertainment/books and literature/children\'s books","/art and entertainment/celebrity fan and gossip","/art and entertainment/comics and animation/comics","/art and entertainment/movies and tv/bollywood","/art and entertainment/movies and tv/classics/silent films","/art and entertainment/movies and tv/cult classics","/art and entertainment/movies and tv/independent","/art and entertainment/movies and tv/movies/trailers","/art and entertainment/movies and tv/talk shows","/art and entertainment/movies and tv/thrillers","/art and entertainment/movies and tv/westerns","/art and entertainment/movies/film festivals and awards","/art and entertainment/music/music genres/folk music","/art and entertainment/music/music genres/punk","/art and entertainment/music/music genres/religious music","/art and entertainment/music/music genres/rock music","/art and entertainment/music/music genres/ska","/art and entertainment/music/music genres/soul music","/art and entertainment/music/music genres/soundtracks","/art and entertainment/music/music genres/world music","/art and entertainment/music/musical instruments/drums","/art and entertainment/music/musical instruments/guitars","/art and entertainment/music/recording industry","/art and entertainment/music/recording industry/music awards","/art and entertainment/music/singing","/art and entertainment/radio","/art and entertainment/shows and events/beauty contest","/art and entertainment/visual art and design/design/interior design","/art and entertainment/visual art and design/drawing","/art and entertainment/visual art and design/painting","/art and entertainment/visual art and design/sculpture","/automotive and vehicles","/automotive and vehicles/auto parts","/automotive and vehicles/auto repair","/automotive and vehicles/buying and selling cars","/automotive and vehicles/cars","/automotive and vehicles/cars/coupe","/automotive and vehicles/cars/performance vehicles","/automotive and vehicles/cars/sedan","/automotive and vehicles/electric vehicles","/automotive and vehicles/motor shows","/automotive and vehicles/scooters and mopeds","/automotive and vehicles/vehicle brands/audi","/automotive and vehicles/vehicle brands/ferrari","/automotive and vehicles/vehicle brands/ford","/automotive and vehicles/vehicle brands/honda","/automotive and vehicles/vehicle brands/nissan","/automotive and vehicles/vehicle brands/toyota","/automotive and vehicles/vehicle brands/volkswagen","/automotive and vehicles/vehicle brands/volvo","/business and industrial/agriculture and forestry/organic farming","/business and industrial/automation/robotics","/business and industrial/business news","/business and industrial/business operations","/business and industrial/company/bankruptcy","/business and industrial/company/earnings","/business and industrial/company/merger and acquisition","/business and industrial/tanning","/business and industrial/war industry","/business and industrial/war industry/weaponry","/careers/career planning","/careers/job fairs","/careers/job search","/education","/education/adult education","/education/distance learning","/education/homework and study tips","/education/special education","/education/teaching and classroom resources/lesson plans","/education/teaching and classroom resources/school supplies","/family and parenting/eldercare","/finance","/finance/accounting and auditing/billing and invoicing","/finance/bank","/finance/bank/atms","/finance/bank/bank account","/finance/bank/checks","/finance/investing","/finance/investing/beginning investing","/finance/investing/funds","/finance/investing/funds/exchange traded funds","/finance/investing/funds/mutual funds","/finance/investing/portfolio","/finance/investing/stocks","/finance/personal finance","/finance/personal finance/insurance","/food and drink/barbecues and grilling","/food and drink/food allergies","/food and drink/food/baked goods","/food and drink/food/condiments and dressings","/food and drink/food/fast food","/food and drink/food/frozen food","/food and drink/food/grains and pasta","/food and drink/food/herbs and spices","/food and drink/food/snack foods","/food and drink/gastronomy/slow food","/food and drink/kosher food","/health and fitness/aging","/health and fitness/alternative medicine","/health and fitness/sexuality","/health and fitness/sports medicine","/health and fitness/therapy","/health and fitness/therapy/physical therapy","/hobbies and interests/arts and crafts","/hobbies and interests/arts and crafts/photography","/hobbies and interests/birdwatching","/hobbies and interests/collecting/stamps and coins","/hobbies and interests/home recording","/hobbies and interests/magic and illusion","/hobbies and interests/scrapbooking","/home and garden/bed and bath/bathroom","/home and garden/bed and bath/bedroom","/home and garden/gardening and landscaping","/home and garden/home furnishings","/home and garden/home improvement and repair","/law, govt and politics/armed forces","/law, govt and politics/armed forces/army","/law, govt and politics/armed forces/marines","/law, govt and politics/commentary","/law, govt and politics/espionage and intelligence","/law, govt and politics/espionage and intelligence/secret service","/law, govt and politics/espionage and intelligence/terrorism","/law, govt and politics/government/heads of state","/law, govt and politics/government/legislative","/law, govt and politics/government/parliament","/law, govt and politics/immigration","/law, govt and politics/legal issues","/law, govt and politics/politics/foreign policy","/law, govt and politics/politics/lobbying","/law, govt and politics/politics/political parties","/news/local news","/news/national news","/pets","/pets/animal welfare","/pets/aquariums","/pets/cats","/pets/reptiles","/real estate","/real estate/buying and selling homes","/science","/science/computer science","/science/engineering","/science/physics","/science/social science","/science/social science/history","/science/weather","/shopping","/shopping/gifts/flowers","/shopping/gifts/party supplies","/society/crime/drug trafficking","/society/crime/organized crime","/society/crime/personal offense","/society/crime/personal offense/assault","/society/crime/personal offense/homicide","/society/crime/personal offense/human trafficking","/society/crime/personal offense/kidnapping","/society/crime/personal offense/torture","/society/crime/property crime","/society/crime/property crime/bribery","/society/crime/property crime/embezzlement","/society/crime/property crime/fraud","/society/crime/property crime/larceny","/society/crime/property crime/piracy","/society/crime/property crime/robbery","/society/crime/sexual offence","/society/crime/sexual offence/prostitution","/society/crime/sexual offence/rape","/society/sex","/society/sex/pornography","/society/social institution/marriage","/society/unrest and war","/sports","/sports/auto racing","/sports/bicycling","/sports/bicycling/mountain biking","/sports/bodybuilding","/sports/bowling","/sports/cheerleading","/sports/climbing/mountain climbing","/sports/climbing/rock climbing","/sports/cricket","/sports/fishing","/sports/go kart","/sports/gymnastics","/sports/hunting and shooting","/sports/martial arts","/sports/olympics","/sports/scuba diving","/sports/skating/figure skating","/sports/snowboarding","/sports/softball","/sports/sports news","/sports/swimming","/sports/tennis","/sports/trekking","/sports/volleyball","/sports/volleyball/beach volleyball","/sports/water polo","/sports/weightlifting","/sports/wrestling","/style and fashion","/style and fashion/accessories","/style and fashion/beauty/cosmetics/eyeshadow","/style and fashion/beauty/cosmetics/lipstick","/style and fashion/beauty/cosmetics/nail polish","/style and fashion/beauty/face and body care","/style and fashion/beauty/face and body care/body care","/style and fashion/beauty/perfume","/style and fashion/body art","/style and fashion/clothing","/style and fashion/fashion designers","/style and fashion/jewelry","/style and fashion/luxury goods","/style and fashion/men \'s fashion","/technology and computing","/technology and computing/computer crime","/technology and computing/consumer electronics/game systems and consoles/nintendo","/technology and computing/consumer electronics/game systems and consoles/playstation","/technology and computing/consumer electronics/game systems and consoles/xbox","/technology and computing/consumer electronics/radios","/technology and computing/internet technology/social network","/technology and computing/tech news","/travel","/travel/honeymoons and getaways","/travel/hotels","/travel/specialty travel/ecotourism","/travel/specialty travel/vineyards","/travel/tourist destinations/europe","/travel/tourist destinations/france","/travel/tourist destinations/japan","/travel/tourist destinations/theme parks","/travel/transports","/travel/transports/air travel/airlines","/travel/transports/air travel/airplanes","/travel/transports/air travel/airports","/travel/transports/road travel","/travel/transports/sea travel","/travel/transports/sea travel/cruises","/travel/transports/train travel","/travel/travel agencies","/travel/travel guides","/travel/vacation rentals","Amazon - Prime Video","American Airlines","American Film Institute","Baseball","Basketball","CDC","Cannes Film Festival","Caribbean","Concert","Disney+","Golf","Golf Channel","HBO MAX","MGM Resorts International","Music City","Music festival","Music industry","Music video","NFL Network","National Football League","Outlander","Paramount Network","Pepsi","PepsiCo","Real Money Annual Subscription (FT)","Real Money Monthly Subscription (FT)","SI:AM","STARZ Inc","Southwest Airlines","Spirit Airlines","Streaming media","USWNT","United Airlines","United States Golf Association","United States women\'s national soccer team","WTA","Walt Disney Parks and Resorts","Whiskey Wednesday","Wynn Resorts","airows.com","artsandcraftshomes.com","bulleit.com","cupcakesandcashmere.com","delishably.com","dogdiscoveries.com","fannation","fubo.tv","getoutdoorstv.com","hbomax.com","hollywoodprogressive.com","howtheyplay.com","https://bitcoinmagazine.com/markets","https://finance.yahoo.com","https://topstocks.thestreet.com","https://www.caskers.com/","https://www.mensjournal.com/food-drink/50-best-whiskeys-in-the-world","https://www.si.com/fannation/college/","hulu.com","imabeautygeek.com","jamiegeller.com","johnniewalker.com","levelskip.com","makersmark.com","moneymaven.io","news.cancerconnect.com","news.si.com","paramountplus.com","peacocktv.com","pethelpful.com","primevideo.com","reelrundown.com","smarts.thestreet.com","spinditty.com","starz.com","theskincareedit.com","todaysmama.com","topstocks.thestreet.com","toughnickel.com","tv.apple.com","tv.youtube.com","www.antiquetrader.com","www.blockleaders.io","www.freshnessmag.com","www.hortmag.com","www.inkedmag.com","www.laprogressive.com","www.magneticmag.com","www.oldcarsweekly.com","www.organicauthority.com","www.sailmagazine.com","www.sescoops.com","www.tradeonlytoday.com","www.woodshopnews.com","www.writersdigest.com"],s=[["label"],["score"],["classifications_watson","taxonomy_labels"],["text"],["data","name"],["relevance"],["client","domain"],["advertiser_name"],["client","url"],["dest_url"],["segment_number"],["client","referrer"],["line_item_id"],["client","title"],["data","action"],["data","category"],["client","user_agent"]],c=[],l=[i.af_u(["properties","classifications_watson","categories"],i.y_(0,89),i.ge_(1,.7)),i.af_u(["properties","classifications_watson","categories"],i.y_(0,20),i.ge_(1,.7)),i.os(i.s,6,[118,120,27,121,438,440,452,461,129,463,140,141,476,142,484]),i.af_u(["properties","classifications_watson","categories"],i.y_(0,85),i.ge_(1,.7)),i.af_u(["properties","classifications_watson","categories"],i.y_(0,90),i.ge_(1,.7)),i.af_u(["properties","classifications_watson","categories"],i.y_(0,64),i.ge_(1,.7)),i.af_u(["properties","classifications_watson","categories"],i.y_(0,82),i.ge_(1,.7)),i.af_u(["properties","classifications_watson","categories"],i.y_(0,14),i.ge_(1,.7)),i.os(i.s,6,[136,30,31,146,147,148]),i.af_u(["properties","classifications_watson","categories"],i.y_(0,84),i.ge_(1,.7)),i.af_u(["properties","classifications_watson","categories"],i.y_(0,24),i.ge_(1,.7)),i.os(i.s,6,[26,122,123,124,441,125,127,456,128,130,131,132,133,29,134,135,137,138,139,143,144,481,8]),i.os(i.s,6,[119,126,454,462,467,468,472,145,32])],u=[(e,r,n,t,a,o,s,c,l,u,p,m,d,g)=>i.q(i.acq(i.tw(i.cw(0,i.t,i.ge(1)),2592e6),i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(l,i.itp("liveramp_Acxiom",d,!1,g)),i.itp(u,p,!1,m)),i.itp(o,s,!1,c)),i.itp("eyeota",t,!1,a)),i.itp(e,r,!1,n)))),(e,r,n,t,a,o,s,c,l,u,p,m,d)=>i.q(i.acq(i.tw(i.cw(0,i.t,i.ge(1)),2592e6),i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(m,d),s),i.itp(c,l,u,p)),i.itp(t,a,!1,o)),i.itp(e,r,!1,n)))),(e,r,n,t,a,o,s,c,l)=>i.q(i.acq(i.tw(i.cw(0,i.t,i.ge(1)),2592e6),i.ocq(i.ocq(i.itp(s,c,!1,l),i.itp(t,a,!1,o)),i.itp(e,r,!1,n)))),(e,r)=>i.q(i.acq(i.tw(i.cw(0,i.t,i.ge(1)),2592e6),i.itp("comscore",e,!1,r))),(e,r)=>i.q(i.cw(e,r,i.ge(1))),(e,r,n)=>i.q(i.cw(e,i.y(r,n),i.ge(1))),(e,r,n)=>i.q(i.cw(e,i.pe(r,n),i.ge(1))),(e,r,n)=>i.q(i.cw(e,i.ps(r,n),i.ge(1))),e=>i.q(i.cw(0,i.os(i.s,6,e),i.ge(1))),e=>i.q(i.cw(0,i.ref(e),i.ge(1))),(e,r)=>i.q(i.ocq(e,r)),(e,r,n)=>i.q(i.ocq(i.lm(e,i.ge(n)),i.ifp(r))),(e,r,n)=>i.q(i.ocq(i.ocq(i.cw(8,i.pe(12,r),i.ge(1)),i.cw(6,i.pe(12,n),i.ge(1))),i.cw(7,i.pe(12,e),i.ge(1)))),(e,r,n,t,a,o,s,c)=>i.q(i.ocq(i.ocq(i.ocq(s,c),i.itp(t,a,!1,o)),i.itp(e,r,!1,n))),(e,r,n,t,a,o,s,c,l,u,p,m,d,g,_,f)=>i.q(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(d,i.tw(i.cw(g,_,i.ge(f)),2592e6)),i.tw(i.cw(u,p,i.ge(m)),2592e6)),i.tw(i.cw(o,s,i.ge(l)),2592e6)),i.tw(i.cw(t,a,i.ge(c)),2592e6)),i.tw(i.cw(e,r,i.ge(n)),2592e6))),(e,r,n,t,a,o,s,c,l,u,p,m)=>i.q(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(s,i.tw(i.cw(0,i.af_u(["properties","classifications_watson","concepts"],m,i.ge_(5,.7)),i.ge(2)),2592e6)),i.tw(i.cw(0,i.af_u(c,l,i.ge_(5,.7)),i.ge(2)),2592e6)),i.tw(i.cw(0,r,i.ge(2)),2592e6)),i.tw(i.cw(e,i.os(t,a,o),i.ge(2)),2592e6)),i.tw(i.cw(5,i.ps(9,n),i.ge(2)),2592e6)),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","concepts"],i.o(u),i.ge_(5,p)),i.ge(2)),2592e6))),(e,r,n,t,a,o,s,c,l,u,p,m,d,g,_,f)=>i.q(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(p,i.itp("liveramp_AnalyticsIQ",_,!1,f)),i.itp(m,d,!1,g)),i.itp(c,l,!1,u)),i.itp(a,o,!1,s)),i.itp(r,n,!1,t)),i.itp("liveramp_Bombora","1005405089",!1,e))),(e,r,n,t,a,o,s,c,l,u,p,m,d)=>i.q(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(m,d),p),u),l),c),s),o),n),r),e),i.scq(i.cw(3,i.pc(["aggregations","SegmentEntry"],t)),i.cw(4,i.pe(10,a)),i.ge(1)))),(e,r,n,t,a,o,s,c,l,u,p,m,d)=>i.q(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.tw(i.cw(0,i.pc_(2,m),i.ge(3)),2592e6),i.tw(i.cw(0,i.pc_(2,d),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,p),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,u),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,l),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,c),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,s),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,o),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,a),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,t),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,n),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,r),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,e),i.ge(3)),2592e6))),(e,r,n,t,a,o,s,c)=>i.q(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.tw(i.cw(0,i.pc_(2,c),i.ge(3)),2592e6),i.tw(i.cw(0,i.pc_(2,s),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,o),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,a),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,t),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,n),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,r),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,e),i.ge(3)),2592e6))),(e,r,n,t,a,o,s)=>i.q(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.tw(i.cw(0,i.pc_(2,s),i.ge(3)),2592e6),i.tw(i.cw(0,i.pc_(2,o),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,a),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,t),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,n),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,r),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,e),i.ge(3)),2592e6))),(e,r,n,t,a,o,s,c,l,u,p,m,d,g)=>i.q(i.ocq(i.ocq(i.ocq(i.ocq(i.tw(d,g),i.tw(i.cw(u,p,i.ge(m)),2592e6)),i.tw(i.cw(o,s,i.ge(l)),2592e6)),i.tw(i.cw(t,a,i.ge(c)),2592e6)),i.tw(i.cw(e,r,i.ge(n)),2592e6))),(e,r,n,t,a)=>i.q(i.ocq(i.ocq(i.ocq(i.ocq(i.tw(i.cw(0,i.pc_(2,a),i.ge(3)),2592e6),i.tw(i.cw(0,i.pc_(2,t),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,n),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,r),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,e),i.ge(3)),2592e6))),(e,r,n,t,a,o,s,c,l,u,p,m,d)=>i.q(i.ocq(i.ocq(i.ocq(i.tw(i.cw(0,i.af_u(s,c,i.ge_(d,.5)),i.ge(t)),2592e6),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","entities"],i.o(p),i.ge_(5,m)),i.ge(n)),2592e6)),i.tw(i.cw(0,i.af_u(o,i.o(l),i.ge_(5,u)),i.ge(r)),2592e6)),i.tw(i.cw(2,i.os(i.w,7,a),i.ge(e)),2592e6))),(e,r,n,t)=>i.q(i.ocq(i.ocq(i.ocq(i.tw(i.cw(0,i.pc_(2,t),i.ge(3)),2592e6),i.tw(i.cw(0,i.pc_(2,n),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,r),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,e),i.ge(3)),2592e6))),(e,r,n,t,a,o,s,c,l,u,p)=>i.q(i.ocq(i.ocq(i.isp(t,a,o,s),i.isp(c,l,u,p)),i.isp("liveramp_VeevaCrossix_arena_group",e,r,n))),(e,r,n)=>i.q(i.ocq(i.ocq(i.isp("liveramp_VeevaCrossix_arena_group","1012244321",!1,r),i.isp("liveramp_VeevaCrossix_arena_group","1012244331",!1,n)),i.isp("liveramp_VeevaCrossix_arena_group","1012244341",!1,e))),(e,r,n,t,a,o,s,c,l)=>i.q(i.ocq(i.ocq(i.itp(s,c,!1,l),i.itp(t,a,!1,o)),i.itp(e,r,!1,n))),(e,r,n,t,a,o)=>i.q(i.ocq(i.ocq(i.itp("comscore",a,!1,o),i.itp("comscore",n,!1,t)),i.itp("comscore",e,!1,r))),(e,r,n,t,a,o,s)=>i.q(i.ocq(i.ocq(i.itp("liveramp_Experian",o,!1,s),i.itp(n,t,!1,a)),i.itp("eyeota",e,!1,r))),(e,r,n,t,a,o,s,c,l)=>i.q(i.ocq(i.ocq(i.tw(i.cw(t,a,i.ge(c)),2592e6),i.tw(i.cw(o,s,i.ge(l)),2592e6)),i.tw(i.cw(e,r,i.ge(n)),2592e6))),(e,r,n,t,a,o,s,c)=>i.q(i.ocq(i.ocq(i.tw(i.cw(0,r,i.ge(1)),2592e6),i.tw(i.cw(0,i.af_u(a,i.o(o),i.ge_(s,c)),i.ge(n)),2592e6)),i.tw(i.cw(2,i.os(i.w,7,t),i.ge(e)),2592e6))),(e,r,n,t,a,o)=>i.q(i.ocq(i.ocq(i.tw(i.cw(0,t,i.ge(o)),2592e6),e),i.cw(0,i.af_u(r,n,i.ge_(5,a)),i.ge(1)))),(e,r,n)=>i.q(i.ocq(i.ocq(i.tw(i.cw(0,i.pc_(2,r),i.ge(3)),2592e6),i.tw(i.cw(0,i.pc_(2,n),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,e),i.ge(3)),2592e6))),(e,r,n,t,a,o)=>i.q(i.ocq(i.ocq(i.tw(i.cw(2,i.os(i.w,7,t),i.ge(2)),2592e6),i.tw(i.cw(e,r,i.ge(2)),2592e6)),i.tw(i.cw(0,i.af_u(n,i.o([a,o]),i.ge_(5,.6)),i.ge(2)),2592e6))),(e,r,n,t)=>i.q(i.ocq(i.itp("liveramp_Acxiom",e,!1,r),i.itp("liveramp_Acxiom",n,!1,t))),(e,r,n,t,a,o)=>i.q(i.ocq(i.tw(i.cw(e,r,n),2592e6),i.tw(i.cw(t,a,o),2592e6))),(e,r)=>i.q(i.ocq(i.tw(i.cw(0,i.pc_(2,e),i.ge(3)),2592e6),i.tw(i.cw(0,i.pc_(2,r),i.ge(3)),2592e6))),e=>i.q(i.ocq(i.tw(i.cw(0,i.pc_(2,1),i.ge(3)),2592e6),i.tw(i.cw(0,i.pc_(2,e),i.ge(3)),2592e6))),e=>i.q(i.ocq(i.tw(i.cw(0,i.pc_(2,33),i.ge(3)),2592e6),i.tw(i.cw(0,i.pc_(2,e),i.ge(3)),2592e6))),(e,r)=>i.q(i.itp("liveramp_Acxiom",e,!1,r)),(e,r)=>i.q(i.itp("liveramp_Experian",e,!1,r)),(e,r)=>i.q(i.itp("liveramp_NCS",e,!1,r)),(e,r,n,t)=>i.q(i.tw(i.cw(e,i.os(i.s,n,t),i.ge(r)),2592e6)),(e,r,n,t)=>i.q(i.tw(i.cw(e,i.y(n,t),i.ge(r)),2592e6)),(e,r,n)=>i.q(i.tw(i.cw(e,i.pe(r,n),i.ge(1)),2592e6)),e=>i.q(i.tw(i.cw(0,i.af_u(["properties","classifications_watson","categories"],i.e_(0,e),i.ge_(1,.7)),i.ge(1)),2592e6)),e=>i.q(i.tw(i.cw(0,i.af_u(["properties","classifications_watson","categories"],i.y_(0,e),i.ge_(1,.7)),i.ge(1)),2592e6)),e=>i.q(i.tw(i.cw(0,i.af_u(["properties","classifications_watson","entities"],i.o(e),i.ge_(5,.7)),i.ge(1)),2592e6)),e=>i.q(i.tw(i.cw(0,i.af_u(["properties","classifications_watson","entities"],i.e_(3,e),i.ge_(5,.7)),i.ge(1)),2592e6)),e=>i.q(i.tw(i.cw(0,i.af_u(["properties","classifications_watson","entities"],i.y_(3,e),i.ge_(5,.7)),i.ge(1)),2592e6)),(e,r)=>i.q(i.tw(i.cw(0,i.ref(r),i.ge(e)),2592e6)),e=>i.q(i.tw(i.cw(0,i.pc_(2,e),i.ge(3)),2592e6)),()=>i.q(i.tw(i.cw(0,i.pc_(2,167),i.ge(3)),2592e6)),()=>i.q(i.tw(i.cw(0,i.pc_(2,261),i.ge(3)),2592e6)),(e,r,n)=>i.q(i.tw(i.cw(0,i.ps(r,n),i.ge(e)),2592e6)),e=>i.q(i.tw(i.cw(1,i.af_u(["properties","data","items"],i.e_(["name"],e)),i.ge(1)),2592e6)),e=>i.q(i.tw(i.cw(6,i.t,i.ge(e)),2592e6)),(e,r)=>i.q(i.vq(i.cw(0,i.af_u(e,r),i.ge(1))))];return{rawQueries:{1e7:i.r(37,"/education/graduate school",288),10000001:i.r(52,180),10000002:i.r(39,37),10000003:i.r(37,58,220),10000004:i.r(37,"/careers",213),10000005:i.r(52,212),10000006:i.r(33,318,61,19),10000007:i.r(18,253,"/education/art history",179,"/art and entertainment/visual art and design/restoration","/art and entertainment/visual art and design/performance art","/art and entertainment/visual art and design/arts education","/art and entertainment/visual art and design/art museums and galleries",56,55,3,13,35,38),10000008:i.r(33,"/food and drink/food and grocery retailers","/business and industrial/food industry",64),10000010:i.r(37,5,17),10000011:i.r(52,"/hobbies and interests"),10000012:i.r(52,"/home and garden"),10000013:i.r(37,39,40),10000014:i.r(52,47),10000015:i.r(20,370,340,18,80,76,63,201),10000016:i.r(33,233,222,63),10000017:i.r(52,281),10000018:i.r(24,4,12,11,150),10000019:i.r(52,286),10000020:i.r(52,295),10000021:i.r(37,17,320),10000022:i.r(37,59,349),10000023:i.r(33,363,"/business and industrial/automation",289),10000024:i.r(24,0,"/art and entertainment/tv",12,46),10000025:i.r(52,371),10000026:i.r(37,75,103),10000035:i.r(37,290,291),10000036:i.r(52,183),10000037:i.r(52,189),10000038:i.r(37,"/automotive and vehicles/cars/hybrid",188),10000039:i.r(52,57),10000040:i.r(52,186),10000041:i.r(37,37,151),10000042:i.r(52,202),10000043:i.r(52,19),10000044:i.r(52,61),10000045:i.r(52,38),10000046:i.r(52,"/art and entertainment/visual art and design"),10000047:i.r(52,"/food and drink/beverages/alcoholic beverages"),10000048:i.r(52,235),10000049:i.r(37,65,"/food and drink/food and grocery retailers/bakeries"),10000050:i.r(37,15,239),10000051:i.r(52,236),10000052:i.r(24,5,68,67,66),10000053:i.r(52,16),10000054:i.r(37,70,249),10000055:i.r(52,71),10000056:i.r(52,72),10000057:i.r(52,74),10000058:i.r(54),10000059:i.r(52,41),10000060:i.r(52,9),10000061:i.r(52,42),10000062:i.r(52,45),10000063:i.r(52,18),10000064:i.r(37,78,275),10000065:i.r(52,280),10000066:i.r(37,77,79),10000067:i.r(52,294),10000068:i.r(52,81),10000069:i.r(52,284),10000070:i.r(52,82),10000071:i.r(52,83),10000072:i.r(52,285),10000073:i.r(52,20),10000074:i.r(52,84),10000075:i.r(52,85),10000076:i.r(52,324),10000077:i.r(52,325),10000078:i.r(52,86),10000079:i.r(52,322),10000080:i.r(52,330),10000081:i.r(52,89),10000082:i.r(52,333),10000083:i.r(52,95),10000084:i.r(52,21),10000085:i.r(52,342),10000086:i.r(52,100),10000087:i.r(24,"/style and fashion/beauty/cosmetology and beauty professionals",22,101,206),10000088:i.r(37,"/style and fashion/beauty/tattoos",357),10000089:i.r(52,362),10000090:i.r(52,"/technology and computing/consumer electronics"),10000324:i.r(52,58),10000325:i.r(22,205,"/business and industrial/company/joint venture",204,203,"/business and industrial/company/annual report"),10000327:i.r(52,"/finance/personal finance/debt management"),10000328:i.r(52,234),10000329:i.r(33,62,221,"/finance/accounting and auditing/bookkeeping"),10000330:i.r(52,226),10000687:i.r(52,292),10000688:i.r(52,60),10000689:i.r(37,57,190),10000690:i.r(19,"/automotive and vehicles/vehicle brands/suzuki","/automotive and vehicles/vehicle brands/subaru","/automotive and vehicles/vehicle brands/peugeot",195,"/automotive and vehicles/vehicle brands/hyundai",194,193,"/automotive and vehicles/vehicle brands/fiat"),10000691:i.r(18,198,197,196,"/automotive and vehicles/vehicle brands/rolls-royce","/automotive and vehicles/vehicle brands/porsche","/automotive and vehicles/vehicle brands/mercedes-benz","/automotive and vehicles/vehicle brands/maserati","/automotive and vehicles/vehicle brands/land rover","/automotive and vehicles/vehicle brands/lamborghini",192,"/automotive and vehicles/vehicle brands/bentley",14,191),10000692:i.r(52,185),10000693:i.r(37,181,182),10000694:i.r(52,184),10000695:i.r(52,187),10000696:i.r(52,149),10000697:i.r(52,35),10000698:i.r(37,"/careers/career advice","/careers/resume writing and advice"),10000699:i.r(52,"/careers/telecommuting"),10000700:i.r(52,209),10000701:i.r(37,210,211),10000702:i.r(52,213),10000703:i.r(52,214),10000704:i.r(52,216),10000705:i.r(39,60),10000706:i.r(33,218,215,217),10000707:i.r(52,253),10000708:i.r(52,56),10000709:i.r(52,3),10000710:i.r(24,282,16,69,5),10000711:i.r(52,"/food and drink/beverages/non alcoholic beverages"),10000712:i.r(33,16,245,69),10000713:i.r(52,"/food and drink/cuisines"),10000714:i.r(19,244,243,67,242,241,66,240,238),10000715:i.r(52,246),10000716:i.r(52,73),10000717:i.r(52,252),10000718:i.r(37,"/hobbies and interests/collecting",255),10000719:i.r(52,"/hobbies and interests/games/board games and puzzles"),10000720:i.r(52,257),10000721:i.r(52,53),10000722:i.r(37,254,81),10000723:i.r(37,174,368),10000724:i.r(37,34,36),10000725:i.r(52,"/home and garden/appliances"),10000726:i.r(52,263),10000727:i.q(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.tw(i.cw(0,i.pc_(2,176),i.ge(3)),2592e6),i.tw(i.cw(0,i.pc_(2,177),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,178),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,"/hobbies and interests/arts and crafts/woodworking"),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,263),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,"/home and garden/remodeling and construction"),i.ge(3)),2592e6))),10000728:i.r(54),10000729:i.r(22,"/home and garden/interior decorating","/home and garden/home furnishings/lamps and lighting",262,260,259),10000730:i.r(52,155),10000731:i.r(52,44),10000732:i.r(52,10),10000733:i.r(52,2),10000734:i.r(38,2),10000735:i.r(53),10000736:i.r(53),10000737:i.r(52,52),10000738:i.r(52,13),10000739:i.r(52,48),10000740:i.r(52,49),10000741:i.r(52,51),10000742:i.r(52,4),10000743:i.r(37,50,4),10000744:i.r(33,55,13,3),10000745:i.r(52,279),10000746:i.r(52,"/news/international news"),10000747:i.r(52,"/finance/personal finance/financial planning/retirement and pension"),10000748:i.r(37,62,"/finance/personal finance/financial planning"),10000749:i.r(37,91,92),10000750:i.r(52,283),10000751:i.r(38,2),10000752:i.r(52,"/real estate/architects"),10000753:i.r(52,"/real estate/apartments"),10000754:i.r(24,83,254,199,"/business and industrial/agriculture and forestry"),10000755:i.r(52,287),10000756:i.r(52,345),10000757:i.r(52,346),10000758:i.r(52,"/sports/table tennis and ping-pong"),10000759:i.r(52,339),10000760:i.r(37,344,345),10000761:i.r(52,93),10000762:i.r(52,"/sports/rowing"),10000763:i.r(52,"/sports/badminton"),10000764:i.r(52,97),10000765:i.r(33,"/sports/polo",91,92),10000766:i.r(52,337),10000767:i.r(52,326),10000768:i.r(52,321),10000769:i.r(52,347),10000770:i.r(52,332),10000771:i.r(52,341),10000772:i.r(52,96),10000773:i.r(37,90,"/sports/hockey/field hockey"),10000774:i.r(52,88),10000775:i.q(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.tw(i.cw(0,i.pc_(2,323),i.ge(3)),2592e6),i.tw(i.cw(0,i.pc_(2,"/sports/canoeing and kayaking"),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,87),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,88),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,331),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,94),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,336),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,"/sports/skating"),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,21),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,"/sports/skiing/waterskiing"),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,338),i.ge(3)),2592e6)),i.tw(i.cw(0,i.pc_(2,99),i.ge(3)),2592e6))),10000776:i.r(52,348),10000777:i.r(37,335,93),10000778:i.r(52,334),10000779:i.r(52,329),10000780:i.r(52,98),10000781:i.r(20,361,359,"/home and garden/luxury homes",15,59,14,54),10000782:i.r(52,102),10000783:i.r(33,360,350,22),10000784:i.r(52,358),10000785:i.r(52,200),10000786:i.r(52,"/science/computer science/artificial intelligence"),10000787:i.r(37,44,0),10000788:i.r(37,11,0),10000789:i.r(38,0),10000790:i.r(37,40,0),10000791:i.r(37,9,0),10000792:i.r(37,42,0),10000793:i.r(52,"/travel/tourist destinations/seaside resort"),10000794:i.r(52,"/travel/tourist destinations/africa"),10000795:i.r(52,"/travel/tourist facilities/camping"),10000796:i.r(52,"/travel/tourist destinations/south america"),10000797:i.r(52,"/travel/transports/road travel/road accident"),10000798:i.r(52,378),10000799:i.r(52,"/travel/tourist destinations/australia and new zealand"),10000800:i.r(22,"/travel/tourist destinations/italy","/travel/tourist destinations/greece",377,376,"/travel/tourist destinations/eastern europe"),10000801:i.r(52,23),10000802:i.r(52,104),10000803:i.r(52,24),129627:i.r(4,0,i.t),137008:i.r(8,[8]),137010:i.r(7,0,6,32),137011:i.r(43,0,1,11,["https://news.google.com","https://www.google.com"]),137013:i.r(43,0,1,11,["http://m.facebook.com","https://lm.facebook.com"]),137014:i.r(43,0,1,11,[443,"https://www.yahoo.com"]),137015:i.r(55,1,11,"https://t.co"),137016:i.r(43,0,1,11,["http://flipboard.com","https://flipboard.com"]),137017:i.r(55,1,11,"https://traffic.outbrain.com"),137018:i.r(55,1,11,"https://www.bing.com"),137020:i.r(7,0,11,"https://www.si.com"),137023:i.r(7,0,11,"https://www.thestreet.com"),137205:i.r(7,0,11,"https://sishop.com"),137206:i.r(7,0,11,"https://www.sisportsbook.com"),137207:i.r(7,0,11,"https://www.sitickets.com"),137412:i.r(7,0,6,28),137413:i.r(7,0,6,459),137414:i.r(7,0,6,"discover.hubpages.com"),138270:i.r(7,0,6,29),138272:i.r(7,0,6,26),139055:i.r(43,5,1,9,["amazon.com","amzn.to","skimresources.com"]),139093:i.r(8,[119,"dealbreaker.com",126,32,482]),139095:i.r(8,[430,431,118,433,120,27,435,121,"fashionista.com",449,450,455,28,129,465,466,"verilymag.com",471,473,140,474,141,475,477,142,145,478,479,480,"www.soundingsonline.com",483]),139096:i.r(8,[26,123,124,125,127,128,130,"sportsnews.charlotteobserver.com","sportsnews.kansascity.com","sportsnews.miamiherald.com","sportsnews.sacbee.com","sportsnews.star-telegram.com",132,133,29,134,135,137,138,139,143,8]),139215:i.r(43,0,3,8,["https://www.si.com/college/",447]),139216:i.r(7,0,16,"Safari"),139218:i.r(7,0,16,"Chrome"),139219:i.r(7,0,16,"Firefox"),141084:i.q(i.acq(i.tw(i.cw(0,i.os(i.s,8,[447,"www.si.com/college/"]),i.ge(2)),2592e6),i.ocq(i.ocq(i.cw(0,i.ref(1),i.ge(1)),i.cw(0,i.af_u(["properties","classifications_watson","concepts"],i.o([i.e_(3,"College GameDay (football)"),i.e_(3,"College football national championships in NCAA Division I FBS"),i.e_(3,"College Football Playoff National Championship"),i.e_(3,"College Football Hall of Fame"),i.e_(3,"College Football Playoff"),i.e_(3,"College football")]),i.ge_(5,.7)),i.ge(1))),i.tw(i.cw(1,i.af_u(["properties","data","items"],i.o([i.e_(["name"],"FanNation Cowbell Corner"),i.e_(["name"],"FanNation Irish Breakdown"),i.e_(["name"],"FanNation College Football HQ"),i.e_(["name"],"FanNation NoleGameday"),i.e_(["name"],"FanNation All Sooners"),i.e_(["name"],"FanNation All Aggies"),i.e_(["name"],"FanNation All Gators"),i.e_(["name"],"FanNation Buckeyes Now"),i.e_(["name"],"FanNation Auburn Daily"),i.e_(["name"],"FanNation All Trojans"),i.e_(["name"],"FanNation BamaCentral")])),i.ge(1)),2592e6)))),141085:i.r(32,i.cw(0,i.af_u(["properties","classifications_watson","keywords"],i.ge_(5,.7),i.o([i.e_(3,"Maryland Terrapins"),i.e_(3,"Minnesota Golden Gophers"),i.e_(3,"Big Ten")])),i.ge(1)),["properties","classifications_watson","concepts"],i.o([i.e_(3,"Big Ten Network"),i.e_(3,"Big Ten Conference")]),i.os(i.s,8,["https://www.si.com/college/alabama/","https://www.si.com/college/illinois/","https://www.si.com/college/indiana/","https://www.si.com/college/iowa/","https://www.si.com/college/michigan/","https://www.si.com/college/michiganstate/","https://www.si.com/college/nebraska/","https://www.si.com/college/northwestern/","https://www.si.com/college/ohiostate/","https://www.si.com/college/pennstate/","https://www.si.com/college/purdue/","https://www.si.com/college/wisconsin/"]),.7,3),141280:i.r(57,1),141287:i.r(50,7),141288:i.r(49,"Facebook"),141289:i.r(49,"Disney"),141290:i.r(49,"Amazon"),141291:i.r(49,"Apple"),141293:i.r(49,"Hollywood"),141294:i.r(49,"Instagram"),141295:i.r(50,107),141296:i.r(49,"Twitter"),141297:i.r(50,6),141298:i.r(48,[i.e_(3,"Youtube"),i.e_(3,"youtube"),i.e_(3,"YouTube")]),141299:i.r(50,110),141300:i.r(49,"PBS"),141301:i.r(48,[i.e_(3,"NIKE"),i.e_(3,"Nike")]),141302:i.r(49,"Adidas"),141303:i.r(50,111),141315:i.r(30,1,i.y(4,411),1,0,i.af_u(["properties","classifications_watson","entities"],i.o([i.e_(3,"Arya Stark"),i.e_(3,"Daenerys"),i.e_(3,"Daeneyrs Targaryen"),i.e_(3,"Daenerys Targaryen"),i.e_(3,"Ellen Pompeo"),i.e_(3,"Elle Woods"),i.e_(3,"Sam Heughan"),i.e_(3,"Jane Austen"),i.e_(3,"Emily Dickinson"),i.e_(3,"Dickinson"),i.e_(3,"Prince Harry"),i.e_(3,"Hamilton"),i.e_(3,"King Charles"),i.e_(3,"King Arthur"),i.e_(3,"Queen Elizabeth"),i.e_(3,"Prince Philip"),i.e_(3,"Prince Charles"),i.e_(3,"Prince William"),i.e_(3,"Princess Diana"),i.e_(3,"Kate Middleton"),i.e_(3,"Benedict Bridgerton"),i.e_(3,"Anthony Bridgerton"),i.e_(3,"Daphne Bridgerton"),i.e_(3,"Downton Abbey"),i.e_(3,"British royals"),i.e_(3,"Jamie Fraser"),i.y_(3,411)]),i.ge_(5,.7)),0,i.af_u(["properties","classifications_watson","categories"],i.o([i.y_(0,43),i.y_(0,80),i.y_(0,36),i.y_(0,10),i.y_(0,293),i.y_(0,34)]),i.ge_(1,.7)),2,2),141364:i.r(10,i.sq(i.cw(0,i.t,i.ge(3))),i.scq(i.sw(3,i.t,["properties","aggregations","PageviewEngagement","engaged_time"]),i.vq(i.sw("PageviewEngagement",i.t,["properties","engaged_time"])),i.g(60))),142084:i.r(7,0,6,30),143189:i.q(i.acq(i.tw(i.cw(0,i.t,i.ge(1)),2592e6),i.ocq(i.ocq(i.ocq(i.ocq(i.itp("liveramp_Acxiom","1199",!1,"143189"),i.itp("eyeota","35479",!1,"143189")),i.itp("liveramp_Experian","1004266529",!1,"143189")),i.itp("liveramp_Epsilon","1002890086",!1,"143189")),i.itp("liveramp_Experian","1004266439",!1,"143189")))),143191:i.r(1,"liveramp_AnalyticsIQ","1003515499","143191","liveramp_AnalyticsIQ","1001528856","143191",i.itp("liveramp_Experian","1004266409",!1,"143191"),"liveramp_Acxiom","1200",!1,"143191",i.ocq(i.itp("liveramp_Epsilon","1002890066",!1,"143191"),i.itp("liveramp_Epsilon","1002889546",!1,"143191")),i.itp("eyeota","35478",!1,"143191")),143192:i.r(0,"liveramp_AnalyticsIQ","1001528906","143192","35480","143192","liveramp_Experian","1004266459","143192",i.itp("liveramp_Epsilon","1002889896",!1,"143192"),"liveramp_Epsilon","1002890146","143192","10500","143192"),143194:i.q(i.ocq(i.ocq(i.scq(i.tw(i.cw(3,i.pc(["aggregations","SegmentEntry"],143191)),2592e6),i.tw(i.cw(4,i.pe(10,143191)),2592e6),i.ge(1)),i.scq(i.tw(i.cw(3,i.pc(["aggregations","SegmentEntry"],143189)),2592e6),i.tw(i.cw(4,i.pe(10,143189)),2592e6),i.ge(1))),i.scq(i.tw(i.cw(3,i.pc(["aggregations","SegmentEntry"],143192)),2592e6),i.tw(i.cw(4,i.pe(10,143192)),2592e6),i.ge(1)))),143196:i.r(13,"liveramp_IPSOS","1003133176","143196","eyeota","35073","143196",i.itp("liveramp_Bombora","1000093954",!1,"143196"),i.itp("eyeota","34867",!1,"143196")),143204:i.r(3,"3boomUS","143204"),143205:i.r(3,"3genxUS","143205"),143207:i.r(3,"3genzUS","143207"),143209:i.r(3,"3millUS","143209"),143210:i.r(1,"eyeota","6680","143210","liveramp_Epsilon","1003069926","143210",i.itp("eyeota","300",!1,"143210"),"eyeota","242",!1,"143210",i.itp("liveramp_Acxiom","10797",!1,"143210"),i.itp("liveramp_Experian","1004256479",!1,"143210")),143211:i.r(0,"eyeota","35486","143211","301","143211","liveramp_Epsilon","1003069936","143211",i.ocq(i.ocq(i.itp("eyeota","243",!1,"143211"),i.itp("liveramp_Experian","1004256489",!1,"143211")),i.itp("liveramp_Acxiom","1958",!1,"143211")),"eyeota","6681","143211","10901","143211"),143212:i.q(i.acq(i.tw(i.cw(0,i.t,i.ge(1)),2592e6),i.ocq(i.itp("liveramp_Acxiom","300152699",!1,"143212"),i.itp("liveramp_Epsilon","1004805199",!1,"143212")))),143214:i.r(2,"liveramp_Experian","1004860489","143214","liveramp_Acxiom","300574299","143214","liveramp_AnalyticsIQ","1004391759","143214"),143215:i.r(2,"liveramp_IXIDigital","1000090834","143215","liveramp_IPSOS","1004367489","143215","liveramp_Acxiom","300550699","143215"),143216:i.q(i.acq(i.tw(i.cw(0,i.t,i.ge(1)),2592e6),i.itp("liveramp_Acxiom","300394499",!1,"143216"))),143217:i.r(1,"liveramp_AnalyticsIQ","1004391759","143217","liveramp_Experian","1004267739","143217",i.itp("liveramp_Experian","1004860489",!1,"143217"),"liveramp_Acxiom","300574299",!1,"143217",i.ocq(i.itp("liveramp_Epsilon","1000466846",!1,"143217"),i.itp("liveramp_Bombora","1005416769",!1,"143217")),i.itp("liveramp_Acxiom","1282",!1,"143217")),144320:i.r(46,"/business and industrial/textile industry"),144321:i.r(46,"/business and industrial/energy/oil"),144322:i.r(47,54),144323:i.r(47,304),144324:i.r(47,88),144325:i.r(47,35),144326:i.r(51,1,7),144327:i.r(47,230),144328:i.r(47,266),144329:i.r(46,"/sports/auto racing/nascar"),144330:i.r(47,212),144331:i.r(46,"/automotive and vehicles/trucks and suvs"),144332:i.r(46,"/automotive and vehicles/vehicle brands/buick"),144333:i.r(47,265),144334:i.r(46,"/sports/fishing/saltwater fishing"),144335:i.r(47,247),144336:i.r(47,349),144337:i.r(46,"/technology and computing/software"),144338:i.r(47,333),144339:i.r(46,"/art and entertainment/dance/ballroom dance"),144340:i.r(47,373),144341:i.r(47,199),144342:i.r(46,"/technology and computing/computer security/antivirus and malware"),144343:i.r(46,"/business and industrial/energy/renewable energy"),144344:i.r(46,"/technology and computing/consumer electronics/audio equipment/speakers"),144345:i.r(47,210),144346:i.r(46,"/automotive and vehicles/bicycles and accessories"),144347:i.r(47,176),144348:i.r(47,280),144349:i.r(47,386),144350:i.r(47,17),144351:i.r(46,"/finance/investing/day trading"),144352:i.r(47,157),144353:i.r(51,1,5),144354:i.r(46,"/family and parenting/children/daycare and preschool"),144355:i.r(47,310),144356:i.r(47,359),144357:i.r(47,246),144358:i.r(47,46),144359:i.r(46,"/automotive and vehicles/vehicle brands/chevrolet"),144360:i.r(47,374),144361:i.r(47,225),144362:i.r(47,242),144363:i.r(46,"/family and parenting/motherhood"),144364:i.r(47,340),144365:i.r(46,"/hobbies and interests/games"),144366:i.r(47,335),144367:i.r(51,1,6),144368:i.r(47,385),144369:i.r(46,"/technology and computing/software/graphics software"),144370:i.r(47,332),144371:i.r(46,"/food and drink/cuisines/japanese cuisine"),144372:i.r(46,"/sports/windsurfing"),144373:i.r(46,"/automotive and vehicles/vehicle brands/chrysler"),144374:i.r(47,189),144375:i.r(46,"/science/weather/meteorological disaster/hurricane"),144376:i.r(47,45),144377:i.r(46,"/health and fitness/drugs"),144378:i.r(47,49),144379:i.r(47,15),144380:i.r(46,"/sports/bobsled"),144381:i.r(47,341),144382:i.r(46,"/automotive and vehicles/cars/convertible"),144383:i.r(46,"/science/ecology/pollution"),144384:i.r(46,"/sports/martial arts/karate"),144385:i.r(47,222),144386:i.r(46,"/family and parenting/children"),144387:i.r(46,"/health and fitness/disease/cold and flu"),144388:i.r(47,281),144389:i.r(46,"/style and fashion/clothing/pants/jeans"),144390:i.r(46,"/technology and computing/software/shareware and freeware"),144391:i.r(47,94),144392:i.r(46,"/technology and computing/consumer electronics/camera and photo equipment/cameras and camcorders/camcorders"),144393:i.r(47,365),144394:i.r(46,"/business and industrial/energy/renewable energy/solar energy"),144395:i.r(46,"/business and industrial/advertising and marketing/advertising"),144396:i.r(47,156),144397:i.r(47,232),144398:i.r(47,290),144399:i.r(46,"/science/chemistry"),144400:i.r(46,"/art and entertainment"),144401:i.r(47,150),144402:i.r(47,299),144403:i.r(47,51),144404:i.r(46,"/style and fashion/footwear/sandals"),144405:i.r(47,159),144406:i.r(46,"/real estate/low income housing"),144407:i.r(47,390),144408:i.r(47,47),144409:i.r(46,"/automotive and vehicles/trucks and suvs/suvs"),144410:i.r(46,"/society/work"),144411:i.r(46,"/automotive and vehicles/vehicle brands/jeep"),144412:i.r(46,"/health and fitness/addiction/smoking addiction"),144413:i.r(46,"/sports/rodeo"),144414:i.r(46,"/business and industrial/energy"),144415:i.r(47,309),144416:i.r(46,"/science/mathematics"),144417:i.r(47,61),144418:i.r(46,"/food and drink/cuisines/american cuisine"),144419:i.r(47,305),144420:i.r(47,41),144421:i.r(46,"/shopping/gifts/greeting cards"),144422:i.r(46,"/home and garden/gardening and landscaping/yard and patio"),144423:i.r(46,"/technology and computing/networking/vpn and remote access"),144424:i.r(46,"/society"),144425:i.r(46,"/family and parenting/babies and toddlers"),144426:i.r(46,"/business and industrial/green solutions"),144427:i.r(46,"/business and industrial/chemicals industry/cleaning agents"),144428:i.r(46,"/science/physics/astrophysics"),144429:i.r(47,298),144430:i.r(47,102),144431:i.r(46,"/shopping/toys/dolls"),144432:i.r(46,"/science/biology"),144433:i.r(47,81),144434:i.r(46,"/society/social institution/marriage/weddings"),144435:i.r(47,59),144436:i.r(46,"/food and drink/beverages/non alcoholic beverages/soft drinks"),144437:i.r(46,"/style and fashion/clothing/coats"),144438:i.r(47,180),144439:i.r(47,352),144440:i.r(46,"/style and fashion/clothing/skirts"),144441:i.r(51,1,10),144442:i.r(46,"/education/graduate school/college life"),144443:i.r(47,353),144444:i.r(47,320),144445:i.r(46,"/society/work/unemployment"),144446:i.r(47,10),144447:i.r(47,289),144448:i.r(46,"/sports/paintball"),144449:i.r(46,"/finance/personal finance/lending"),144450:i.r(46,"/technology and computing/data centers"),144451:i.r(47,220),144452:i.r(47,344),144453:i.r(46,"/business and industrial/energy/nuclear power"),144454:i.r(46,"/law, govt and politics/government/government contracting and procurement"),144455:i.r(46,"/health and fitness/disorders"),144456:i.r(47,62),144457:i.r(46,"/art and entertainment/comics and animation/anime and manga"),144458:i.r(46,"/health and fitness/disorders/sleep disorders"),144459:i.r(46,"/automotive and vehicles/cars/car culture"),144461:i.r(47,100),144462:i.r(46,"/science/geology/seismology/earthquakes"),144463:i.r(46,"/food and drink/beverages"),144464:i.r(46,"/family and parenting/adoption"),144465:i.r(46,"/business and industrial/business operations/management"),144466:i.r(46,"/science/physics/atomic physics"),144467:i.r(46,"/science/mathematics/algebra"),144468:i.r(47,239),144469:i.r(47,350),144470:i.r(47,77),144471:i.r(46,"/art and entertainment/shows and events/festival"),144472:i.r(47,170),144473:i.r(47,172),144474:i.r(46,"/society/welfare/healthcare"),144475:i.r(47,200),144476:i.r(46,"/science/weather/meteorological disaster/flood"),144477:i.r(47,339),144478:i.r(46,"/technology and computing/internet technology/chat"),144479:i.r(46,"/sports/skateboarding"),144480:i.r(47,73),144481:i.r(46,"/education/teaching and classroom resources"),144482:i.r(47,271),144483:i.r(46,"/style and fashion/footwear/slippers"),144484:i.r(47,86),144485:i.r(47,1),144486:i.r(47,292),144487:i.r(46,"/style and fashion/clothing/shorts"),144488:i.r(47,184),144489:i.r(47,325),144490:i.r(47,262),144491:i.r(47,316),144492:i.r(46,"/sports/archery"),144493:i.r(47,233),144494:i.r(46,"/style and fashion/clothing/pants"),144495:i.r(47,364),144496:i.r(47,198),144497:i.r(46,"/automotive and vehicles/cars/vintage cars"),144498:i.r(47,208),144499:i.r(47,217),144500:i.r(46,"/art and entertainment/music/music reference/music composition and theory"),144501:i.r(47,283),144502:i.r(47,193),144503:i.r(46,"/shopping/gifts"),144504:i.r(47,69),144505:i.r(46,"/business and industrial/business operations/management/business process"),144506:i.r(47,83),144507:i.r(46,"/style and fashion/clothing/leggings"),144508:i.r(47,293),144509:i.r(46,"/business and industrial/agriculture and forestry/food production"),144510:i.r(46,"/automotive and vehicles/trucks and suvs/pickup trucks"),144511:i.r(47,18),144512:i.r(47,5),144513:i.r(46,"/business and industrial/hospitality industry/food service"),144514:i.r(46,"/technology and computing/software/graphics software/animation"),144515:i.r(46,"/automotive and vehicles/cars/wagon"),144516:i.r(46,"/science/weather/meteorological disaster"),144517:i.r(47,296),144518:i.r(47,52),144519:i.r(46,"/technology and computing/internet technology/web search/people search"),144520:i.r(46,"/style and fashion/underwear"),144521:i.r(47,380),144522:i.r(47,307),144523:i.r(47,206),144524:i.r(47,356),144525:i.r(47,238),144526:i.r(47,214),144527:i.r(46,"/sports/fishing/freshwater fishing"),144528:i.r(46,"/food and drink/cuisines/french cuisine"),144529:i.r(47,367),144530:i.r(47,202),144531:i.r(46,"/finance/investing/funds/hedge fund"),144532:i.r(47,237),144533:i.r(47,314),144534:i.r(46,"/family and parenting/motherhood/pregnancy"),144535:i.r(47,227),144536:i.r(46,"/art and entertainment/humor"),144537:i.r(46,"/style and fashion/clothing/lingerie"),144538:i.r(47,300),144539:i.r(47,229),144540:i.r(47,48),144541:i.r(46,"/technology and computing/hardware/computer networking/wireless technology"),144542:i.r(46,"/art and entertainment/visual art and design/digital art"),144543:i.r(47,187),144544:i.r(47,33),144545:i.r(46,"/society/teens"),144546:i.r(46,"/family and parenting/babies and toddlers/baby clothes"),144547:i.r(46,"/technology and computing/consumer electronics/audio equipment/headphones"),144548:i.r(47,354),144549:i.r(46,"/science/medicine/surgery/cosmetic surgery"),144550:i.r(46,"/technology and computing/computer certification"),144551:i.r(46,"/automotive and vehicles/road-side assistance"),144552:i.r(47,351),144553:i.r(46,"/style and fashion/clothing/shirts"),144554:i.r(46,"/health and fitness/incest and abuse support"),144555:i.r(47,219),144556:i.r(47,101),144557:i.r(46,"/food and drink/food/candy and sweets"),144558:i.r(46,"/technology and computing/software/desktop publishing"),144559:i.r(46,"/business and industrial/construction"),144560:i.r(46,"/style and fashion/footwear"),144561:i.r(47,256),144562:i.r(46,"/sports/martial arts/judo"),144563:i.r(47,243),144564:i.r(47,179),144565:i.r(46,"/food and drink/beverages/alcoholic beverages/cocktails and beer"),144566:i.r(47,311),144567:i.r(46,"/sports/curling"),144568:i.r(46,"/technology and computing/consumer electronics/tv and video equipment/dvrs and set-top boxes"),144569:i.r(47,370),144570:i.r(46,"/automotive and vehicles/minivan"),144571:i.r(46,"/art and entertainment/comics and animation/cartoons"),144572:i.r(46,"/business and industrial/business operations/business plans"),144573:i.r(46,"/science/geography"),144574:i.r(47,363),144575:i.r(46,"/technology and computing/consumer electronics/tv and video equipment/televisions/lcd tvs"),144576:i.r(47,201),144577:i.r(47,297),144578:i.r(47,346),144579:i.r(47,241),144580:i.r(47,257),144581:i.r(46,"/art and entertainment/books and literature/e-books"),144582:i.r(46,"/automotive and vehicles/campers and rvs"),144583:i.r(46,"/finance/grants, scholarships and financial aid/scholarships"),144584:i.r(46,"/health and fitness/addiction/substance abuse"),144585:i.r(46,"/science/physics/space and astronomy"),144586:i.r(47,337),144587:i.r(46,"/automotive and vehicles/trucks and suvs/truck accessories"),144588:i.r(47,387),144589:i.r(46,"/art and entertainment/radio/podcasts"),144590:i.r(46,"/technology and computing/consumer electronics/camera and photo equipment/cameras and camcorders/cameras"),144591:i.r(46,"/home and garden/gardening and landscaping/gardening"),144592:i.r(47,322),144593:i.r(47,382),144594:i.r(47,264),144595:i.r(47,291),144596:i.r(47,39),144597:i.r(47,78),144598:i.r(47,308),144599:i.r(46,"/food and drink/beverages/alcoholic beverages/wine"),144600:i.r(47,197),144601:i.r(46,"/science/physics/electromagnetism"),144602:i.r(47,348),144603:i.r(46,"/technology and computing/consumer electronics/camera and photo equipment/cameras and camcorders"),144604:i.r(46,"/technology and computing/consumer electronics/camera and photo equipment/cameras and camcorders/camera batteries"),144605:i.r(46,"/business and industrial/energy/renewable energy/wind energy"),144606:i.r(47,383),144607:i.r(47,158),144608:i.r(47,231),144609:i.r(47,70),144610:i.r(46,"/style and fashion/clothing/blazers"),144611:i.r(46,"/science/social science/sociology"),144612:i.r(47,37),144613:i.r(47,215),144614:i.r(46,"/sports/fencing"),144615:i.r(47,272),144616:i.r(47,301),144619:i.r(46,"/science/mathematics/arithmetic"),144620:i.r(46,"/finance/investing/options"),144621:i.r(46,"/art and entertainment/dance/ballet"),144622:i.r(47,324),144623:i.r(46,"/sports/dog sled"),144624:i.r(46,"/finance/grants, scholarships and financial aid/financial aid"),144625:i.r(46,"/business and industrial/chemicals industry/plastics and polymers"),144626:i.r(47,236),144627:i.r(46,"/technology and computing/networking/network monitoring and management"),144628:i.r(46,"/finance/grants, scholarships and financial aid"),144629:i.r(46,"/technology and computing/consumer electronics/tv and video equipment/projectors"),144630:i.r(47,60),144631:i.r(46,"/shopping/toys"),144632:i.r(47,56),144633:i.r(47,282),144634:i.r(47,104),144635:i.r(46,"/science/medicine/surgery"),144636:i.r(46,"/science/social science/philosophy/ethics"),144637:i.r(47,358),144638:i.r(46,"/technology and computing/consumer electronics/audio equipment/stereo systems and components"),144639:i.r(47,327),144640:i.r(47,76),144641:i.r(47,22),144642:i.r(46,"/automotive and vehicles/vehicle rental"),144643:i.r(46,"/food and drink/cuisines/italian cuisine"),144644:i.r(47,279),144645:i.r(46,"/education/studying business"),144646:i.r(46,"/hobbies and interests/needlework"),144647:i.r(47,161),144648:i.r(47,186),144649:i.r(46,"/art and entertainment/shows and events/concert"),144650:i.r(46,"/hobbies and interests/astrology"),144651:i.r(46,"/technology and computing/computer reviews"),144652:i.r(46,"/business and industrial/energy/renewable energy/biofuel"),144653:i.r(46,"/health and fitness/addiction"),144654:i.r(47,72),144655:i.r(46,"/family and parenting/parenting teens"),144656:i.r(47,168),144657:i.r(46,"/technology and computing/computer security/network security"),144658:i.r(46,"/technology and computing/internet technology/web search"),144659:i.r(46,"/technology and computing/electronic components"),144660:i.r(46,"/sports/hunting and shooting/skeet shooting"),144661:i.r(46,"/style and fashion/swimwear"),144662:i.r(47,319),144663:i.r(47,196),144664:i.r(47,97),144665:i.r(47,103),144666:i.r(47,53),144667:i.r(47,96),144668:i.r(47,379),144669:i.r(46,"/society/racism"),144670:i.r(47,285),144671:i.r(47,286),144672:i.r(47,153),144673:i.r(47,329),144674:i.r(47,223),144675:i.r(46,"/pets/zoo"),144676:i.r(46,"/business and industrial/energy/oil/diesel fuel"),144677:i.r(46,"/business and industrial/agriculture and forestry/forestry"),144678:i.r(46,"/technology and computing/networking"),144679:i.r(47,188),144680:i.r(46,"/technology and computing/consumer electronics/home video and dvd"),144681:i.r(47,226),144682:i.r(46,"/style and fashion/clothing/hoodies"),144683:i.r(46,"/sports/boat racing"),144684:i.r(51,1,7),144685:i.r(46,"/technology and computing/consumer electronics/camera and photo equipment"),144686:i.r(47,369),144687:i.r(46,"/finance/investing/brokerages"),144688:i.r(46,"/business and industrial/company"),144689:i.r(46,"/science/medicine/surgery/transplants"),144690:i.r(47,204),144691:i.r(46,"/finance/grants, scholarships and financial aid/government grants"),144692:i.r(47,250),144693:i.r(46,"/education/english as a second language"),144694:i.r(47,23),144695:i.r(47,75),144696:i.r(46,"/technology and computing/programming languages/c and c++"),144697:i.r(47,169),144698:i.r(46,"/business and industrial/chemicals industry/dyes and pigments"),144699:i.r(46,"/food and drink/food/breakfast foods"),144700:i.r(47,12),144701:i.r(46,"/business and industrial/agriculture and forestry/livestock"),144702:i.r(47,252),144703:i.r(46,"/technology and computing/programming languages/visual basic"),144704:i.r(46,"/family and parenting/babies and toddlers/baby food"),144705:i.r(46,"/science/geology/volcanology/volcanic eruptions"),144706:i.r(47,211),144707:i.r(46,"/shopping/resources/loyalty programs"),144708:i.r(47,315),144709:i.r(47,366),144710:i.r(47,2),144711:i.r(46,"/shopping/toys/stuffed animals"),144712:i.r(47,323),144713:i.r(47,209),144714:i.r(51,1,3),144715:i.r(46,"/food and drink/cuisines/regional cuisine"),144716:i.r(46,"/shopping/auctions"),144717:i.r(47,192),144718:i.r(47,9),144719:i.r(46,"/society/work/retirement"),144720:i.r(46,"/science/physics/thermodynamics"),144721:i.r(47,50),144722:i.r(46,"/home and garden/home furnishings/rugs and carpets"),144723:i.r(47,178),144724:i.r(46,"/business and industrial/energy/nuclear power/nuclear accident"),144725:i.r(46,"/science/geography/cartography"),144726:i.r(47,328),144727:i.r(47,183),144728:i.r(46,"/business and industrial/metals"),144729:i.r(47,182),144730:i.r(46,"/science/geology/mineralogy"),144731:i.r(51,1,1),144732:i.r(47,240),144733:i.r(46,"/home and garden/home furnishings/sofas and chairs"),144734:i.r(47,87),144735:i.r(46,"/technology and computing/programming languages"),144736:i.r(46,"/business and industrial/shipbuilding"),144737:i.r(46,"/finance/investing/futures trading"),144738:i.r(46,"/shopping/toys/action figures"),144739:i.r(47,343),144740:i.r(46,"/education/school"),144741:i.r(47,267),144742:i.r(47,66),144743:i.r(47,63),144744:i.r(46,"/style and fashion/jewelry/rings"),144745:i.r(51,1,0),144746:i.r(46,"/style and fashion/footwear/boots"),144747:i.r(46,"/business and industrial/paper industry"),144748:i.r(47,16),144749:i.r(46,"/shopping/retail/department stores"),144750:i.r(47,4),144751:i.r(47,165),144752:i.r(47,312),144753:i.r(47,160),144754:i.r(46,"/science/mathematics/statistics"),144755:i.r(47,342),144756:i.r(46,"/business and industrial/agriculture and forestry/crops and seed"),144757:i.r(46,"/food and drink/cuisines/mexican cuisine"),144758:i.r(47,234),144759:i.r(47,321),144760:i.r(46,"/technology and computing/internet technology/ecommerce"),144761:i.r(46,"/style and fashion/jewelry/earrings"),144762:i.r(47,388),144763:i.r(46,"/society/senior living"),144764:i.r(46,"/shopping/resources/product reviews"),144765:i.r(46,"/technology and computing/internet technology/internet cafes"),144766:i.r(46,"/style and fashion/clothing/wedding dresses"),144767:i.r(47,207),144768:i.r(47,174),144769:i.r(46,"/food and drink/cuisines/indian cuisine"),144770:i.r(46,"/style and fashion/footwear/sneakers"),144771:i.r(46,"/education/alumni and reunions"),144772:i.r(46,"/science/social science/philosophy"),144773:i.r(47,164),144774:i.r(47,99),144775:i.r(47,258),144776:i.r(46,"/science/chemistry/organic chemistry"),144777:i.r(47,195),144778:i.r(47,91),144779:i.r(47,205),144780:i.r(46,"/technology and computing/software/databases"),144781:i.r(47,318),144782:i.r(47,65),144783:i.r(46,"/art and entertainment/visual art and design/architecture"),144784:i.r(47,191),144785:i.r(46,"/art and entertainment/shows and events/sports event"),144786:i.r(46,"/hobbies and interests/games/role playing games"),144787:i.r(46,"/style and fashion/clothing/petticoats"),144788:i.r(47,0),144789:i.r(47,245),144790:i.r(46,"/art and entertainment/visual art and design/art and craft supplies"),144791:i.r(47,224),144792:i.r(46,"/art and entertainment/theatre/theatre companies"),144793:i.r(47,93),144794:i.r(46,"/automotive and vehicles/vehicle brands/acura"),144795:i.r(46,"/business and industrial/manufacturing"),144796:i.r(46,"/science/ecology/environmental disaster"),144797:i.r(47,79),144798:i.r(46,"/science/geology"),144799:i.r(46,"/business and industrial/agriculture and forestry/agriculture"),144800:i.r(46,"/automotive and vehicles/vehicle brands/mitsubishi"),144801:i.r(46,"/business and industrial/energy/electricity"),144802:i.r(47,181),144803:i.r(47,235),144804:i.r(46,"/style and fashion/jewelry/necklaces"),144805:i.r(46,"/art and entertainment/dance/pole dancing"),144806:i.r(47,57),144807:i.r(46,"/finance/personal finance/lending/home financing"),144808:i.r(47,360),144809:i.r(46,"/food and drink/cuisines/chinese cuisine"),144810:i.r(46,"/business and industrial/energy/natural gas"),144811:i.r(46,"/technology and computing/consumer electronics/tv and video equipment/televisions/plasma tvs"),144812:i.r(46,"/art and entertainment/shows and events/circus"),144813:i.r(47,326),144814:i.r(47,274),144815:i.r(46,"/business and industrial/business operations/management/supply chain management"),144816:i.r(47,58),144817:i.r(46,"/food and drink/beverages/non alcoholic beverages/coffee and tea"),144818:i.r(47,381),144819:i.r(47,313),144820:i.r(47,228),144821:i.r(46,"/business and industrial/energy/coal"),144822:i.r(47,171),144823:i.r(46,"/society/social institution/divorce"),144824:i.r(47,185),144825:i.r(47,295),144826:i.r(47,11),144827:i.r(47,21),144828:i.r(47,306),144829:i.r(47,67),144830:i.r(47,357),144831:i.r(46,"/education/school/private school"),144832:i.r(47,162),144833:i.r(46,"/science/ecology"),144834:i.r(46,"/technology and computing/programming languages/javascript"),144835:i.r(46,"/sports/wakeboarding"),144836:i.r(47,68),144837:i.r(47,331),144838:i.r(47,317),144839:i.r(46,"/business and industrial/business operations/human resources/compensation and benefits"),144840:i.r(47,294),144841:i.r(47,278),144842:i.r(47,216),144843:i.r(47,248),144844:i.r(47,268),144845:i.r(47,270),144846:i.r(47,98),144847:i.r(46,"/automotive and vehicles/bicycles and accessories/mountain bikes"),144848:i.r(46,"/finance/personal finance/lending/personal loans"),144849:i.r(46,"/education/graduate school/college"),144850:i.r(47,34),144851:i.r(46,"/society/work/unions"),144852:i.r(46,"/style and fashion/swimwear/bikinis"),144853:i.r(47,338),144854:i.r(46,"/art and entertainment/shows and events/conference"),144855:i.r(46,"/style and fashion/clothing/jackets"),144856:i.r(46,"/shopping/resources/contests and freebies"),144857:i.r(47,203),144858:i.r(46,"/style and fashion/jewelry/bracelets"),144859:i.r(47,303),144860:i.r(46,"/business and industrial/energy/oil/oil and gas prices"),144861:i.r(47,302),144862:i.r(46,"/technology and computing/internet technology"),144863:i.r(51,1,4),144864:i.r(46,"/society/social institution"),144865:i.r(46,"/home and garden/bed and bath"),144866:i.r(47,36),144867:i.r(46,"/shopping/resources"),144868:i.r(47,277),144869:i.r(47,190),144870:i.r(47,152),144871:i.r(46,"/business and industrial/advertising and marketing/marketing"),144872:i.r(46,"/finance/personal finance/lending/credit cards"),144873:i.r(47,255),144874:i.r(47,166),144875:i.r(47,260),144876:i.r(46,"/sports/handball"),144877:i.r(47,284),144878:i.r(47,3),144879:i.r(46,"/education/high school"),144880:i.r(46,"/art and entertainment/books and literature/mythology"),144881:i.r(47,334),144882:i.r(46,"/style and fashion/clothing/sweaters"),144883:i.r(46,"/technology and computing/consumer electronics/camera and photo equipment/cameras and camcorders/camera bags"),144884:i.r(46,"/automotive and vehicles/boats and watercraft"),144885:i.r(46,"/shopping/retail/wholesalers"),144886:i.r(46,"/shopping/resources/coupons"),144887:i.r(46,"/business and industrial/agriculture and forestry/horticulture"),144888:i.r(47,80),144889:i.r(46,"/law, govt and politics/politics/elections/presidential elections"),144890:i.r(47,244),144891:i.r(46,"/health and fitness/dental care"),144892:i.r(47,43),144893:i.r(46,"/home and garden/home improvement and repair/house painting and finishing"),144894:i.r(47,273),144895:i.r(46,"/technology and computing/computer security"),144896:i.r(47,177),144897:i.r(47,218),144898:i.r(46,"/science/medicine"),144899:i.r(46,"/technology and computing/enterprise technology"),144900:i.r(47,259),144901:i.r(46,"/technology and computing/consumer electronics/tv and video equipment/televisions/hdtvs"),144902:i.r(47,163),144903:i.r(46,"/art and entertainment/visual art and design/design"),144904:i.r(46,"/business and industrial/business software"),144905:i.r(47,287),144906:i.r(47,95),144907:i.r(47,276),144908:i.r(46,"/science/physics/optics"),144909:i.r(46,"/style and fashion/footwear/shoes"),144910:i.r(47,38),144911:i.r(47,355),144912:i.r(47,368),144913:i.r(46,"/business and industrial/record company"),144914:i.r(47,288),144915:i.r(47,251),144916:i.r(51,1,9),144917:i.r(46,"/business and industrial/advertising and marketing/brand management"),144918:i.r(47,361),144919:i.r(46,"/education/homeschooling"),144920:i.r(47,175),144921:i.r(46,"/science/weather/meteorological disaster/tornado"),144922:i.r(46,"/technology and computing/internet technology/email"),144923:i.r(47,154),144924:i.r(46,"/business and industrial/advertising and marketing"),144925:i.r(46,"/automotive and vehicles/cars/crossover"),144926:i.r(46,"/science/geography/topography"),144927:i.r(46,"/style and fashion/clothing/pajamas"),144928:i.r(47,151),144929:i.r(46,"/science/medicine/cardiology"),144930:i.r(46,"/health and fitness/addiction/alcoholism"),144931:i.r(46,"/business and industrial/logistics/air freight"),144932:i.r(47,221),144933:i.r(47,19),144934:i.r(47,194),144935:i.r(46,"/food and drink/beverages/non alcoholic beverages/bottled water"),144936:i.r(47,347),144937:i.r(47,330),144938:i.r(46,"/science/mathematics/geometry"),144939:i.r(46,"/sports/hunting and shooting/target shooting"),144940:i.r(46,"/shopping/retail/outlet stores"),144941:i.r(47,92),144942:i.r(47,336),144943:i.r(47,269),144944:i.r(47,55),144945:i.r(47,71),144946:i.r(47,74),144947:i.r(47,149),144948:i.r(47,42),144949:i.r(47,362),145933:i.r(27,"liveramp_IPSOS","1003133176","145933","eyeota","35073","145933","eyeota","34867","145933"),145936:i.r(13,"liveramp_IXIDigital","1000088944","145936","liveramp_IXIDigital","1002824286","145936",i.itp("liveramp_IPSOS","1003132876",!1,"145936"),i.itp("liveramp_IXIDigital","1002824276",!1,"145936")),145937:i.r(13,"liveramp_AnalyticsIQ","1003520089","145937","liveramp_IXIDigital","1000088924","145937",i.itp("liveramp_IPSOS","1003132886",!1,"145937"),i.itp("liveramp_IXIDigital","1002824266",!1,"145937")),145938:i.r(13,"liveramp_IXIDigital","1000088914","145938","liveramp_IXIDigital","1002824256","145938",i.itp("liveramp_IPSOS","1003132896",!1,"145938"),i.itp("liveramp_IXIDigital","1002824246",!1,"145938")),145939:i.r(13,"liveramp_AnalyticsIQ","1000689996","145939","liveramp_IXIDigital","1000088894","145939",i.itp("liveramp_IPSOS","1003132906",!1,"145939"),i.itp("liveramp_IXIDigital","1002824236",!1,"145939")),145940:i.r(13,"liveramp_IXIDigital","1000088874","145940","liveramp_IXIDigital","1002824226","145940",i.itp("liveramp_IPSOS","1003132916",!1,"145940"),i.itp("liveramp_IXIDigital","1002824216",!1,"145940")),146344:i.q(i.tw(i.cw(0,i.af_u(["properties","classifications_watson","keywords"],i.o([i.e_(3,"social and governance"),i.e_(3,"Environmental"),i.e_(3,"ESG"),i.e_(3,"behavioral finance"),i.e_(3,"monetary policy"),i.e_(3,"risk management"),i.e_(3,"cryptocurrancy"),i.e_(3,"Smarts Action Alert Plus Real Money Crypto"),i.e_(3,"Tech  Retail  Crypto  Finance  Markets  Investing  Economics"),i.e_(3,"alternative"),i.e_(3,"taxes"),i.e_(3,"taxation"),i.e_(3,"fixed income"),i.e_(3,"asset allocation"),i.e_(3,"interest rates"),i.e_(3,"interest rate"),i.e_(3,"economy"),i.e_(3,"economics"),i.e_(3,"inflation"),i.e_(3,"market downturn"),i.e_(3,"market insights"),i.e_(3,"market commentary")])),i.ge(1)),2592e6)),146347:i.r(29,"1438","146347","liveramp_Experian","1007226901","146347","1004576079","146347"),146348:i.r(13,"liveramp_Experian","1004577129","146348","liveramp_Experian","1004577139","146348",i.ocq(i.ocq(i.itp("liveramp_Experian","1004576109",!1,"146348"),i.itp("eyeota","1442",!1,"146348")),i.itp("liveramp_Acxiom","300451599",!1,"146348")),i.itp("liveramp_Experian","1004577149",!1,"146348")),146349:i.r(27,"liveramp_Experian","1004577009","146349","liveramp_Experian","1004576069","146349","eyeota","12735","146349"),146350:i.r(13,"liveramp_Experian","1007227021","146350","liveramp_Experian","1007227011","146350",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("eyeota","12748",!1,"146350"),i.itp("liveramp_Experian","1007227341",!1,"146350")),i.itp("liveramp_Experian","1004576179",!1,"146350")),i.itp("eyeota","1448",!1,"146350")),i.itp("liveramp_Experian","1007227011",!1,"146350")),i.itp("liveramp_Experian","1004577419",!1,"146350")),i.itp("liveramp_Experian","1004577449",!1,"146350")),i.itp("liveramp_Experian","1004577399",!1,"146350")),i.itp("liveramp_Experian","1004577359",!1,"146350")),i.itp("liveramp_Experian","1004576179",!1,"146350")),i.itp("liveramp_Experian","1004577369",!1,"146350")),i.itp("liveramp_Experian","1004577389",!1,"146350")),i.itp("liveramp_Experian","1004577379",!1,"146350")),i.itp("liveramp_Experian","1004577429",!1,"146350")),i.itp("liveramp_Experian","1004577459",!1,"146350")),i.itp("liveramp_Experian","1004577439",!1,"146350")),i.itp("liveramp_Experian","1004577409",!1,"146350")),146351:i.r(13,"liveramp_Experian","1004577679","146351","liveramp_Experian","1004576239","146351",i.ocq(i.ocq(i.ocq(i.itp("liveramp_Experian","1004577699",!1,"146351"),i.itp("liveramp_Experian","1004577689",!1,"146351")),i.itp("eyeota","34736",!1,"146351")),i.itp("liveramp_Experian","1004577669",!1,"146351")),i.itp("eyeota","1463",!1,"146351")),146352:i.r(35,"300416799","146352","300417799","146352"),146353:i.r(35,"300418199","146353","300416899","146353"),146354:i.r(40,"300423599","146354"),146355:i.r(40,"300417999","146355"),146356:i.r(40,"300417499","146356"),146357:i.r(40,"300417599","146357"),146358:i.r(40,"300417899","146358"),146359:i.r(40,"300418099","146359"),146361:i.r(13,"liveramp_Acxiom","301933009","146361","liveramp_AnalyticsIQ","1003809759","146361",i.itp("liveramp_AnalyticsIQ","1004391669",!1,"146361"),i.itp("liveramp_AnalyticsIQ","1003809149",!1,"146361")),146370:i.r(13,"liveramp_IPSOS","1004367559","146370","liveramp_Epsilon","1000998159","146370",i.ocq(i.ocq(i.ocq(i.ocq(i.itp("liveramp_Mastercard","1005911421",!1,"146370"),i.itp("liveramp_Mastercard","1005908551",!1,"146370")),i.itp("liveramp_Mastercard","1005907021",!1,"146370")),i.itp("liveramp_IXIDigital","1000091954",!1,"146370")),i.itp("liveramp_AnalyticsIQ","1004391769",!1,"146370")),i.itp("liveramp_Mastercard","1005907581",!1,"146370")),146383:i.r(13,"liveramp_Mastercard","1005906911","146383","liveramp_Mastercard","1005907201","146383",i.itp("liveramp_Epsilon","1003027346",!1,"146383"),i.itp("eyeota","1690",!1,"146383")),146391:i.r(13,"liveramp_IXIDigital","1000091384","146391","liveramp_IXIDigital","1000091444","146391",i.ocq(i.ocq(i.itp("eyeota","1467",!1,"146391"),i.itp("eyeota","35702",!1,"146391")),i.itp("liveramp_IXIDigital","1002276936",!1,"146391")),i.itp("liveramp_Experian","1004782989",!1,"146391")),146392:i.r(17,i.itp("liveramp_Bombora","1005390139",!1,"146392"),i.itp("liveramp_Bombora","1000884119",!1,"146392"),i.itp("liveramp_DunandBradstreet","1000311006",!1,"146392"),148628,148628,i.itp("liveramp_IXIDigital","1004247679",!1,"146392"),i.itp("liveramp_DunandBradstreet","1002786446",!1,"146392"),i.itp("eyeota","6531",!1,"146392"),i.itp("liveramp_Bombora","1004559079",!1,"146392"),i.itp("eyeota","6536",!1,"146392"),i.itp("eyeota","34814",!1,"146392"),i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("liveramp_Bombora","1005390219",!1,"146392"),i.itp("liveramp_Bombora","1004559099",!1,"146392")),i.itp("liveramp_AnalyticsIQ","1003514459",!1,"146392")),i.itp("liveramp_AnalyticsIQ","1003514339",!1,"146392")),i.itp("liveramp_AnalyticsIQ","1003514709",!1,"146392")),i.itp("liveramp_AnalyticsIQ","1003522239",!1,"146392")),i.itp("liveramp_AnalyticsIQ","1003514559",!1,"146392")),i.itp("liveramp_AnalyticsIQ","1003514609",!1,"146392")),146393:i.r(13,"liveramp_AnalyticsIQ","1005128719","146393","liveramp_Experian","1007229091","146393",i.ocq(i.ocq(i.ocq(i.ocq(i.itp("liveramp_Bombora","1005390159",!1,"146393"),i.itp("liveramp_DunandBradstreet","1000310996",!1,"146393")),i.itp("liveramp_DunandBradstreet","1001640126",!1,"146393")),i.itp("eyeota","6541",!1,"146393")),i.itp("liveramp_DunandBradstreet","1002786436",!1,"146393")),i.itp("liveramp_Bombora","1004558949",!1,"146393")),146424:i.r(13,"eyeota","1473","146424","liveramp_Acxiom","300129406","146424",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("liveramp_IXIDigital","1000089894",!1,"146424"),i.itp("liveramp_IXIDigital","1000089884",!1,"146424")),i.itp("liveramp_IXIDigital","1000089764",!1,"146424")),i.itp("liveramp_IXIDigital","1000089854",!1,"146424")),i.itp("liveramp_IXIDigital","1000089864",!1,"146424")),i.itp("liveramp_IXIDigital","1002276836",!1,"146424")),i.itp("liveramp_IXIDigital","1002276846",!1,"146424")),i.itp("liveramp_IXIDigital","1000089904",!1,"146424")),i.itp("liveramp_DunandBradstreet","1002782966",!1,"146424")),i.itp("liveramp_IXIDigital","1000089874",!1,"146424")),i.itp("liveramp_Acxiom","300129403",!1,"146424")),i.itp("liveramp_Acxiom","300129411",!1,"146424")),i.itp("liveramp_Acxiom","300129404",!1,"146424")),i.itp("liveramp_Acxiom","300129412",!1,"146424")),146897:i.q(i.itp("liveramp_Bombora","1005416569",!1,"146897")),146898:i.r(42,"1000248106","146898"),146900:i.r(42,"1000248146","146900"),146901:i.r(42,"1000248096","146901"),146902:i.r(42,"1000248196","146902"),146903:i.r(42,"1000248166","146903"),146904:i.r(42,"1000248136","146904"),146905:i.r(42,"1000248126","146905"),146906:i.r(42,"1000248086","146906"),146907:i.r(42,"1000248076","146907"),146908:i.r(46,"/art and entertainment/books and literature/romance novels"),146909:i.r(47,44),146910:i.r(47,173),146911:i.r(46,"/art and entertainment/radio/talk radio"),146912:i.r(46,"/art and entertainment/shows and events/exhibition"),146913:i.r(46,"/art and entertainment/theatre/theatre awards"),146914:i.r(46,"/automotive and vehicles/cars/diesel"),146915:i.r(46,"/automotive and vehicles/cars/hatchback"),146992:i.r(9,8),146995:i.r(8,[430,"axleaddict.com","bellatory.com",433,434,"earthmaven.io","exemplore.com","feltmagnet.com","hobbylark.com","holidappy.com",449,450,"letterpile.com","owlcation.com","pairedlife.com",28,"skyaboveus.com","tatring.com","www.acquiremag.com",473,475,477,"www.militarytrader.com",478,479]),146996:i.r(8,["boatersnewswire.com","www.anglersjournal.com","www.passagemaker.com",480,482,"www.yachtsinternational.com"]),146997:i.r(9,2),146998:i.r(8,["awomanshealth.com","caloriebee.com","healthproadvice.com",455,"ostomyconnection.com","patientslounge.com","remedygrove.com","thespinecommunity.com","www.fitedm.com","www.thearthritisconnection.com","youmemindbody.com"]),147e3:i.r(8,[431,"dengarden.com",471,474,"www.period-homes.com","www.traditionalbuilding.com","www.traditionalbuildingshow.com",483]),147001:i.r(8,["paradepets.com",459]),147075:i.r(8,["bringmethenews.com","newsmaven.io","roundtable.io","soapboxie.com","theindependent.io","turbofuture.com","warriormaven.com","wokeamerica.com","www.americanews.com","www.daniamarinefleamarket.com","www.opposingviews.com"]),147076:i.r(9,12),147077:i.r(9,11),147078:i.r(8,[466,"wehavekids.com"]),147347:i.r(47,371),147348:i.r(47,372),147349:i.r(47,389),147350:i.r(47,384),147352:i.r(47,375),147530:i.q(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.tw(i.cw(0,i.af_u(["properties","classifications_watson","keywords"],i.o([i.s_(3,"aberfeldy"),i.s_(3,"balvenie doublewood"),i.s_(3,"blanton\'s"),i.s_(3,"bookers"),i.s_(3,"bowmore"),i.s_(3,"buffalo trace"),i.s_(3,"bulleit rye"),i.s_(3,"bushmills"),i.s_(3,"compass box"),i.s_(3,"craigellachie"),i.s_(3,"crown royal\'s northern harvest rye whisky"),i.s_(3,"dickel"),i.s_(3,"elijah craig"),i.s_(3,"few bourbon"),i.s_(3,"field & sound"),i.s_(3,"four roses"),i.s_(3,"glendronach allardice"),i.s_(3,"glenmorangie"),i.s_(3,"glenrothes"),i.s_(3,"green spot"),i.s_(3,"hibiki"),i.s_(3,"highland park"),i.s_(3,"jameson"),i.s_(3,"jeffersons ocean bourbon"),i.s_(3,"jim beam"),i.s_(3,"keeper\'s heart"),i.s_(3,"knob creek"),i.s_(3,"lagavulin"),i.s_(3,"laphroaig"),i.s_(3,"lock stock & barrel"),i.s_(3,"lot 40"),i.s_(3,"macallan"),i.s_(3,"maker\'s"),i.s_(3,"mellow corn"),i.s_(3,"michter\'s"),i.s_(3,"midleton"),i.s_(3,"monkey shoulder"),i.s_(3,"old forester"),i.s_(3,"redbreast"),i.s_(3,"rittenhouse rye"),i.s_(3,"suntory toki"),i.s_(3,"the balvenie caribbean"),i.s_(3,"the famous grouse"),i.s_(3,"tyrconnell"),i.s_(3,"watershed distillery bourbon"),i.s_(3,"whistlepig"),i.s_(3,"willett"),i.s_(3,"writers tears copper pot whiskey"),i.s_(3,"yamazaki")]),i.ge_(5,.5)),i.ge(1)),7776e6),i.tw(i.cw(0,i.os(i.s,13,["bourbon","whiskey"]),i.ge(1)),7776e6)),i.tw(i.cw(5,i.y(9,446),i.ge(1)),7776e6)),i.tw(i.cw(5,i.os(i.s,9,["https://drizly.com/liquor/bourbon/","https://drizly.com/liquor/whiskey/",445]),i.ge(1)),7776e6)),i.cw(0,i.y(8,446),i.ge(1))),i.tw(i.cw(2,i.os(i.w,7,[432,453,451]),i.ge(2)),2592e6)),i.tw(i.cw(1,i.y(4,428),i.ge(1)),2592e6)),i.tw(i.cw(1,i.af_u(["properties","data","items"],i.e_(["name"],"Whiskey Wednesday")),i.ge(1)),2592e6))),147660:i.r(30,0,i.ps(6,434),2,0,i.ref(5),0,i.af_u(["properties","classifications_watson","categories"],i.y_(0,15)),2,2),147662:i.r(5,2,7,451),147663:i.r(5,2,7,453),147664:i.r(5,2,7,432),147665:i.r(6,2,7,"jamesonwhiskey.com"),147666:i.r(7,5,9,445),147667:i.r(7,5,9,"https://drizly.com/"),147730:i.r(57,3),147732:i.r(7,5,9,"www.globalgolf.com/"),147734:i.r(10,i.cw(0,i.pe(13,"The Finfluencers You Should Be Following in 2023 - TheStreet"),i.ge(1)),i.cw(0,i.ps(8,"https://www.thestreet.com/investing/the-finfluencers-you-should-be-following"),i.ge(1))),147739:i.r(36,0,i.ref(8),i.ge(2),0,i.af_u(["properties","classifications_watson","categories"],i.o([i.y_(0,327),i.y_(0,328),i.y_(0,87),i.y_(0,343),i.y_(0,99),i.y_(0,95),i.y_(0,97),i.y_(0,86),i.y_(0,21),i.y_(0,23),i.y_(0,94)]),i.ge_(1,.7)),i.ge(2)),147740:i.r(55,1,13,"recipe"),147741:i.r(30,0,i.af_u(["properties","classifications_watson","concepts"],i.o([i.e_(3,"Bakery"),i.e_(3,"Baking")])),1,0,i.af_u(["properties","classifications_watson","categories"],i.o([i.y_(0,237),i.y_(0,65)]),i.ge_(1,.7)),0,i.os(i.s,8,["delishably.com/desserts/","https://delishably.com/baked-goods/"]),1,1),147851:i.r(7,5,9,"https://www.gerbergear.com"),147867:i.r(17,i.scq(i.cw(3,i.pc(["aggregations","SegmentEntry"],144534)),i.cw(4,i.pe(10,144534)),i.ge(1)),i.scq(i.cw(3,i.pc(["aggregations","SegmentEntry"],144363)),i.cw(4,i.pe(10,144363)),i.ge(1)),i.scq(i.cw(3,i.pc(["aggregations","SegmentEntry"],144555)),i.cw(4,i.pe(10,144555)),i.ge(1)),144655,144655,i.scq(i.cw(3,i.pc(["aggregations","SegmentEntry"],144354)),i.cw(4,i.pe(10,144354)),i.ge(1)),i.scq(i.cw(3,i.pc(["aggregations","SegmentEntry"],144386)),i.cw(4,i.pe(10,144386)),i.ge(1)),i.scq(i.cw(3,i.pc(["aggregations","SegmentEntry"],144704)),i.cw(4,i.pe(10,144704)),i.ge(1)),i.scq(i.cw(3,i.pc(["aggregations","SegmentEntry"],144546)),i.cw(4,i.pe(10,144546)),i.ge(1)),i.scq(i.cw(3,i.pc(["aggregations","SegmentEntry"],144425)),i.cw(4,i.pe(10,144425)),i.ge(1)),i.scq(i.cw(3,i.pc(["aggregations","SegmentEntry"],144464)),i.cw(4,i.pe(10,144464)),i.ge(1)),i.scq(i.cw(3,i.pc(["aggregations","SegmentEntry"],147078)),i.cw(4,i.pe(10,147078)),i.ge(1)),i.scq(i.cw(3,i.pc(["aggregations","SegmentEntry"],144417)),i.cw(4,i.pe(10,144417)),i.ge(1))),148297:i.r(4,0,i.af_u(["properties","classifications_watson","categories"],i.o([i.y_(0,96),i.y_(0,100),i.y_(0,68),i.y_(0,5),i.e_(0,"/health and fitness/alternative medicine/holistic healing"),i.y_(0,251),i.y_(0,247),i.y_(0,249),i.y_(0,74),i.y_(0,73),i.y_(0,71),i.y_(0,72),i.y_(0,248),i.y_(0,250),i.y_(0,70),i.y_(0,17)]),i.ge_(1,.7))),148616:i.q(i.acq(i.scq(i.cw(3,i.pc(["aggregations","SegmentEntry"],147077)),i.cw(4,i.pe(10,147077)),i.ge(1)),i.ocq(i.tw(i.cw(0,i.t,i.ge(3)),2592e6),i.tw(i.cw(1,i.y(4,417),i.ge(1)),2592e6)))),148624:i.r(12,6278510589,6278510589,6278510589),148627:i.r(13,"liveramp_Experian","1004577829","148627","liveramp_Experian","1004577819","148627",i.ocq(i.ocq(i.ocq(i.itp("eyeota","12689",!1,"148627"),i.itp("liveramp_AnalyticsIQ","1000693826",!1,"148627")),i.itp("liveramp_Mastercard","1005907341",!1,"148627")),i.itp("liveramp_IXIDigital","1002277036",!1,"148627")),i.itp("liveramp_Experian","1004577789",!1,"148627")),148628:i.r(13,"eyeota","34898","148628","liveramp_IXIDigital","1003987049","148628",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("eyeota","34892",!1,"148628"),i.itp("liveramp_Bombora","1000096194",!1,"148628")),i.itp("liveramp_Bombora","1005390079",!1,"148628")),i.itp("eyeota","6531",!1,"148628")),i.itp("liveramp_DunandBradstreet","1001640156",!1,"148628")),i.itp("liveramp_IPSOS","1003133096",!1,"148628")),i.itp("eyeota","6553",!1,"148628")),i.itp("liveramp_DunandBradstreet","1000310916",!1,"148628")),i.itp("eyeota","61",!1,"148628")),i.itp("eyeota","6559",!1,"148628")),i.itp("eyeota","6555",!1,"148628")),i.itp("eyeota","6562",!1,"148628")),i.itp("liveramp_DunandBradstreet","1001640226",!1,"148628")),i.itp("eyeota","6558",!1,"148628")),i.itp("eyeota","6558",!1,"148628")),i.itp("liveramp_DunandBradstreet","1000310386",!1,"148628")),i.itp("liveramp_IPSOS","1003133036",!1,"148628")),i.itp("liveramp_Bombora","1004559019",!1,"148628")),i.itp("eyeota","34899",!1,"148628")),i.itp("eyeota","6560",!1,"148628")),i.itp("liveramp_DunandBradstreet","1000309876",!1,"148628")),i.itp("liveramp_DunandBradstreet","1001640186",!1,"148628")),i.itp("liveramp_IPSOS","1003133026",!1,"148628")),i.itp("liveramp_Bombora","1004558989",!1,"148628")),i.itp("liveramp_IXIDigital","1003987129",!1,"148628")),i.itp("liveramp_DunandBradstreet","1001640206",!1,"148628")),i.itp("eyeota","34894",!1,"148628")),i.itp("liveramp_DunandBradstreet","1001640266",!1,"148628")),i.itp("eyeota","6564",!1,"148628")),i.itp("liveramp_DunandBradstreet","1000310186",!1,"148628")),i.itp("liveramp_IPSOS","1003132986",!1,"148628")),i.itp("liveramp_Bombora","1005098959",!1,"148628")),148829:i.r(12,6253948245,6253948245,6253948245),148847:i.r(12,197005311,197005311,197005311),149001:i.r(29,"1425","149001","liveramp_Acxiom","300449799","149001","1004575969","149001"),149002:i.r(41,"1004578799","149002"),149003:i.r(41,"1004576379","149003"),149004:i.r(41,"1004578839","149004"),149005:i.r(41,"1004578829","149005"),149007:i.r(13,"liveramp_Acxiom","300456499","149007","liveramp_Acxiom","300454399","149007",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("liveramp_Mastercard","1005907351",!1,"149007"),i.itp("liveramp_Experian","1004577929",!1,"149007")),i.itp("liveramp_IPSOS","1004367399",!1,"149007")),i.itp("eyeota","34662",!1,"149007")),i.itp("liveramp_Acxiom","115604",!1,"149007")),i.itp("liveramp_Acxiom","300454699",!1,"149007")),i.itp("liveramp_Acxiom","300453599",!1,"149007")),149014:i.r(21,0,i.os(i.s,11,["https://parade.com/travel","https://www.thestreet.com/travel","wanderwisdom.com/travel"]),1,5,i.os(i.s,9,["thepointsguy.com","www.booking.com","www.expedia.com","www.hotels.com","www.priceline.com"]),0,i.af_u(["properties","classifications_watson","concepts"],i.o([i.e_(3,"Exchange rate"),i.e_(3,"Private island"),i.y_(3,398),i.e_(3,"Airplane"),i.e_(3,"Airport"),i.e_(3,"Continental Airlines"),i.y_(3,419),i.e_(3,"Frontier Airlines"),i.y_(3,392),i.y_(3,420),i.y_(3,423),i.e_(3,"Vacation"),i.e_(3,"Local currency"),i.e_(3,"Passport"),i.e_(3,"Road trip"),i.e_(3,"Tourism"),i.e_(3,"Asheville Tourists"),i.e_(3,"Summer vacation"),i.y_(3,427),i.e_(3,"Lake Louise Ski Resort"),i.y_(3,106),i.e_(3,"Bellagio (resort)"),i.e_(3,"Vail Ski Resort"),i.e_(3,"Seaside resort"),i.y_(3,429),i.y_(3,404),i.e_(3,"Resort"),i.e_(3,"Ski resort"),i.e_(3,"Tokio Hotel"),i.e_(3,"Conference and resort hotels"),i.e_(3,"The Beverly Hills Hotel"),i.e_(3,"Hotel")]),i.ge_(5,.7)),1,2,0,i.af_u(["properties","classifications_watson","entities"],i.o([i.y_(3,398),i.y_(3,419),i.y_(3,392),i.y_(3,420),i.y_(3,423),i.e_(3,"Delta Airlines"),i.e_(3,"sandy beaches"),i.e_(3,"Banyan Tree Mayakoba Resort & Spa"),i.e_(3,"Alta Sierra Ski Resort"),i.e_(3,"Best Florida Resorts"),i.e_(3,"Pechanga Resort Casino"),i.e_(3,"Red Rock Resorts"),i.e_(3,"Alyeska Resort"),i.e_(3,"Disney Resort & Spa"),i.y_(3,429),i.e_(3,"MGM Resorts International MGM"),i.y_(3,404),i.e_(3,"Marriott")]),i.ge_(5,.7)),2,i.cw(0,i.af_u(["properties","classifications_watson","categories"],i.o([i.e_(0,"/travel/tourist destinations/ski resorts"),i.y_(0,379),i.y_(0,23),i.y_(0,382),i.y_(0,383),i.y_(0,381),i.e_(0,"/travel/transports/air travel/airfare"),i.y_(0,386),i.y_(0,377),i.y_(0,376),i.y_(0,374),i.y_(0,378),i.y_(0,375),i.y_(0,387),i.y_(0,372),i.y_(0,384),i.y_(0,385),i.y_(0,24),i.y_(0,390),i.e_(0,"/travel/specialty travel"),i.y_(0,388),i.y_(0,104),i.y_(0,389),i.y_(0,380),i.y_(0,373)]),i.ge_(1,.7)),i.ge(2)),2592e6),149015:i.r(31,2,i.ref(10),1,["Walt Disney World Resort",106],["properties","classifications_watson","concepts"],[i.y_(3,427),i.y_(3,106),i.e_(3,"Disneyland")],5,.7),150420:i.r(14,1,i.af_u(["properties","data","items"],i.o([i.y_(["name"],113),i.y_(["name"],112)])),1,1,i.os(i.w,4,[113,112]),0,i.af_u(["properties","classifications_watson","concepts"],i.o([i.e_(3,"United States Amateur Championship (golf)"),i.e_(3,"Augusta National Golf Club"),i.e_(3,"Official World Golf Ranking"),i.y_(3,424),i.e_(3,"Professional golf tours"),i.e_(3,"Professional golfer"),i.e_(3,"Men\'s major golf championships"),i.e_(3,"David Lynn (golfer)"),i.e_(3,"Lists of golfers"),i.e_(3,"Rules of golf"),i.e_(3,"Links (golf)"),i.e_(3,"Golf stroke mechanics"),i.y_(3,402),i.e_(3,"Golf Digest"),i.e_(3,"Golf course"),i.e_(3,"Golf cart"),i.e_(3,"Golf ball"),i.e_(3,"Golf club"),i.y_(3,401)]),i.ge_(5,.7)),1,2,2,i.os(i.w,7,["perfectpractice.golf",424,"Bridgestone Golf","bridgestonegolf.com","performancegolf.com","Greystone Golf & Country Club","innisbrookgolfresort.com","callawaygolfpreowned.com","dunninggolf.com","Global Golf US","cobragolf.com","cobragolf.ca","vicegolf.com","GOLFTEC Intellectual Property LLC","golfgalaxy.com","golfpride.com","golftec.com","callawaygolf.com","Callaway Golf"]),3,i.ocq(i.ocq(i.tw(i.cw(0,i.ref(0),i.ge(2)),2592e6),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","entities"],i.o([i.e_(3,"LIV"),i.e_(3,"PGA Tour policy board"),i.e_(3,"PGA"),i.e_(3,"Cam Smith"),i.e_(3,"Max Homa"),i.e_(3,"Matt Fitzpatrick"),i.e_(3,"Patrick Cantlay"),i.e_(3,"Xander Schauffele"),i.e_(3,"Scottie Scheffler"),i.e_(3,"@PhilMickelson"),i.e_(3,"Phil Mickelson"),i.e_(3,"Dustin Johnson"),i.e_(3,"Tiger Woods"),i.e_(3,"Jordan Spieth"),i.e_(3,"Jon Rahm"),i.e_(3,"McIlroy"),i.e_(3,"Rory McIlory"),i.e_(3,"Rory McIlroy"),i.e_(3,"Nickol Knoll Golf Club"),i.e_(3,"Quail Hollow Golf Club"),i.e_(3,"Wynn Golf Club"),i.e_(3,"@livgolf_league"),i.e_(3,"LIV Golf"),i.y_(3,402),i.e_(3,"GOLF"),i.y_(3,401),i.e_(3,"golf")])),i.ge(2)),2592e6)),i.tw(i.cw(0,i.ps(6,"www.si.com/golf"),i.ge(2)),2592e6)),0,i.ps(11,"https://kingcollinsgolf.com"),1),150421:i.r(31,1,i.af_u(["properties","classifications_watson","concepts"],i.e_(3,"Milk substitute"),i.ge_(5,.5)),1,["ripple.com","Ripple","almondcow.co","Almond Cow","www.bluediamond.com/AlmondBreeze/BuyOnline","oatly.com","bluediamond.com"],["properties","classifications_watson","keywords"],[i.e_(3,"coconut milk"),i.e_(3,"pea milk"),i.e_(3,"Cashew milk"),i.e_(3,"soy milk"),i.e_(3,"milk alternative"),i.e_(3,"milk substitute"),i.e_(3,"Non-Dairy Milk"),i.e_(3,"Oat Milk"),i.e_(3,"Almond Milk")],5,.5),150423:i.r(13,"liveramp_NCS","1000251106","150423","liveramp_NCS","1001589116","150423",i.ocq(i.ocq(i.itp("liveramp_NCS","1001592406",!1,"150423"),i.itp("liveramp_NCS","1000251116",!1,"150423")),i.itp("liveramp_NCS","1000251076",!1,"150423")),i.itp("liveramp_NCS","1001589106",!1,"150423")),150663:i.r(11,"d0f3bd58-305e-491a-b194-02273fbcb561","150421",.6687579),150676:i.r(23,2,2,2,2,["Warner Bros. Entertainment Inc","WarnerMedia - HBO Max","warnerbros.com","Warner Bros.","Warner Bros",460,391,418,464,458,"ESPN+","movies.disney.ph",400,457,448,6,7,439,403,"directv.com",437,"DIRECTV","fuboTV",470,469],["properties","classifications_watson","concepts"],["properties","classifications_watson","categories"],i.o([i.y_(0,153),i.y_(0,160),i.y_(0,2),i.y_(0,156),i.y_(0,154),i.y_(0,46),i.y_(0,155),i.y_(0,157),i.y_(0,12),i.y_(0,158),i.y_(0,11),i.y_(0,43),i.y_(0,1),i.y_(0,159),i.y_(0,152),i.y_(0,9),i.y_(0,45),i.y_(0,10),i.y_(0,41),i.e_(0,"/art and entertainment/movies and tv/movies"),i.y_(0,40),i.y_(0,39)]),[i.e_(3,"Broadway theatre"),i.y_(3,406),i.y_(3,407),i.y_(3,408),i.y_(3,399),i.e_(3,"Talk show"),i.e_(3,"Game show"),i.e_(3,"Romantic comedy film"),i.e_(3,"Thriller (genre)"),i.e_(3,"Western (genre)"),i.e_(3,"Drama (genre)"),i.e_(3,"Daytime Emmy Award for Outstanding Younger Actress in a Drama Series"),i.e_(3,"Academy Award for Best Supporting Actress"),i.e_(3,"Daytime Emmy Award for Outstanding Supporting Actor in a Drama Series"),i.e_(3,"Daytime Emmy Award for Outstanding Younger Actor in a Drama Series"),i.e_(3,"Filmfare Award for Best Supporting Actor"),i.e_(3,"Academy Award for Best Actor"),i.e_(3,"BET Award for Best Actor & Actress"),i.e_(3,"Leading actor"),i.e_(3,"Screen Actors Guild Award for Outstanding Performance by a Cast in a Motion Picture"),i.e_(3,"Screen Actors Guild Award"),i.e_(3,"Deadpool (film)"),i.e_(3,"Star Wars (film)"),i.e_(3,"Crime film"),i.e_(3,"Action film"),i.e_(3,"Horror film"),i.e_(3,"Lucasfilm"),i.e_(3,"Superhero film"),i.y_(3,393),i.e_(3,"Venice Film Festival"),i.e_(3,"War film"),i.y_(3,397),i.e_(3,"Television film"),i.e_(3,"Filmfare Awards"),i.e_(3,"Film festival"),i.e_(3,"Film director"),i.e_(3,"Film poster"),i.e_(3,"Filmmaking"),i.y_(3,421),i.e_(3,"Steaming"),i.y_(3,7),i.e_(3,"HGTV"),i.e_(3,"Missing (Canadian TV series)"),i.e_(3,"The Voice (U.S. TV series)"),i.e_(3,"Chicago P.D. (TV series)"),i.e_(3,"Chicago Fire (TV series)"),i.e_(3,"Fuller House (TV series)"),i.e_(3,"The Batman (TV series)"),i.e_(3,"First Take (TV series)"),i.e_(3,"Amazon Fire TV"),i.e_(3,"Outlander (TV series)"),i.e_(3,"Maury (TV series)"),i.e_(3,"NCIS (TV series)"),i.e_(3,"Smart TV"),i.e_(3,"Apple TV"),i.e_(3,"AFI\'s 100 Years...100 Movie Quotes"),i.e_(3,"MTV Movie Awards"),i.e_(3,"Movie star"),i.e_(3,"Movie theater")],.7,[i.y_(3,405),i.y_(3,393),i.y_(3,397),i.y_(3,111),i.e_(3,"STARZ"),i.y_(3,412),i.y_(3,110),i.y_(3,107),i.y_(3,6),i.y_(3,7),i.e_(3,"MTV"),i.e_(3,"Alliance of Motion Picture and Television Producers"),i.e_(3,"Sony Pictures Television"),i.e_(3,"Movie Awards"),i.e_(3,"AMC")],.7,1),150677:i.r(25,"1012164331",!1,"150677","liveramp_VeevaCrossix_arena_group","1012164321",!1,"150677","liveramp_VeevaCrossix_arena_group","1012164311",!1,"150677"),150678:i.r(25,"1012243501",!1,"150678","liveramp_VeevaCrossix_arena_group","1012243491",!1,"150678","liveramp_VeevaCrossix_arena_group","1012243481",!1,"150678"),150679:i.r(25,"1012243701",!1,"150679","liveramp_VeevaCrossix_arena_group","1012243711",!1,"150679","liveramp_VeevaCrossix_arena_group","1012243691",!1,"150679"),150681:i.r(26,"150681","150681","150681"),150683:i.r(25,"1012244471",!1,"150683","liveramp_VeevaCrossix_arena_group","1012244481",!1,"150683","liveramp_VeevaCrossix_arena_group","1012244491",!1,"150683"),150684:i.r(25,"1012164531",!1,"150684","liveramp_VeevaCrossix_arena_group","1012164521",!1,"150684","liveramp_VeevaCrossix_arena_group","1012164541",!1,"150684"),150685:i.r(25,"1012247881",!1,"150685","liveramp_VeevaCrossix_arena_group","1012247901",!1,"150685","liveramp_VeevaCrossix_arena_group","1012247891",!1,"150685"),150686:i.r(25,"1012164621",!1,"150686","liveramp_VeevaCrossix_arena_group","1012164611",!1,"150686","liveramp_VeevaCrossix_arena_group","1012164631",!1,"150686"),150687:i.r(25,"1012249651",!1,"150687","liveramp_VeevaCrossix_arena_group","1012249661",!1,"150687","liveramp_VeevaCrossix_arena_group","1012249671",!1,"150687"),150688:i.r(25,"1012250281",!1,"150688","liveramp_VeevaCrossix_arena_group","1012250301",!1,"150688","liveramp_VeevaCrossix_arena_group","1012250291",!1,"150688"),150689:i.r(25,"1012251171",!1,"150689","liveramp_VeevaCrossix_arena_group","1012251151",!1,"150689","liveramp_VeevaCrossix_arena_group","1012251161",!1,"150689"),150690:i.r(14,0,i.os(i.s,8,["athlonsports.com/nfl","https://www.si.com/fannation/football","thespun.com/nfl"]),2,1,i.af_u(["properties","data","items"],i.o([i.e_(["name"],"FanNation Horseshoe Huddle"),i.e_(["name"],"FanNation Jaguar Report"),i.e_(["name"],"FanNation Patriot Country"),i.e_(["name"],"FanNation Green Bay Central"),i.e_(["name"],"FanNation Saints News Network"),i.e_(["name"],"FanNation Commander Country"),i.e_(["name"],"FanNation Falcon Report"),i.e_(["name"],"FanNation Detroit Lions"),i.e_(["name"],"FanNation All Seahawks"),i.e_(["name"],"FanNation All Steelers"),i.e_(["name"],"FanNation Raider Maven"),i.e_(["name"],"FanNation Jets Country"),i.e_(["name"],"FanNation All Dolphins"),i.e_(["name"],"FanNation All Bengals"),i.e_(["name"],"FanNation BearDigest"),i.e_(["name"],"FanNation Ram Digest"),i.e_(["name"],"FanNation All Titans"),i.e_(["name"],"FanNation All 49ers")])),5,i.ps(9,"nfl"),1,2,2,i.pe(7,"nflshop.com"),2,i.ocq(i.ocq(i.ocq(i.tw(i.cw(0,i.ref(1),i.ge(2)),2592e6),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","concepts"],i.o([i.e_(3,"Super Bowl"),i.e_(3,"American football plays"),i.y_(3,410),i.e_(3,"American Football League"),i.e_(3,"American football"),i.e_(3,"NFL scouting combine"),i.y_(3,409)]),i.ge_(5,.7)),i.ge(2)),2592e6)),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","concepts"],i.o([i.s_(3,"nfl draft"),i.s_(3,"super bowl")]),i.ge_(5,.7)),i.ge(2)),2592e6)),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","entities"],i.o([i.e_(3,"Monday Night Footballbroadcast"),i.y_(3,410),i.e_(3,"Pro Football Hall of Fame"),i.y_(3,409),i.e_(3,"NFL")]),i.ge_(5,.7)),i.ge(2)),2592e6)),0,i.ps(8,"www.si.com/nfl/"),2),150692:i.r(14,5,i.ps(9,"mlb"),2,2,i.y(7,108),0,i.ps(8,"https://www.si.com/mlb"),2,2,0,i.af_u(["properties","classifications_watson","entities"],i.o([i.e_(3,"Washington Nationals"),i.e_(3,"Toronto Blue Jays"),i.e_(3,"Texas Rangers"),i.e_(3,"Tampa Bay Rays"),i.e_(3,"St. Louis Cardinals"),i.e_(3,"Seattle Mariners"),i.e_(3,"San Francisco Giants"),i.e_(3,"San Diego Padres"),i.e_(3,"Pittsburgh Pirates"),i.e_(3,"Philadelphia Phillies"),i.e_(3,"Oakland Athletics"),i.e_(3,"New York Mets"),i.e_(3,"Minnesota Twins"),i.e_(3,"Milwaukee Brewers"),i.e_(3,"Miami Marlins"),i.e_(3,"Los Angeles Dodgers"),i.e_(3,"Kansas City Royals"),i.e_(3,"Houston Astros"),i.e_(3,"Detroit Tigers"),i.e_(3,"Colorado Rockies"),i.e_(3,"Cleveland Guardians"),i.e_(3,"Cincinnati Reds"),i.e_(3,"Chicago White Sox"),i.e_(3,"Chicago Cubs"),i.e_(3,"Baltimore Orioles"),i.e_(3,"Atlanta Braves"),i.e_(3,"Arizona Diamondbacks"),i.e_(3,"Red Sox"),i.e_(3,"Boston Red Sox"),i.e_(3,"Yankees"),i.e_(3,"New York Yankees"),i.e_(3,"National League Central"),i.e_(3,"National League West"),i.e_(3,"National League"),i.e_(3,"American League East"),i.e_(3,"American League West"),i.e_(3,"American League"),i.y_(3,394),i.e_(3,"Baseball Hall of Fame"),i.y_(3,108),i.e_(3,"BASEBALL")]),i.ge_(5,.7)),2,i.ocq(i.tw(i.cw(0,i.ref(9),i.ge(2)),2592e6),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","concepts"],i.o([i.e_(3,"Major League Baseball consecutive games played streaks"),i.e_(3,"Major League Baseball Pitcher of the Month Award"),i.e_(3,"Major League Baseball Most Valuable Player Award"),i.e_(3,"Major League Baseball Rookie of the Year Award"),i.e_(3,"Sunday Night Baseball"),i.e_(3,"Major League Baseball draft"),i.y_(3,108),i.e_(3,"Batting (baseball)"),i.e_(3,"Umpire (baseball)"),i.e_(3,"Coach (baseball)"),i.e_(3,"Save (baseball)"),i.e_(3,"Run (baseball)"),i.e_(3,"Hit (baseball)"),i.e_(3,"Baseball (ball)"),i.e_(3,"Baseball rules"),i.e_(3,"Baseball field"),i.e_(3,"Baseball park"),i.y_(3,394),i.e_(3,"MLB.com")]),i.ge_(5,.7)),i.ge(2)),2592e6)),0,i.af_u(["properties","classifications_watson","concepts"],i.o([i.s_(3,"major league baseball draft"),i.s_(3,"world series")]),i.ge_(5,.7)),2),150749:i.r(13,"liveramp_Epsilon","1000458566","150749","comscore","118246US","150749",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("eyeota","6672",!1,"150749"),i.itp("eyeota","224",!1,"150749")),i.itp("eyeota","291",!1,"150749")),i.itp("liveramp_Acxiom","1823",!1,"150749")),i.itp("liveramp_Acxiom","4131",!1,"150749")),i.itp("liveramp_Acxiom","1836",!1,"150749")),i.itp("eyeota","224",!1,"150749")),i.itp("liveramp_Acxiom","32001",!1,"150749")),i.itp("eyeota","11208",!1,"150749")),i.itp("liveramp_Epsilon","1003071726",!1,"150749")),i.itp("liveramp_Epsilon","1003071376",!1,"150749")),i.itp("eyeota","225",!1,"150749")),i.itp("liveramp_Acxiom","15040",!1,"150749")),i.itp("liveramp_Acxiom","32008",!1,"150749")),i.itp("liveramp_Acxiom","32022",!1,"150749")),i.itp("liveramp_Acxiom","15042",!1,"150749")),i.itp("eyeota","35427",!1,"150749")),i.itp("liveramp_Acxiom","33077",!1,"150749")),i.itp("comscore","318246US",!1,"150749")),i.itp("comscore","218246US",!1,"150749")),i.itp("liveramp_Epsilon","1003071376",!1,"150749")),150752:i.r(13,"liveramp_Acxiom","1824","150752","liveramp_AnalyticsIQ","1005534079","150752",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("eyeota","35430",!1,"150752"),i.itp("liveramp_Acxiom","32009",!1,"150752")),i.itp("liveramp_Acxiom","32016",!1,"150752")),i.itp("eyeota","294",!1,"150752")),i.itp("liveramp_Epsilon","1003071366",!1,"150752")),i.itp("eyeota","6675",!1,"150752")),i.itp("eyeota","229",!1,"150752")),i.itp("liveramp_Acxiom","32002",!1,"150752")),i.itp("liveramp_Acxiom","32023",!1,"150752")),i.itp("liveramp_Epsilon","1000458576",!1,"150752")),i.itp("eyeota","35454",!1,"150752")),i.itp("comscore","225346US",!1,"150752")),i.itp("eyeota","35442",!1,"150752")),i.itp("comscore","325346US",!1,"150752")),i.itp("comscore","125346US",!1,"150752")),150753:i.r(13,"liveramp_AnalyticsIQ","1005534089","150753","eyeota","35443","150753",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("eyeota","35431",!1,"150753"),i.itp("liveramp_Acxiom","32024",!1,"150753")),i.itp("eyeota","230",!1,"150753")),i.itp("eyeota","6676",!1,"150753")),i.itp("liveramp_Epsilon","1003071356",!1,"150753")),i.itp("liveramp_Acxiom","32010",!1,"150753")),i.itp("liveramp_Acxiom","32003",!1,"150753")),i.itp("eyeota","295",!1,"150753")),i.itp("liveramp_Acxiom","32017",!1,"150753")),i.itp("liveramp_Epsilon","1000458586",!1,"150753")),i.itp("eyeota","35455",!1,"150753")),150755:i.r(13,"eyeota","35445","150755","eyeota","35457","150755",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("liveramp_Acxiom","32025",!1,"150755"),i.itp("liveramp_Epsilon","1000458596",!1,"150755")),i.itp("liveramp_Epsilon","1003071416",!1,"150755")),i.itp("eyeota","6677",!1,"150755")),i.itp("liveramp_Acxiom","32018",!1,"150755")),i.itp("eyeota","232",!1,"150755")),i.itp("eyeota","297",!1,"150755")),i.itp("liveramp_AnalyticsIQ","1005534099",!1,"150755")),i.itp("liveramp_Acxiom","32011",!1,"150755")),i.itp("liveramp_Acxiom","32004",!1,"150755")),i.itp("eyeota","35432",!1,"150755")),150756:i.r(13,"liveramp_IXIDigital","1000089394","150756","liveramp_IXIDigital","1000089364","150756",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("eyeota","35433",!1,"150756"),i.itp("eyeota","6678",!1,"150756")),i.itp("liveramp_Acxiom","32012",!1,"150756")),i.itp("liveramp_Acxiom","32005",!1,"150756")),i.itp("liveramp_Acxiom","32019",!1,"150756")),i.itp("eyeota","234",!1,"150756")),i.itp("eyeota","298",!1,"150756")),i.itp("liveramp_Acxiom","32026",!1,"150756")),i.itp("liveramp_Epsilon","1003071406",!1,"150756")),i.itp("liveramp_Epsilon","1000458606",!1,"150756")),i.itp("eyeota","35459",!1,"150756")),i.itp("eyeota","35447",!1,"150756")),i.itp("liveramp_AnalyticsIQ","1005534109",!1,"150756")),i.itp("liveramp_IXIDigital","1000089234",!1,"150756")),i.itp("liveramp_IXIDigital","1000089214",!1,"150756")),i.itp("liveramp_IXIDigital","1000089484",!1,"150756")),i.itp("liveramp_IXIDigital","1000089204",!1,"150756")),i.itp("liveramp_IXIDigital","1000089224",!1,"150756")),i.itp("liveramp_IXIDigital","1000089494",!1,"150756")),i.itp("liveramp_IXIDigital","1000089504",!1,"150756")),i.itp("liveramp_IXIDigital","1000089374",!1,"150756")),i.itp("liveramp_IXIDigital","1000089384",!1,"150756")),150757:i.r(13,"liveramp_Epsilon","1003072196","150757","liveramp_Acxiom","32020","150757",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("eyeota","235",!1,"150757"),i.itp("eyeota","35434",!1,"150757")),i.itp("liveramp_Experian","1004256419",!1,"150757")),i.itp("liveramp_Experian","1005000139",!1,"150757")),i.itp("liveramp_Acxiom","33086",!1,"150757")),i.itp("eyeota","299",!1,"150757")),i.itp("liveramp_Acxiom","10786",!1,"150757")),i.itp("eyeota","6679",!1,"150757")),i.itp("liveramp_Acxiom","4140",!1,"150757")),i.itp("liveramp_Acxiom","32027",!1,"150757")),150759:i.r(13,"comscore","118547US","150759","comscore","118246US","150759",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("comscore","218997US",!1,"150759"),i.itp("comscore","318997US",!1,"150759")),i.itp("comscore","118997US",!1,"150759")),i.itp("comscore","318447US",!1,"150759")),i.itp("comscore","218346US",!1,"150759")),i.itp("comscore","218497US",!1,"150759")),i.itp("comscore","118497US",!1,"150759")),i.itp("comscore","118346US",!1,"150759")),i.itp("comscore","218447US",!1,"150759")),i.itp("comscore","218547US",!1,"150759")),i.itp("comscore","118447US",!1,"150759")),i.itp("comscore","318497US",!1,"150759")),i.itp("comscore","118346US",!1,"150759")),i.itp("comscore","218447US",!1,"150759")),i.itp("comscore","218547US",!1,"150759")),i.itp("comscore","118447US",!1,"150759")),i.itp("comscore","318497US",!1,"150759")),i.itp("comscore","318246US",!1,"150759")),i.itp("comscore","318547US",!1,"150759")),150760:i.r(13,"comscore","325446US","150760","comscore","125346US","150760",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("comscore","125997US",!1,"150760"),i.itp("comscore","325997US",!1,"150760")),i.itp("comscore","225997US",!1,"150760")),i.itp("comscore","325547US",!1,"150760")),i.itp("comscore","225346US",!1,"150760")),i.itp("comscore","125497US",!1,"150760")),i.itp("comscore","325497US",!1,"150760")),i.itp("comscore","225446US",!1,"150760")),i.itp("comscore","125547US",!1,"150760")),i.itp("comscore","125446US",!1,"150760")),i.itp("comscore","225497US",!1,"150760")),i.itp("comscore","325346US",!1,"150760")),i.itp("comscore","225547US",!1,"150760")),150761:i.r(13,"comscore","335546US","150761","comscore","135997US","150761",i.ocq(i.ocq(i.itp("comscore","235546US",!1,"150761"),i.itp("comscore","235997US",!1,"150761")),i.itp("comscore","135546US",!1,"150761")),i.itp("comscore","335997US",!1,"150761")),150762:i.r(28,"245997US","150762","345997US","150762","145997US","150762"),150763:i.r(28,"355997US","150763","255997US","150763","155997US","150763"),150764:i.r(13,"liveramp_IXIDigital","1002276826","150764","liveramp_IXIDigital","1002277006","150764",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("liveramp_IPSOS","1002976996",!1,"150764"),i.itp("liveramp_AnalyticsIQ","1002985006",!1,"150764")),i.itp("liveramp_AnalyticsIQ","1002984956",!1,"150764")),i.itp("liveramp_Experian","1005159189",!1,"150764")),i.itp("liveramp_Epsilon","1002890016",!1,"150764")),i.itp("liveramp_Epsilon","1000985059",!1,"150764")),i.itp("liveramp_AnalyticsIQ","1002176636",!1,"150764")),i.itp("liveramp_Acxiom","300730799",!1,"150764")),i.itp("liveramp_Epsilon","1000985069",!1,"150764")),i.itp("liveramp_Epsilon","1000991509",!1,"150764")),i.itp("comscore","2millUS",!1,"150764")),i.itp("comscore","3millUS",!1,"150764")),i.itp("liveramp_Acxiom","1339008344",!1,"150764")),i.itp("comscore","1millUS",!1,"150764")),i.itp("liveramp_AnalyticsIQ","1004697839",!1,"150764")),i.itp("liveramp_Epsilon","1000985079",!1,"150764")),i.itp("liveramp_AnalyticsIQ","1004391659",!1,"150764")),i.itp("liveramp_IXIDigital","1002276966",!1,"150764")),i.itp("liveramp_Epsilon","1000991489",!1,"150764")),i.itp("liveramp_IXIDigital","1002277016",!1,"150764")),i.itp("liveramp_IXIDigital","1002276916",!1,"150764")),150766:i.r(13,"liveramp_IXIDigital","1000090114","150766","liveramp_Experian","1002888826","150766",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("liveramp_Epsilon","1000458646",!1,"150766"),i.itp("liveramp_Epsilon","1000458636",!1,"150766")),i.itp("liveramp_Epsilon","1000458776",!1,"150766")),i.itp("liveramp_Epsilon","1000458766",!1,"150766")),i.itp("liveramp_Bombora","1005405039",!1,"150766")),i.itp("liveramp_Epsilon","1005785851",!1,"150766")),i.itp("liveramp_Experian","1005797981",!1,"150766")),i.itp("liveramp_Experian","1005797961",!1,"150766")),i.itp("liveramp_Experian","1004602219",!1,"150766")),150768:i.r(13,"liveramp_IXIDigital","1003590429","150768","liveramp_AnalyticsIQ","1000689796","150768",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("liveramp_Epsilon","1000458676",!1,"150768"),i.itp("liveramp_Epsilon","1000458826",!1,"150768")),i.itp("liveramp_Epsilon","1000458806",!1,"150768")),i.itp("liveramp_Epsilon","1000458796",!1,"150768")),i.itp("liveramp_Epsilon","1000458666",!1,"150768")),i.itp("liveramp_Epsilon","1000458836",!1,"150768")),i.itp("liveramp_Epsilon","1000458816",!1,"150768")),i.itp("liveramp_Epsilon","1005785871",!1,"150768")),i.itp("liveramp_Bombora","1005405049",!1,"150768")),i.itp("liveramp_AnalyticsIQ","1003519969",!1,"150768")),i.itp("liveramp_AnalyticsIQ","1003519979",!1,"150768")),i.itp("liveramp_AnalyticsIQ","1000689786",!1,"150768")),i.itp("liveramp_IXIDigital","1000090094",!1,"150768")),i.itp("liveramp_IXIDigital","1000090084",!1,"150768")),150770:i.r(13,"liveramp_IXIDigital","1003150429","150770","liveramp_IXIDigital","1003150439","150770",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("liveramp_Epsilon","1000458846",!1,"150770"),i.itp("liveramp_Epsilon","1000458866",!1,"150770")),i.itp("liveramp_Epsilon","1000458876",!1,"150770")),i.itp("liveramp_Epsilon","1000458856",!1,"150770")),i.itp("liveramp_Epsilon","1000458866",!1,"150770")),i.itp("liveramp_Epsilon","1000458686",!1,"150770")),i.itp("liveramp_Epsilon","1000458886",!1,"150770")),i.itp("liveramp_Epsilon","1000458856",!1,"150770")),i.itp("liveramp_Epsilon","1000458686",!1,"150770")),i.itp("liveramp_Epsilon","1005785881",!1,"150770")),i.itp("liveramp_Bombora","1005405059",!1,"150770")),i.itp("liveramp_Experian","1004602239",!1,"150770")),i.itp("liveramp_Experian","1005798011",!1,"150770")),i.itp("liveramp_Experian","1002888806",!1,"150770")),i.itp("liveramp_Experian","1005798021",!1,"150770")),i.itp("liveramp_IXIDigital","1000090074",!1,"150770")),i.itp("liveramp_AnalyticsIQ","1003519989",!1,"150770")),i.itp("liveramp_IXIDigital","1000090064",!1,"150770")),i.itp("liveramp_AnalyticsIQ","1003519999",!1,"150770")),i.itp("liveramp_IXIDigital","1000090064",!1,"150770")),i.itp("liveramp_AnalyticsIQ","1000689806",!1,"150770")),150773:i.r(13,"liveramp_AnalyticsIQ","1003520009","150773","liveramp_Experian","1002888816","150773",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("liveramp_Epsilon","1000458906",!1,"150773"),i.itp("liveramp_Epsilon","1000458926",!1,"150773")),i.itp("liveramp_Epsilon","1000458896",!1,"150773")),i.itp("liveramp_Epsilon","1000458886",!1,"150773")),i.itp("liveramp_Epsilon","1000458696",!1,"150773")),i.itp("liveramp_Epsilon","1000458936",!1,"150773")),i.itp("liveramp_Epsilon","1005785891",!1,"150773")),i.itp("liveramp_Bombora","1005405069",!1,"150773")),i.itp("liveramp_Experian","1004602249",!1,"150773")),150780:i.r(13,"liveramp_AnalyticsIQ","1003809949","150780","liveramp_IXIDigital","1000089544","150780",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("liveramp_Experian","1003187539",!1,"150780"),i.itp("liveramp_Experian","1003187379",!1,"150780")),i.itp("liveramp_IXIDigital","1000089554",!1,"150780")),i.itp("liveramp_AnalyticsIQ","1003809909",!1,"150780")),i.itp("eyeota","303",!1,"150780")),i.itp("liveramp_IXIDigital","1000089134",!1,"150780")),i.itp("eyeota","35591",!1,"150780")),150781:i.r(13,"liveramp_Bombora","1005405079","150781","liveramp_AnalyticsIQ","1000689846","150781",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("liveramp_Epsilon","1000458956",!1,"150781"),i.itp("liveramp_Epsilon","1000458716",!1,"150781")),i.itp("liveramp_Epsilon","1000459016",!1,"150781")),i.itp("liveramp_Epsilon","1000459026",!1,"150781")),i.itp("liveramp_Epsilon","1000459036",!1,"150781")),i.itp("liveramp_Epsilon","1000458716",!1,"150781")),i.itp("liveramp_Epsilon","1000458706",!1,"150781")),i.itp("liveramp_Epsilon","1000458976",!1,"150781")),i.itp("liveramp_Epsilon","1000459006",!1,"150781")),i.itp("liveramp_Epsilon","1000458986",!1,"150781")),i.itp("liveramp_Epsilon","1000458966",!1,"150781")),i.itp("liveramp_Epsilon","1000458946",!1,"150781")),i.itp("liveramp_Epsilon","1000458996",!1,"150781")),i.itp("liveramp_Experian","1004602269",!1,"150781")),i.itp("liveramp_Experian","1005798041",!1,"150781")),i.itp("liveramp_Experian","1004602259",!1,"150781")),i.itp("liveramp_Experian","1002888766",!1,"150781")),i.itp("liveramp_Experian","1005798051",!1,"150781")),i.itp("liveramp_AnalyticsIQ","1003520029",!1,"150781")),i.itp("liveramp_IXIDigital","1000090034",!1,"150781")),i.itp("liveramp_IXIDigital","1002276856",!1,"150781")),i.itp("liveramp_AnalyticsIQ","1000689836",!1,"150781")),150861:i.r(16,"150861","liveramp_IXIDigital","1000090024","150861","liveramp_IXIDigital","1003150399","150861","liveramp_AnalyticsIQ","1003520039","150861",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("liveramp_Epsilon","1000458726",!1,"150861"),i.itp("liveramp_Epsilon","1000458736",!1,"150861")),i.itp("liveramp_Epsilon","1000459056",!1,"150861")),i.itp("liveramp_Epsilon","1000459066",!1,"150861")),i.itp("liveramp_Epsilon","1000459086",!1,"150861")),i.itp("liveramp_Epsilon","1000459076",!1,"150861")),i.itp("liveramp_Epsilon","1000459046",!1,"150861")),i.itp("liveramp_Bombora","1005405089",!1,"150861")),i.itp("liveramp_Experian","1004602279",!1,"150861")),i.itp("liveramp_Experian","1004602289",!1,"150861")),i.itp("liveramp_Experian","1005798071",!1,"150861")),i.itp("liveramp_Experian","1005798061",!1,"150861")),"liveramp_IXIDigital","1000090024","150861","1000689856","150861"),150862:i.r(16,"150862","liveramp_Experian","1005798081","150862","liveramp_Experian","1004602299","150862","liveramp_Epsilon","1000459106","150862",i.itp("liveramp_AnalyticsIQ","1000689866",!1,"150862"),"liveramp_Epsilon","1000459096","150862","1003520049","150862"),150866:i.r(13,"liveramp_AnalyticsIQ","1003520059","150866","liveramp_AnalyticsIQ","1000689876","150866",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("liveramp_Epsilon","1000459116",!1,"150866"),i.itp("liveramp_AnalyticsIQ","1000689876",!1,"150866")),i.itp("liveramp_AnalyticsIQ","1003520059",!1,"150866")),i.itp("liveramp_Epsilon","1000458756",!1,"150866")),i.itp("liveramp_Experian","1004602309",!1,"150866")),i.itp("liveramp_IXIDigital","1000090014",!1,"150866")),i.itp("liveramp_IXIDigital","1003590359",!1,"150866")),i.itp("liveramp_IXIDigital","1003150379",!1,"150866")),i.itp("liveramp_IXIDigital","1003172369",!1,"150866")),i.itp("liveramp_Bombora","1005405099",!1,"150866")),i.itp("liveramp_AnalyticsIQ","1000689876",!1,"150866")),i.itp("liveramp_AnalyticsIQ","1003520069",!1,"150866")),i.itp("liveramp_IXIDigital","1000090014",!1,"150866")),i.itp("liveramp_AnalyticsIQ","1000689886",!1,"150866")),150877:i.r(15,2,i.os(i.s,8,["https://www.si.com/fannation/basketball","www.si.com/nba"]),"nba",i.w,7,["National Basketball Association (NBA)","nba.com"],i.ocq(i.tw(i.cw(0,i.ref(3),i.ge(2)),2592e6),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","concepts"],i.o([i.e_(3,"Larry Riley (basketball)"),i.e_(3,"John Starks (basketball)"),i.e_(3,"Jim Brewer (basketball)"),i.e_(3,"David Lee (basketball)"),i.e_(3,"Rebound (basketball)"),i.e_(3,"Double (basketball)"),i.e_(3,"Assist (basketball)"),i.e_(3,"Center (basketball)"),i.e_(3,"Steal (basketball)"),i.e_(3,"Point (basketball)"),i.e_(3,"Coach (basketball)"),i.e_(3,"Flop (basketball)"),i.e_(3,"Key (basketball)"),i.e_(3,"American Basketball Association"),i.e_(3,"Basketball positions"),i.e_(3,"Basketball court"),i.y_(3,395),i.e_(3,"National Basketball Association")]),i.ge_(5,.7)),i.ge(2)),2592e6)),["properties","classifications_watson","entities"],i.o([i.e_(3,"basketball"),i.y_(3,395),i.e_(3,"Basketball Hall of Fame"),i.e_(3,"Naismith Basketball Hall of Fame"),i.e_(3,"National Basketball Players Association")]),[i.e_(3,"Washington Wizards"),i.e_(3,"Utah Jazz"),i.e_(3,"Toronto Raptors"),i.e_(3,"San Antonio Spurs"),i.e_(3,"Sacramento Kings"),i.e_(3,"Portland Trail Blazers"),i.e_(3,"Phoenix Suns"),i.e_(3,"Philadelphia 76ers"),i.e_(3,"Orlando Magic"),i.e_(3,"Oklahoma City Thunder"),i.e_(3,"New York Knicks"),i.e_(3,"New Orleans Pelicans"),i.e_(3,"Minnesota Timberwolves"),i.e_(3,"Milwaukee Bucks"),i.e_(3,"Miami Heat"),i.e_(3,"Memphis Grizzlies"),i.e_(3,"Los Angeles Lakers"),i.e_(3,"Los Angeles Clippers"),i.e_(3,"Indiana Pacers"),i.e_(3,"Houston Rockets"),i.e_(3,"Golden State Warriors"),i.e_(3,"Detroit Pistons"),i.e_(3,"Denver Nuggets"),i.e_(3,"Dallas Mavericks"),i.e_(3,"Cleveland Cavaliers"),i.e_(3,"Chicago Bulls"),i.e_(3,"Charlotte Hornets"),i.e_(3,"Brooklyn Nets"),i.e_(3,"Boston Celtics"),i.e_(3,"Atlanta Hawks")],.7,i.s_(3,"NBA")),150878:i.r(21,1,i.af_u(["properties","data","items"],i.e_(["name"],"PetHelpful News")),1,2,i.pe(7,"milkbone.com"),5,i.ps(9,"petmd.com/dog"),1,1,0,i.os(i.s,8,[435,"paradepets.com/dogs/","pethelpful.com/dogs"]),2,i.cw(0,i.ref(6),i.ge(2)),2592e6),151070:i.q(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.tw(i.cw(0,i.af_u(["properties","classifications_watson","categories"],i.o([i.e_(0,"/finance/personal finance/saving"),i.y_(0,227),i.y_(0,229),i.y_(0,230),i.y_(0,231),i.y_(0,232),i.y_(0,228),i.y_(0,224),i.y_(0,225),i.y_(0,223)]),i.ge_(1,.6)),i.ge(2)),2592e6),i.tw(i.cw(0,i.os(i.s,8,[442,444,"https://www.thestreet.com/investing","https://www.thestreet.com/markets","https://www.thestreet.com/personal-finance","thestreet.com/quote"]),i.ge(2)),2592e6)),i.cw(0,i.os(i.s,11,[442,443,"https://stocks.apple.com",444]),i.ge(1))),i.tw(i.cw(1,i.os(i.w,4,[105,115,109,415,416,114]),i.ge(1)),2592e6)),i.tw(i.cw(1,i.af_u(["properties","data","items"],i.o([i.y_(["name"],105),i.y_(["name"],114),i.y_(["name"],115),i.y_(["name"],109)])),i.ge(1)),2592e6)),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","concepts"],i.o([i.e_(3,"New York Stock Exchange"),i.e_(3,"London Stock Exchange"),i.e_(3,"Stock market"),i.e_(3,"Stock exchange"),i.e_(3,"Dow Jones Industrial Average"),i.e_(3,"Russell 1000 Index"),i.e_(3,"S&P 500 Index"),i.e_(3,"NASDAQ")]),i.ge_(5,.5)),i.ge(2)),2592e6)),i.scq(i.cw(3,i.pc(["aggregations","SegmentEntry"],147734)),i.cw(4,i.pe(10,147734)),i.ge(1)))),151161:i.r(23,1,1,1,1,["cdc.gov","covidcrisisgroup.org"],["properties","classifications_watson","keywords"],["properties","classifications_watson","concepts"],i.e_(3,"Coronavirus"),[i.e_(3,"Anthony Fauci"),i.e_(3,"covid-19"),i.y_(3,396),i.e_(3,"handling of the coronavirus pandemic"),i.e_(3,"covid")],.5,[i.y_(3,396),i.e_(3,"COVID")],.5,5),151167:i.q(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.tw(i.cw(0,i.af_u(["properties","classifications_watson","categories"],i.o([i.y_(0,172),i.y_(0,13),i.e_(0,"/art and entertainment/music/music genres/easy listening"),i.y_(0,163),i.y_(0,170),i.y_(0,50),i.e_(0,"/art and entertainment/music/musical instruments/pianos"),i.y_(0,169),i.y_(0,168),i.y_(0,49),i.y_(0,166),i.y_(0,161),i.y_(0,4),i.y_(0,164),i.y_(0,53),i.y_(0,3),i.y_(0,48),i.y_(0,171),i.y_(0,51),i.y_(0,52),i.y_(0,165),i.y_(0,162),i.e_(0,"/art and entertainment/music/music reference"),i.e_(0,"/art and entertainment/music/music genres"),i.y_(0,173),i.y_(0,47)]),i.ge_(1,.6)),i.ge(2)),2592e6),i.tw(i.cw(2,i.os(i.w,7,["soundcloud.com","pandora.net","open.spotify.com/DisneyHits/Podcast","spotify.com","Spotify","abeautifulnoisethemusical.com","Mamma Mia! the musical","Moulin Rouge Musical","aladdinthemusical.com","universalmusic.com","musicnotes.com","Musicnotes Inc","Universal Music"]),i.ge(1)),2592e6)),i.tw(i.cw(5,i.os(i.s,9,[27,"https://edm.com/","https://spinditty.com/","https://www.goldminemag.com/","https://www.metaledgemag.com/","www.tiktok.com/music"]),i.ge(1)),2592e6)),i.tw(i.cw(0,i.os(i.s,8,["https://djbooth.net","https://edm.com","https://spinditty.com","https://www.goldminemag.com","https://www.metaledgemag.com"]),i.ge(1)),2592e6)),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","entities"],i.o([i.e_(3,"Jon Bon Jovi"),i.e_(3,"Bon Jovi"),i.e_(3,"Coldplay"),i.e_(3,"Metallica"),i.e_(3,"Nirvana"),i.e_(3,"Aerosmith"),i.e_(3,"David Bowie"),i.e_(3,"Elton John"),i.e_(3,"Bob Dylan"),i.e_(3,"Stevie Wonder"),i.e_(3,"Mariah Carey"),i.e_(3,"Whitney Houston"),i.e_(3,"Madonna"),i.e_(3,"Fleetwood"),i.e_(3,"Adele"),i.e_(3,"The Beatles"),i.e_(3,"Beyonce"),i.e_(3,"Beyonc"),i.e_(3,"Kendrick Lamar"),i.e_(3,"Rihanna"),i.e_(3,"Ed Sheeran"),i.e_(3,"Shawn Mendes"),i.e_(3,"Bruno Mars"),i.e_(3,"Chris Stapleton"),i.e_(3,"Bad Bunny"),i.e_(3,"Luke Combs"),i.e_(3,"Harry Styles"),i.e_(3,"Megan Thee Stallion"),i.e_(3,"Dua Lipa"),i.e_(3,"Ariana Grande"),i.e_(3,"Justin Bieber"),i.e_(3,"Post Malone"),i.e_(3,"Billie Eilish"),i.e_(3,"Drake"),i.e_(3,"Taylor Swift"),i.e_(3,\'Academy of Country Music "New Female\'),i.e_(3,"Academy of Country Music awards"),i.e_(3,"Academy of Country Music Awards"),i.e_(3,"Academy of Country Music"),i.e_(3,"Queen of Country Music"),i.e_(3,"Wide Open Music"),i.e_(3,"Country Music Awards"),i.e_(3,"Country Music City"),i.y_(3,405)]),i.ge_(5,.7)),i.ge(2)),2592e6)),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","concepts"],i.o([i.y_(3,399),i.e_(3,"Rock and roll"),i.e_(3,"Hip hop music"),i.e_(3,"Country music"),i.e_(3,"Warner Music Group"),i.e_(3,"House music"),i.e_(3,"Dance music"),i.e_(3,"Theme music"),i.e_(3,"Sony Music Nashville"),i.e_(3,"Folk music"),i.e_(3,"Rock music"),i.e_(3,"The Music"),i.e_(3,"CMT Music Awards"),i.e_(3,"Pop music"),i.e_(3,"AllMusic"),i.e_(3,"Music of the Philippines"),i.e_(3,"Music of Bollywood"),i.e_(3,"Musical instrument"),i.e_(3,"Musical ensemble"),i.e_(3,"Musical notation"),i.e_(3,"Musical theatre"),i.y_(3,407),i.y_(3,406),i.e_(3,"Music genre"),i.y_(3,408),i.e_(3,"Musician"),i.e_(3,"Music")]),i.ge_(5,.7)),i.ge(2)),2592e6))),153566:i.r(26,"153566","153566","153566"),153666:i.r(44,1,1,4,114),153667:i.r(44,1,1,4,105),153668:i.r(45,1,4,"Tech Stocks Roundup"),153669:i.r(45,1,4,"Lift Off"),153670:i.r(44,1,1,4,109),153671:i.r(44,1,1,4,115),153672:i.r(44,1,1,4,417),153673:i.r(45,1,4,"Extra Mustard"),153674:i.r(45,1,4,"The Playmaker"),153675:i.r(45,1,4,"The MMQB Newsletter"),153676:i.r(45,1,4,"Winners Club"),153677:i.r(44,1,1,4,113),153678:i.r(44,1,1,4,112),153679:i.r(45,1,4,"The Swimfluence Network"),153680:i.r(45,1,4,"Men\'s Journal Daily"),153681:i.r(45,1,4,"Men\'s Journal Blueprint"),153682:i.r(44,1,1,4,428),153683:i.r(45,1,4,"Men\'s Journal Gear Lab"),153684:i.r(45,1,4,"Men\'s Journal Everyday Warrior"),153685:i.r(45,1,4,"Parade Daily"),153686:i.r(45,1,4,"Parade Trending News"),153687:i.r(45,1,4,"PopKitchen"),153688:i.r(45,1,4,"HealthyNow"),153689:i.r(45,1,4,"PopShop"),153690:i.r(56,"Exemplore News"),153691:i.r(45,1,4,"Dengarden News"),153693:i.r(56,"PetHelpful News"),153694:i.r(56,"Discover HubPages"),153695:i.r(56,"BikeMag Newsletter"),153696:i.r(56,"Powder Newsletter"),153697:i.r(56,"Snowboarder Newsletter"),153698:i.r(56,"Surfer Newsletter"),153699:i.r(56,"Skateboarding Newsletter"),153700:i.r(36,1,i.os(i.s,4,[436]),i.ge(1),1,i.af_u(["properties","data","items"],i.o([i.s_(["name"],436)])),i.ge(1)),153701:i.r(6,1,15,"premium-subscription"),153702:i.r(45,1,14,"successfulNewsletterSignup"),153703:i.r(45,1,14,"newsletterSubscribeAll"),153704:i.r(45,1,15,"newsletter"),153705:i.q(i.cw(1,i.os(i.w,4,["Action Alerts PLUS Annual Subscription (FT)","Action Alerts PLUS Annual Subscription"]),i.ge(1))),153706:i.r(6,1,4,"Action Alerts PLUS Two Year Subscription (FT)"),153708:i.r(5,1,4,415),153709:i.r(5,1,4,416),153710:i.r(6,1,4,"Real Money Pro Monthly Subscription (FT)"),153711:i.r(6,1,4,"TheStreet SMARTS Annual Subscription"),153712:i.r(6,1,4,"TheStreet Quant Ratings Annual Subscription"),153713:i.r(6,1,4,"Sports Illustrated Digital Annual Subscription For $1 Per Week"),153714:i.r(6,1,4,"Sports Illustrated Digital Annual Subscription With Introductory Price"),153715:i.r(6,1,4,"Sports Illustrated Digital Annual Subscription For Magazine Subscribers"),153716:i.r(6,1,4,"Sports Illustrated Digital Monthly Subscription With Introductory Price"),153717:i.r(6,1,4,"Sports Illustrated Digital + Print Annual Subscription With Introductory Price"),154600:i.r(14,0,i.a([i.y(6,131),i.ps(11,"beauty")]),1,0,i.y(6,465),0,i.os(i.s,11,["https://bellatory.com/hair","https://bellatory.com/makeup","https://cupcakesandcashmere.com/beauty","https://fashionista.com/beauty","https://thestylingedit.com/hair","https://verilymag.com/beauty","https://www.makeupalley.com"]),2,1,2,i.os(i.w,7,["www.herocosmetics.us/Micropoint/Dark-Spots","www.herocosmetics.us/MightyPatch/Nose","decortecosmetics.com","grandecosmetics.com","CPG Personal Care & Cosmetics Brands","Tarte Cosmetics","tartecosmetics.com","rawwcosmetics.com","elfcosmetics.com","nyxcosmetics.com","neutrogena.com","revlon.com","L\'Oreal Group","lorealparisusa.com","loreal.com",116,"ulta.com","sephora.com"]),2,i.ocq(i.tw(i.cw(0,i.af_u(["properties","classifications_watson","categories"],i.o([i.y_(0,175),i.y_(0,355),i.y_(0,353),i.y_(0,354),i.y_(0,352),i.y_(0,351),i.y_(0,22),i.y_(0,102),i.e_(0,"/style and fashion/beauty/cologne"),i.y_(0,356),i.y_(0,101)]),i.ge_(1,.7)),i.ge(2)),2592e6),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","entities"],i.o([i.e_(3,"Kylie Cosmetics"),i.e_(3,"MAC Cosmetics"),i.e_(3,"Ulta Beauty and Target"),i.e_(3,"Ulta Beauty stores"),i.y_(3,116),i.e_(3,"Sephora partnership")]),i.ge_(5,.6)),i.ge(2)),2592e6)),0,i.af_u(["properties","classifications_watson","concepts"],i.o([i.e_(3,"Beauty salon"),i.e_(3,"Cosmetics"),i.y_(3,116)]),i.ge_(5,.7)),2),154607:i.r(55,2,6,"thestreet.com"),154608:i.r(44,0,2,6,8),154609:i.r(44,0,2,6,28),154610:i.r(55,2,6,30),154611:i.r(43,0,2,6,[136,31,146,147,148]),154612:i.r(51,2,11),154613:i.r(51,2,2),154614:i.r(51,2,12),154909:i.r(32,i.tw(i.cw(0,i.af_u(["properties","classifications_watson","concepts"],i.o([i.e_(3,"Mixed martial arts"),i.e_(3,"Welterweight (MMA)"),i.e_(3,"Bellator MMA"),i.e_(3,"MMAjunkie.com")]),i.ge_(5,.5)),i.ge(1)),2592e6),["properties","classifications_watson","entities"],i.e_(3,"MMA"),i.ps(6,144),.5,1),155018:i.r(11,"166356c6-fd31-4685-8e9f-a038f46e84c5","150878",.89394855),155106:i.r(58,["properties","classifications_watson","categories"],i.a([i.n_(0,"/law, govt and politics/government/executive branch"),i.n_(0,"/law, govt and politics/law enforcement/highway patrol"),i.z_(0,268),i.n_(0,"/law, govt and politics/law enforcement/coast guard"),i.z_(0,278),i.n_(0,"/law, govt and politics/politics/domestic policy"),i.n_(0,"/law, govt and politics/law enforcement/police"),i.z_(0,276),i.z_(0,271),i.z_(0,272),i.n_(0,"/law, govt and politics/armed forces/air force"),i.z_(0,266),i.n_(0,"/law, govt and politics/politics/elections"),i.z_(0,273),i.z_(0,277),i.z_(0,265),i.n_(0,"/law, govt and politics/armed forces/navy"),i.z_(0,78),i.z_(0,275),i.z_(0,264),i.z_(0,267),i.z_(0,274),i.z_(0,77),i.z_(0,79),i.z_(0,76),i.z_(0,314),i.n_(0,"/society/crime/sexual offence/paedophilia"),i.n_(0,"/society/sex/sex education"),i.z_(0,316),i.z_(0,315),i.z_(0,313),i.z_(0,317),i.n_(0,"/law, govt and politics/espionage and intelligence/surveillance"),i.z_(0,269),i.z_(0,270),i.z_(0,208),i.z_(0,207),i.z_(0,319),i.z_(0,364),i.z_(0,303),i.z_(0,308),i.n_(0,"/society/crime/personal offense/hate crime"),i.z_(0,304),i.z_(0,302),i.n_(0,"/society/crime/property crime/smuggling"),i.n_(0,"/society/crime/property crime/burglary"),i.z_(0,301),i.z_(0,305),i.z_(0,307),i.z_(0,311),i.z_(0,310),i.z_(0,312),i.n_(0,"/society/crime/property crime/arson"),i.z_(0,309),i.z_(0,298),i.z_(0,300),i.z_(0,299),i.z_(0,306),i.z_(0,18)])),155108:i.r(10,i.vq(i.cw(0,i.pge(["classifications_watson","emotion","fear"],.25),i.ge(1))),i.vq(i.cw(0,i.pge(["classifications_watson","emotion","disgust"],.25),i.ge(1)))),155109:i.r(58,["properties","classifications_watson","keywords"],i.nt(i.s_(3,"riot"))),155628:i.r(31,2,i.os(i.s,6,[122,"videogames.si.com"]),2,["playstation.com","nintendo.ca","xbox.com"],["properties","classifications_watson","categories"],[i.y_(0,366),i.y_(0,365),i.y_(0,367),i.y_(0,103),i.y_(0,75)],1,.6),155826:i.r(44,0,1,6,31),155891:i.r(55,1,8,"utm_medium=email"),155892:i.r(45,2,7,"gatorade.com"),155893:i.r(13,"liveramp_IXIDigital","1000090444","155893","liveramp_IXIDigital","1000090454","155893",i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.itp("liveramp_Experian","1004263509",!1,"155893"),i.itp("liveramp_Epsilon","1000463476",!1,"155893")),i.itp("liveramp_AnalyticsIQ","1004391929",!1,"155893")),i.itp("liveramp_Acxiom","300123399",!1,"155893")),i.itp("liveramp_Epsilon","1000463566",!1,"155893")),i.itp("liveramp_Epsilon","1000463556",!1,"155893")),i.itp("liveramp_Epsilon","1000985859",!1,"155893")),i.itp("liveramp_Epsilon","1000985849",!1,"155893")),i.itp("liveramp_Epsilon","1000990699",!1,"155893")),i.itp("liveramp_Epsilon","1000990689",!1,"155893")),i.itp("liveramp_IXIDigital","1000090424",!1,"155893")),155931:i.r(15,0,i.af_u(["properties","classifications_watson","entities"],i.o([i.e_(3,"World Hockey Association"),i.e_(3,"USA Hockey National Team Development Program"),i.e_(3,"Hockey"),i.e_(3,"hockey")]),i.ge_(5,.7)),"nhl",i.s,8,["https://thehockeynews.com/","https://www.si.com/nhl"],i.tw(i.cw(0,i.ref(4),i.ge(2)),2592e6),["properties","classifications_watson","concepts"],i.s_(3,"NHL"),[i.e_(3,"Vegas Golden Knights"),i.e_(3,"Vancouver Canucks"),i.e_(3,"Winnipeg Jets"),i.e_(3,"Washington Capitals"),i.e_(3,"Toronto Maple Leafs"),i.e_(3,"Tampa Bay Lightning"),i.e_(3,"St. Louis Blues"),i.e_(3,"Seattle Kraken"),i.e_(3,"San Jose Sharks"),i.e_(3,"Pittsburgh Penguins"),i.e_(3,"Philadelphia Flyers"),i.e_(3,"Ottawa Senators"),i.e_(3,"New York Rangers"),i.e_(3,"New York Islanders"),i.e_(3,"New Jersey Devils"),i.e_(3,"Nashville Predators"),i.e_(3,"Minnesota Wild"),i.e_(3,"Los Angeles Kings"),i.e_(3,"Florida Panthers"),i.e_(3,"Edmonton Oilers"),i.e_(3,"Columbus Blue Jackets"),i.e_(3,"Colorado Avalanche"),i.e_(3,"Chicago Blackhawks"),i.e_(3,"Carolina Hurricanes"),i.e_(3,"Calgary Flames"),i.e_(3,"Buffalo Sabres"),i.e_(3,"Arizona Coyotes"),i.e_(3,"Anaheim Ducks")],.6,i.o([i.e_(3,"Quebec Major Junior Hockey League"),i.e_(3,"British Columbia Hockey League"),i.e_(3,"United States Hockey League"),i.e_(3,"Penalty (ice hockey)"),i.e_(3,"Junior ice hockey"),i.e_(3,"American Hockey League"),i.e_(3,"National Hockey League"),i.e_(3,"Ice Hockey World Championships"),i.e_(3,"The Hockey News"),i.e_(3,"USA Hockey"),i.e_(3,"Ice hockey"),i.e_(3,"Hockey Hall of Fame")])),155998:i.r(21,0,i.af_u(["properties","classifications_watson","keywords"],i.o([i.s_(3,"connected tv"),i.s_(3,"cord cutter"),i.s_(3,"streaming")]),i.ge_(5,.6)),1,5,i.ps(9,"https://www.fubo.tv/"),0,i.af_u(["properties","classifications_watson","entities"],i.o([i.y_(3,111),i.y_(3,107),i.y_(3,412),i.y_(3,110),i.y_(3,7),i.y_(3,6)]),i.ge_(5,.6)),1,1,0,i.af_u(["properties","classifications_watson","concepts"],i.y_(3,421),i.ge_(5,.6)),1,i.cw(2,i.os(i.w,7,["acorn.tv",437,469,"Paramount Global - Paramount Plus",457,"Walt Disney Company Brands - Disney Plus","www.disneyplus.com","disneyplus.com",400,"Apple Inc - Apple TV",460,391,418,464,"Peacock TV LLC",458,"max.com",439,403,"sling.com",470,"YouTube & YouTube TV","YouTube TV",448,6]),i.ge(1)),2592e6),156024:i.q(i.ocq(i.ocq(i.tw(i.cw(2,i.os(i.w,7,["quote.qualifymedicare.com","Regence Medicare","Medicare Experts","medicareplan.com","medicare.gov","Kaiser Permanente","Anthem","Blue Cross and Blue Shield Association","humana.com","Humana","United HealthCare Services","United Healthcare Group"]),i.ge(1)),2592e6),i.cw(0,i.af_u(["properties","classifications_watson","entities"],i.o([i.e_(3,"UnitedHealth Group"),i.e_(3,"Medicare")]),i.ge_(5,.6)),i.ge(1))),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","categories"],i.o([i.e_(0,"/finance/personal finance/insurance/health insurance"),i.y_(0,219)]),i.ge_(1,.6)),i.ge(1)),2592e6))),156204:i.q(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.tw(i.cw(0,i.os(i.s,8,["https://www.si.com/wnba","tennisbuzz.net/wta-tour"]),i.ge(2)),2592e6),i.tw(i.cw(0,i.os(i.s,8,["uswnt","wnba"]),i.ge(1)),2592e6)),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","concepts"],i.o([i.y_(3,425),i.y_(3,25),i.e_(3,"Women\'s National Basketball Association")]),i.ge_(5,.5)),i.ge(1)),2592e6)),i.cw(0,i.af_u(["properties","classifications_watson","entities"],i.o([i.e_(3,"NWSL"),i.y_(3,422),i.y_(3,426),i.y_(3,117),i.y_(3,25)]),i.ge_(5,.5)),i.ge(1))),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","concepts"],i.s_(3,117),i.ge_(5,.5)),i.ge(1)),2592e6)),i.tw(i.cw(2,i.pe(7,"lynx.wnba.com"),i.ge(1)),2592e6)),i.cw(0,i.af_u(["properties","classifications_watson","keywords"],i.o([i.e_(3,"womens world cup"),i.e_(3,"women\'s world cup"),i.e_(3,"women\'s sports"),i.y_(3,422),i.y_(3,426),i.e_(3,"LPGA"),i.e_(3,"WNSL"),i.y_(3,117),i.e_(3,"womens sports"),i.e_(3,"women\'s team")])),i.ge(1))),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","entities"],i.o([i.y_(3,25),i.e_(3,"Venus Williams"),i.e_(3,"Sue Bird"),i.e_(3,"Breanna Stewart"),i.e_(3,"Alex Morgan"),i.e_(3,"Megan Rapinoe"),i.e_(3,"Serena Williams")]),i.ge_(5,.6)),i.ge(1)),2592e6))),156205:i.q(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.tw(i.cw(0,i.af_u(["properties","classifications_watson","categories"],i.y_(0,98),i.ge_(1,.6)),i.ge(2)),2592e6),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","concepts"],i.o([i.y_(3,425),i.e_(3,"United States men\'s national soccer team"),i.y_(3,25),i.e_(3,"Major League Soccer")]),i.ge_(5,.6)),i.ge(2)),2592e6)),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","entities"],i.e_(3,"MLS"),i.ge_(5,.6)),i.ge(2)),2592e6)),i.tw(i.cw(0,i.ps(8,"https://www.si.com/soccer"),i.ge(2)),2592e6)),i.tw(i.cw(5,i.ps(9,"soccer"),i.ge(2)),2592e6)),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","concepts"],i.e_(3,"D.C. United"),i.ge_(5,.6)),i.ge(2)),2592e6))),160768:i.r(34,2,i.os(i.s,7,["coca-cola","cocacola"]),["properties","classifications_watson","concepts"],["coca-cola.com","Coca-Cola Brands"],i.e_(3,"Coca-Cola"),i.e_(3,"Diet Coke")),160769:i.r(34,0,i.af_u(["properties","classifications_watson","concepts"],i.o([i.e_(3,"Diet Pepsi"),i.y_(3,414),i.y_(3,413)]),i.ge_(5,.6)),["properties","classifications_watson","entities"],["pepsi.com.br","Pepsico - Tropicana","pepsico.com","PepsiCo Brands","pepsi.com"],i.y_(3,414),i.y_(3,413)),161982:i.q(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.tw(i.cw(2,i.os(i.w,7,["margaritavilleatsea.com","Margaritaville at Sea Paradise","milagrotequila.com"]),i.ge(1)),2592e6),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","concepts"],i.o([i.e_(3,"El Diablo"),i.e_(3,"Oaxacan Old Fashioned"),i.e_(3,"Paloma"),i.e_(3,"Blanco"),i.e_(3,"Aejo"),i.e_(3,"Reposado"),i.e_(3,"Margaritaville"),i.e_(3,"Margarita"),i.e_(3,"Tequila")])),i.ge(1)),2592e6)),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","keywords"],i.o([i.s_(3,"aejo"),i.s_(3,"blanco"),i.s_(3,"casamigos"),i.s_(3,"el diablo"),i.s_(3,"margarita"),i.s_(3,"oaxacan old fashioned"),i.s_(3,"paloma"),i.s_(3,"reposado"),i.s_(3,"tequila")])),i.ge(1)),2592e6)),i.tw(i.cw(0,i.os(i.w,13,["The Best Margarita Flavor For Each Zodiac Sign - Parade Astrology: Entertainment, Recipes, Health, Life, Holidays","29 Best Tequila Brands for Shots, Margaritas, Sipping - Parade: Entertainment, Recipes, Health, Life, Holidays"]),i.ge(1)),2592e6)),i.tw(i.cw(0,i.af_u(["properties","classifications_watson","entities"],i.o([i.e_(3,"Casamigos"),i.e_(3,"Hornitos"),i.e_(3,"Azul"),i.e_(3,"Clase Azul"),i.e_(3,"Gran Coramino"),i.e_(3,"Blanco tequila"),i.e_(3,"Don Julio"),i.e_(3,"LALO Tequila"),i.e_(3,"Miguel Escobar Martinez"),i.e_(3,"Patrn"),i.e_(3,"Jose Cuervo"),i.e_(3,"Tequila Cazadores")])),i.ge(1)),2592e6)),i.cw(5,i.ps(9,"drizly.com/liquor/tequila"),i.ge(1)))),161983:i.r(36,0,i.af_u(["properties","classifications_watson","concepts"],i.o([i.e_(3,"Friendship bracelet"),i.e_(3,"With a Little Help from My Friends"),i.e_(3,"Friendship"),i.e_(3,"Christmas and holiday season"),i.e_(3,"Party game"),i.e_(3,"Costume party"),i.e_(3,"Cocktail party")]),i.ge_(5,.5)),i.ge(1),0,i.af_u(["properties","classifications_watson","categories"],i.o([i.y_(0,19),i.y_(0,369),i.y_(0,256),i.y_(0,258),i.y_(0,54),i.y_(0,296),i.y_(0,297)])),i.ge(2))}||{},queriesByEvent:{"!UpdateLookalikeModels":["150663","155018"],"!UpdateSecondPartyData":["150677","150678","150679","150681","150683","150684","150685","150686","150687","150688","150689","153566"],"!UpdateThirdPartyData":["143189","143191","143192","143196","143204","143205","143207","143209","143210","143211","143212","143214","143215","143216","143217","145933","145936","145937","145938","145939","145940","146347","146348","146349","146350","146351","146352","146353","146354","146355","146356","146357","146358","146359","146361","146370","146383","146391","146392","146393","146424","146897","146898","146900","146901","146902","146903","146904","146905","146906","146907","148627","148628","149001","149002","149003","149004","149005","149007","150423","150749","150752","150753","150755","150756","150757","150759","150760","150761","150762","150763","150764","150766","150768","150770","150773","150780","150781","150861","150862","150866","155893"],GamLogSlotClicked:["148624","148829","148847"],LinkClick:["139055","147530","147666","147667","147732","147851","149014","150690","150692","150877","150878","151167","155931","155998","156205","161982"],Pageview:["10000000","10000001","10000002","10000003","10000004","10000005","10000006","10000007","10000008","10000010","10000011","10000012","10000013","10000014","10000015","10000016","10000017","10000018","10000019","10000020","10000021","10000022","10000023","10000024","10000025","10000026","10000035","10000036","10000037","10000038","10000039","10000040","10000041","10000042","10000043","10000044","10000045","10000046","10000047","10000048","10000049","10000050","10000051","10000052","10000053","10000054","10000055","10000056","10000057","10000058","10000059","10000060","10000061","10000062","10000063","10000064","10000065","10000066","10000067","10000068","10000069","10000070","10000071","10000072","10000073","10000074","10000075","10000076","10000077","10000078","10000079","10000080","10000081","10000082","10000083","10000084","10000085","10000086","10000087","10000088","10000089","10000090","10000324","10000325","10000327","10000328","10000329","10000330","10000687","10000688","10000689","10000690","10000691","10000692","10000693","10000694","10000695","10000696","10000697","10000698","10000699","10000700","10000701","10000702","10000703","10000704","10000705","10000706","10000707","10000708","10000709","10000710","10000711","10000712","10000713","10000714","10000715","10000716","10000717","10000718","10000719","10000720","10000721","10000722","10000723","10000724","10000725","10000726","10000727","10000728","10000729","10000730","10000731","10000732","10000733","10000734","10000735","10000736","10000737","10000738","10000739","10000740","10000741","10000742","10000743","10000744","10000745","10000746","10000747","10000748","10000749","10000750","10000751","10000752","10000753","10000754","10000755","10000756","10000757","10000758","10000759","10000760","10000761","10000762","10000763","10000764","10000765","10000766","10000767","10000768","10000769","10000770","10000771","10000772","10000773","10000774","10000775","10000776","10000777","10000778","10000779","10000780","10000781","10000782","10000783","10000784","10000785","10000786","10000787","10000788","10000789","10000790","10000791","10000792","10000793","10000794","10000795","10000796","10000797","10000798","10000799","10000800","10000801","10000802","10000803","129627","137008","137010","137011","137013","137014","137015","137016","137017","137018","137020","137023","137205","137206","137207","137412","137413","137414","138270","138272","139093","139095","139096","139215","139216","139218","139219","141084","141085","141287","141288","141289","141290","141291","141293","141294","141295","141296","141297","141298","141299","141300","141301","141302","141303","141315","141364","142084","143189","143191","143192","143204","143205","143207","143209","143210","143211","143212","143214","143215","143216","143217","144320","144321","144322","144323","144324","144325","144326","144327","144328","144329","144330","144331","144332","144333","144334","144335","144336","144337","144338","144339","144340","144341","144342","144343","144344","144345","144346","144347","144348","144349","144350","144351","144352","144353","144354","144355","144356","144357","144358","144359","144360","144361","144362","144363","144364","144365","144366","144367","144368","144369","144370","144371","144372","144373","144374","144375","144376","144377","144378","144379","144380","144381","144382","144383","144384","144385","144386","144387","144388","144389","144390","144391","144392","144393","144394","144395","144396","144397","144398","144399","144400","144401","144402","144403","144404","144405","144406","144407","144408","144409","144410","144411","144412","144413","144414","144415","144416","144417","144418","144419","144420","144421","144422","144423","144424","144425","144426","144427","144428","144429","144430","144431","144432","144433","144434","144435","144436","144437","144438","144439","144440","144441","144442","144443","144444","144445","144446","144447","144448","144449","144450","144451","144452","144453","144454","144455","144456","144457","144458","144459","144461","144462","144463","144464","144465","144466","144467","144468","144469","144470","144471","144472","144473","144474","144475","144476","144477","144478","144479","144480","144481","144482","144483","144484","144485","144486","144487","144488","144489","144490","144491","144492","144493","144494","144495","144496","144497","144498","144499","144500","144501","144502","144503","144504","144505","144506","144507","144508","144509","144510","144511","144512","144513","144514","144515","144516","144517","144518","144519","144520","144521","144522","144523","144524","144525","144526","144527","144528","144529","144530","144531","144532","144533","144534","144535","144536","144537","144538","144539","144540","144541","144542","144543","144544","144545","144546","144547","144548","144549","144550","144551","144552","144553","144554","144555","144556","144557","144558","144559","144560","144561","144562","144563","144564","144565","144566","144567","144568","144569","144570","144571","144572","144573","144574","144575","144576","144577","144578","144579","144580","144581","144582","144583","144584","144585","144586","144587","144588","144589","144590","144591","144592","144593","144594","144595","144596","144597","144598","144599","144600","144601","144602","144603","144604","144605","144606","144607","144608","144609","144610","144611","144612","144613","144614","144615","144616","144619","144620","144621","144622","144623","144624","144625","144626","144627","144628","144629","144630","144631","144632","144633","144634","144635","144636","144637","144638","144639","144640","144641","144642","144643","144644","144645","144646","144647","144648","144649","144650","144651","144652","144653","144654","144655","144656","144657","144658","144659","144660","144661","144662","144663","144664","144665","144666","144667","144668","144669","144670","144671","144672","144673","144674","144675","144676","144677","144678","144679","144680","144681","144682","144683","144684","144685","144686","144687","144688","144689","144690","144691","144692","144693","144694","144695","144696","144697","144698","144699","144700","144701","144702","144703","144704","144705","144706","144707","144708","144709","144710","144711","144712","144713","144714","144715","144716","144717","144718","144719","144720","144721","144722","144723","144724","144725","144726","144727","144728","144729","144730","144731","144732","144733","144734","144735","144736","144737","144738","144739","144740","144741","144742","144743","144744","144745","144746","144747","144748","144749","144750","144751","144752","144753","144754","144755","144756","144757","144758","144759","144760","144761","144762","144763","144764","144765","144766","144767","144768","144769","144770","144771","144772","144773","144774","144775","144776","144777","144778","144779","144780","144781","144782","144783","144784","144785","144786","144787","144788","144789","144790","144791","144792","144793","144794","144795","144796","144797","144798","144799","144800","144801","144802","144803","144804","144805","144806","144807","144808","144809","144810","144811","144812","144813","144814","144815","144816","144817","144818","144819","144820","144821","144822","144823","144824","144825","144826","144827","144828","144829","144830","144831","144832","144833","144834","144835","144836","144837","144838","144839","144840","144841","144842","144843","144844","144845","144846","144847","144848","144849","144850","144851","144852","144853","144854","144855","144856","144857","144858","144859","144860","144861","144862","144863","144864","144865","144866","144867","144868","144869","144870","144871","144872","144873","144874","144875","144876","144877","144878","144879","144880","144881","144882","144883","144884","144885","144886","144887","144888","144889","144890","144891","144892","144893","144894","144895","144896","144897","144898","144899","144900","144901","144902","144903","144904","144905","144906","144907","144908","144909","144910","144911","144912","144913","144914","144915","144916","144917","144918","144919","144920","144921","144922","144923","144924","144925","144926","144927","144928","144929","144930","144931","144932","144933","144934","144935","144936","144937","144938","144939","144940","144941","144942","144943","144944","144945","144946","144947","144948","144949","146344","146908","146909","146910","146911","146912","146913","146914","146915","146992","146995","146996","146997","146998","147000","147001","147075","147076","147077","147078","147347","147348","147349","147350","147352","147530","147660","147734","147739","147740","147741","148297","148616","149014","149015","150420","150421","150676","150690","150692","150877","150878","151070","151161","151167","154600","154607","154608","154609","154610","154611","154612","154613","154614","154909","155106","155108","155109","155628","155826","155891","155931","155998","156024","156204","156205","160768","160769","161982","161983"],PageviewComplete:["141364","143194","146392","147867","148616","151070"],PageviewEngagement:["141364"],PrebidBid:["147530","147662","147663","147664","147665","149015","150420","150421","150676","150690","150692","150877","150878","151161","151167","154600","155628","155892","155998","156024","156204","160768","160769","161982"],SegmentEntry:["143194","146392","147867","148616","151070"],SegmentExit:[],SlotClicked:["141280","147730","148624","148829","148847"],SlotViewable:["148624","148829","148847"],Tracking:["141084","141315","147530","148616","150420","150690","150878","151070","153666","153667","153668","153669","153670","153671","153672","153673","153674","153675","153676","153677","153678","153679","153680","153681","153682","153683","153684","153685","153686","153687","153688","153689","153690","153691","153693","153694","153695","153696","153697","153698","153699","153700","153701","153702","153703","153704","153705","153706","153708","153709","153710","153711","153712","153713","153714","153715","153716","153717"]}||{}}}();function wn(e){return((e,r)=>A(fn(e,r),(r=>Object.assign(Object.assign({},r),{userId:e.userId}))))(e,vn)}function yn(e,r){const n=A((e=>$r(e,((e,r)=>r.state?V({[r.checksum]:r.state}):R)))(e),fr,or((e=>a(new Map)))),t=A(fr(r),or((e=>a(new Map))));return A(function(e,r){return Vr("delta",e,r)}(n,t),(e=>_r(e)))||{}}!function(e){const r=self;function n(e,n,t,i){function a(n){if("function"!=typeof r.postMessage)return e.ports[0].postMessage(n);r.postMessage(n)}if(!t)return a([n,null,i]);"undefined"!=typeof console&&"error"in console&&console.error("Worker caught an error:",t),a([n,t])}r.addEventListener("message",(function(r){if(t=r,!Array.isArray(t.data)||2!==t.data.length)return;var t;const i=r.data,[a,o]=i;if("function"==typeof e)return function(e,r,t,i){const a=function(e,r){try{return{res:e(r)}}catch(e){return{err:e}}}(r,i);return Boolean(null===(o=a)||void 0===o?void 0:o.err)?n(e,t,a.err):!(s=a.res)||"object"!=typeof s&&"function"!=typeof s||"function"!=typeof s.then?n(e,t,null,a.res):void a.res.then((function(r){n(e,t,null,r)}),(function(r){n(e,t,r)}));var o,s}(r,e,a,o);n(r,a,new Error("Please pass a function into register()."))}))}((e=>"QLE"===e.engine?wn(e):function(e){switch(e.type){case"delta":return yn(e.stateMap,e.lastSentStateMapWithChecksum);case"noop":return{}}}(e)))})();',"Worker",void 0,void 0)}},477:e=>{e.exports=function(e,t,i,n){var r=self||window;try{try{var a;try{a=new r.Blob([e])}catch(t){(a=new(r.BlobBuilder||r.WebKitBlobBuilder||r.MozBlobBuilder||r.MSBlobBuilder)).append(e),a=a.getBlob()}var o=r.URL||r.webkitURL,s=o.createObjectURL(a),c=new r[t](s,i);return o.revokeObjectURL(s),c}catch(n){return new r[t]("data:application/javascript,".concat(encodeURIComponent(e)),i)}}catch(e){if(!n)throw Error("Inline worker is not supported");return new r[t](n,i)}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](i,i.exports,__webpack_require__),i.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{var e=__webpack_require__(5e3),t=__webpack_require__(3735),i=__webpack_require__(6341),n=__webpack_require__(7927),r=__webpack_require__(2197),a=__webpack_require__(6567),o=__webpack_require__(4673),s=__webpack_require__(1500),c=__webpack_require__(2652),u=__webpack_require__(6308);class l{constructor(e,t){this.config=e,this.logger=t,this.defaultReplacementMap=this.filterReplacementMap(this.config.defaultMap),this.replacementMap=this.setReplacementMap(this.config.replacementMap)}get getReplacementMap(){return this.replacementMap}setReplacementMap(e){return this.replacementMap=Object.assign(Object.assign({},this.defaultReplacementMap),this.filterReplacementMap(e)),this.logger.debug(`enrichers[${this.config.name}]: replacement map updated`,this.getReplacementMap),this.getReplacementMap}}class d extends l{filterReplacementMap(e){return(0,t.zG)(e,c.qh,(0,s.DZ)((e=>{const[,t]=e;return(0,u.t)(t)?a.YP:(0,a.G)(e)})),(0,s.u4)({},((e,t)=>{let[i,n]=t;return void 0===n||(e[i]=n),e})))}}class p extends l{filterReplacementMap(e){return e}}const g="geoip",m="enricher:geoip",f={},h={include_geo:(null==f?void 0:f.include_geo)||!0,include_isp:(null==f?void 0:f.include_isp)||!0,include_ip_hash:(null==f?void 0:f.include_ip_hash)||!0,include_ip:(null==f?void 0:f.include_ip)||!1},_=(e,i)=>{var a;const{$ip_geo_info_continent:s,$ip_address:c,$ip_address_hash:u}=o.U,l={$ip_geo_info_continent:s,$ip_address:c,$ip_geo_info:{city:o.U.$ip_geo_info_city,continent:o.U.$ip_geo_info_continent,country:o.U.$ip_geo_info_country,postal_code:o.U.$ip_geo_info_postal_code,province:o.U.$ip_geo_info_province},$ip_address_hash:u,$ip_isp_info:{autonomous_system_number:0,isp:o.U.$ip_isp_info_isp,autonomous_system_organization:o.U.$ip_isp_info_autonomous_system_organization,organization:o.U.$ip_isp_info_organization}},d=(0,t.zG)({$ip_geo_info:null==e?void 0:e.geo_info,$ip_geo_info_continent:null===(a=null==e?void 0:e.geo_info)||void 0===a?void 0:a.continent,$ip_isp_info:null==e?void 0:e.isp_info,$ip_address:null==e?void 0:e.ip,$ip_address_hash:null==e?void 0:e.ip_hash},n.hX(r.ff((e=>void 0===e))));return new p({name:g,defaultMap:l,replacementMap:d},i)},v=e=>{let{clientContext:t,api:i,permutiveData:n,metrics:r,sessionManager:a,enrichers:o,network:s,logger:c,config:u}=e;const l=e=>{e.isp_info&&t.updateContext(["isp",e.isp_info.isp],["organization",e.isp_info.organization],["autonomous_system_number",e.isp_info.autonomous_system_number],["autonomous_system_organization",e.isp_info.autonomous_system_organization]),e.geo_info&&t.updateContext(["continent",e.geo_info.continent],["country",e.geo_info.country],["city",e.geo_info.city],["province",e.geo_info.province],["postal_code",e.geo_info.postal_code])},d=n.getData(m);return d&&d.session_id===a.getSessionId()?(l(d.data),o.register(_(d.data,c)),Promise.resolve()):(c.debug("enrichers[geoip]: start HTTP request"),b(i,r,u,h).then((e=>(c.debug("enrichers[geoip]: end HTTP request"),l(e),n.setData(m,{session_id:a.getSessionId(),data:e}),e))).catch((e=>(i.reportError(`Error while registering the geoip enricher: got ${e}`),null))).then((e=>{o.register(_(e,c))})))},b=(e,t,i,n)=>{const r=[];return n.include_geo&&r.push(["include","geo"]),n.include_isp&&r.push(["include","isp"]),n.include_ip&&r.push(["include","ip"]),n.include_ip_hash&&r.push(["include","ip_hash"]),e.reqWithMetrics(t,"sdk_http_geoip_seconds",{url:e.urls.getEndpointUrl("/geoip",(0,a.G)(i.apiVersion),r),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!1})},y=()=>(0,i.B)({load:v});var w=__webpack_require__(655),k=__webpack_require__(2751);const E="watson";function S(e){if(!e)return[];const t=(0,s.xH)(e.filter(Boolean).map((e=>(e=>{const t=e.split("/").filter((e=>e));return t.map(((e,i)=>"/"+t.slice(0,i+1).join("/")))})(e.label))));return(0,s.jj)(k.Eq)(t)}const I=e=>{let{api:t,clientContext:i,config:n,enrichers:r,logger:a,metrics:o}=e;a.debug("enrichers[watson]: is enabled",n.watson.enabled);const s=n.watson.enabled?()=>(0,w.mG)(void 0,void 0,void 0,(function*(){const e=yield i.getClient();a.debug("enrichers[watson]: start HTTP request");const r=yield P(t,o,n,e.url);return a.debug("enrichers[watson]: end HTTP request",r),r})):()=>(0,w.mG)(void 0,void 0,void 0,(function*(){return a.debug("enrichers[watson]: stubbing response"),null})),c=s().then((e=>{i.updateContext([E,e||void 0]),r.register(((e,t)=>{var i,n,r,a;const o={$alchemy_concepts:null==e?void 0:e.concepts,$alchemy_document_emotion:null===(n=null===(i=null==e?void 0:e.emotion)||void 0===i?void 0:i.document)||void 0===n?void 0:n.emotion,$alchemy_document_sentiment:null===(r=null==e?void 0:e.sentiment)||void 0===r?void 0:r.document,$alchemy_entities:null==e?void 0:e.entities,$alchemy_entity_names:null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.map((e=>e.text)),$alchemy_keywords:null==e?void 0:e.keywords,$alchemy_taxonomy:null==e?void 0:e.taxonomy,$alchemy_taxonomy_labels:S(null==e?void 0:e.taxonomy),$taxonomy_labels:S(null==e?void 0:e.taxonomy)};return new d({name:E,defaultMap:{$alchemy_concepts:[],$alchemy_document_emotion:null,$alchemy_document_sentiment:null,$alchemy_entities:[],$alchemy_entity_names:[],$alchemy_keywords:[],$alchemy_taxonomy:[],$alchemy_taxonomy_labels:[],$taxonomy_labels:[]},replacementMap:o},t)})(e,a))}));return c.catch((e=>{a.error(`Error while registering the watson enricher: got ${e}`),o.track({name:"sdk_watson_classification_fail_count",value:1,labels:{}})})),c},P=(e,t,i,n)=>e.reqWithMetrics(t,"sdk_http_watson_seconds",{url:e.urls.getEndpointUrl("/watson",(0,a.G)(i.apiVersion)),method:"POST",contentType:"text/plain",dataType:"json",withCredentials:!1,payload:{url:n,classify:!0}}),D=()=>(0,i.B)({load:I});var q,M=__webpack_require__(4922);q=M.f,y(),D(),q().then((0,e.g_)((e=>console.warn(`Permutive was not initialized. ${e}`)),t.Q1))})()})();