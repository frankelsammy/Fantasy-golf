/*! For license information please see ad.min.js.LICENSE.txt */
"use strict";(self.webpackChunkPhoenix=self.webpackChunkPhoenix||[]).push([[5418],{77965:e=>{e.exports=function(e){var t,i=(t=e,window[t]=window[t]||[],window[t]);return new Promise((function(e,t){i.push((function(){e(this)}))}))}},63950:e=>{e.exports={breakpoints:{A:0,B:675,C:1240,D:1680},breakpointHeights:{D:1050},soccerLeagues:["epl","mls","la liga","serie a"],fullSoccerLeagues:["premier league","major league soccer","laliga","serie a"]}},52784:(e,t,i)=>{var n=i(24433);e.exports={getDependencyClass:function(e){if(!e)throw new Error("dependencyName required");var t=n("dependency:"+e);return window.customElements.whenDefined(e).then((function(){return t.end(),window.customElements.get(e)}))},getFirstDependencyElement:function(e,t){if(!e)throw new Error("dependencyName required");return t||(t=document),window.customElements.whenDefined(e).then((function(){var i=t.querySelector(e);if(!i)throw new Error(e+" element cannot be found");return i}))},phoenixCustomElement:function(e,t){window.customElements.get(e)||window.customElements.define(e,t)}}},86483:e=>{var t,i=function(){};try{t=window}catch(e){t={}}e.exports=t.performance&&t.performance.mark?t.performance:{getEntriesByName:i,mark:i,measure:i}},24433:(e,t,i)=>{var n=i(86483),r=0;function o(){var e="phxMark:"+r++;return n.mark(e),e}e.exports=function(e){var t=o();return{end:function(){var i=o();n.measure(e,t,i);var r=n.getEntriesByName(e);if(r&&r.length)return r[r.length-1].duration}}}},20751:(e,t,i)=>{function n(e,t){var i,n=this,r=null,o=+t;this.delay=t,this.remaining=function(){return Math.max(o+i-+new Date,0)},this.cancel=function(){clearTimeout(r),n.cancelled=!0},this.pause=function(){clearTimeout(r),o-=+new Date-i,n.paused=!0},this.resume=function(){i=+new Date,clearTimeout(r),r=setTimeout(e,o),n.paused=!1},this.resume()}i.d(t,{Z:()=>n})},9736:(e,t,i)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t,i=1;i<arguments.length;i++)t=null==arguments[i]?{}:arguments[i],i%2?r(Object(t),!0).forEach((function(i){s(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}));return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function l(e,t,i){return t&&c(e.prototype,t),i&&c(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}var u=i(63950),d=u.breakpoints,h=u.breakpointHeights;function f(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document.head,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:document;return new Promise((function(r,o){var s=n.createElement("script");for(var a in t)s.setAttribute(a,t[a]);s.onload=function(){r(s)},s.onerror=function(e){o(e)},s.type="text/javascript",s.src=e,i.appendChild(s)}))}var p={};function v(){var e,t=window.innerWidth,i=window.innerHeight;for(var n in d)t>=d[n]&&(!h[n]||i>=h[n])&&(e=n);return e}var m,y,g,b=function(){function e(){a(this,e),this.observedBreakpoint=void 0,this.subscribers=[],this._observe()}return l(e,[{key:"_observe",value:function(){var e=this;this.observedBreakpoint=v(),window.addEventListener("resize",(function(){var t=v();t!==e.observedBreakpoint&&(e.observedBreakpoint=t,e.subscribers.forEach((function(e){e.onBreakpointChange(t)})))}))}},{key:"subscribe",value:function(e){if(!e.onBreakpointChange)throw new Error("onBreakpointChange method required");this.unsubscribe(e),this.subscribers.push(e)}},{key:"unsubscribe",value:function(e){var t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}}]),e}();function w(){return"complete"===document.readyState||"interactive"===document.readyState}var k,x,C,T={};function O(e,t){var i;try{i=new IntersectionObserver(e,t)}catch(r){var n=o({},t);delete n.root,i=new IntersectionObserver(e,n)}return i}function E(e,t,i){function r(){return(new Date).getTime()}function o(){var i=t-(r()-h);if(0>=i||i>t){u&&window.clearTimeout(u);var n=v;u=p=v=void 0,n&&(g=r(),d=e.apply(f,c),!p&&!u&&(c=f=null))}else p=window.setTimeout(o,i)}function s(){p&&window.clearTimeout(p),u=p=v=void 0,(w||b!==t)&&(g=r(),d=e.apply(f,c),!p&&!u&&(c=f=null))}function a(){var i,n,a;return c=arguments,h=r(),f=this,v=w&&(p||!l),!1===b?i=l&&!p:(!u&&!l&&(g=h),(a=0>=(n=b-(h-g))||n>b)?(u&&(u=window.clearTimeout(u)),g=h,d=e.apply(f,c)):!u&&(u=window.setTimeout(s,n))),a&&p?p=window.clearTimeout(p):!p&&t!==b&&(p=window.setTimeout(o,t)),i&&(a=!0,d=e.apply(f,c)),!a||p||u||(c=f=null),d}var c,l,u,d,h,f,p,v,m,y,g=0,b=!1,w=!0;if(a.cancel=function(){p&&window.clearTimeout(p),u&&window.clearTimeout(u),u=p=v=void 0},a.pending=function(){return void 0!==p},"function"!=typeof e)throw new TypeError("this is not a function!");return t=0>t?0:+t||0,!0===i?(l=!0,w=!1):(y=n(m=i),!!m&&("object"===y||"function"===y)&&(l=i.leading,b="maxWait"in i&&Math.max(+i.maxWait||0,t),w="trailing"in i?i.trailing:w)),a}var _=function(){function e(t,i){a(this,e),this.callback=t,this.timerId=null,this.restart(i)}return l(e,[{key:"restart",value:function(e){this.remaining=e,this.resume()}},{key:"resume",value:function(){this.start=new Date,clearTimeout(this.timerId),this.timerId=setTimeout(this.callback,this.remaining)}},{key:"pause",value:function(){clearTimeout(this.timerId),this.remaining-=new Date-this.start}},{key:"cancel",value:function(){clearTimeout(this.timerId),this.cancelled=!0}}]),e}();function A(e){return e.split(/(?=[A-Z])/).join("_").toLowerCase()}e.exports={addScriptResource:f,addScriptResourceOnce:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length?arguments[2]:void 0,n=3<arguments.length?arguments[3]:void 0,r=t.id||e;return p[r]||(p[r]=f(e,t,i,n))},debounce:E,debounceWithTime:function(e,t,i){function n(){for(var e=Date.now(),t=window.performance.now(),i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];return r.apply(void 0,n.concat([e,t]))}var r=E(e,t,i);for(var o in r)"function"==typeof r[o]&&(n[o]=r[o]);return n},getCurrentBreakpoint:v,getQueryParamValue:function(e){if(!e)return null;var t=new URLSearchParams(window.location.search);return null==t?void 0:t.get(e)},isExternalLink:function(e,t){if(!e)return!1;t||(t=function(){if(!x){var e=document.querySelector("link[rel='canonical']"),t=document.createElement("a");t.href=e.href,x=t.hostname}return x}());var i=e.match(/^https?:\/\/([^/]+)\/?/);return!!i&&i[1]!==t},makeIntersectionObserver:O,observeBreakpointChanges:function(e){return m||(m=new b),m.subscribe(e),m},observeFirstIntersection:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"190px 0px",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document,n=T[t]||(T[t]=O((function(e,t){e.forEach((function(e){e.isIntersecting&&(t.unobserve(e.target),e.target.onFirstIntersection&&e.target.onFirstIntersection())}))}),{root:i,rootMargin:t}));return n.observe(e),n},observeVisibilityChanges:function(e){return k||(k=O((function(e){e.forEach((function(e){e.isIntersecting&&.5<=e.intersectionRatio?e.target.onChangeToVisible&&e.target.onChangeToVisible():e.target.onChangeToNotVisible&&e.target.onChangeToNotVisible()}))}),{threshold:.5})),k.observe(e),k},observeAfterFirstFullView:function(e){var t=O((function(e,t){e.forEach((function(e){e.target.onAfterFirstFullView&&e.isIntersecting&&(e.target.onAfterFirstFullView(e),t.unobserve(e.target))}))}),{root:document,threshold:[.95,1]});return t.observe(e),t},parseHostName:function(e){return e.replace(/^https?:\/\//,"").replace(/[:\/].*/,"").toLowerCase().replace(/^www\./,"").replace(/^m\./,"").replace(/\.blogspot(\.com?)?\.[a-z]{2,3}$/,".blogspot.com").replace(/^.*\.(gamepedia|wikia)(\.com?)?\.[a-z]{2,3}$/,"$1.com").split(".").slice(-3).join(".")},personalizedSlice:function(e,t){var i,n=(0|e/100)%100,r=(t||[]).map((function(e){return e.percentageForSlice})).map((i=0,function(e){return i+=e})).findIndex((function(e){return e>n}));return-1===r?void 0:t[r]},styleObjectToCustomCSSVariables:function e(t,i){i=i?"".concat(A(i),"_"):"--";var r={};return"object"===n(t)&&Object.keys(t)&&Object.keys(t).length&&Object.keys(t).forEach((function(s){if("string"==typeof t[s]||"number"==typeof t[s])r["".concat(i).concat(A(s))]=t[s];else if("object"===n(t[s])&&!Array.isArray(t[s])){var a=e(t[s],"".concat(i).concat(A(s)));r=o(o({},r),a)}})),r},supportPassiveEventListeners:function(){if(void 0===C){C=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return C=!0,null}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(e){}}return C},throttle:function(e,t){var i,n,r,o,s=0,a=function(){s=new Date,r=null,o=e.apply(i,n)};return function(){var c=new Date,l=t-(c-s);return i=this,n=arguments,0>=l?(r&&clearTimeout(r),s=c,o=e.apply(i,n)):!r&&(r=setTimeout(a,l)),o}},Timer:_,userHasPremium:function(){return new Promise((function(e,t){window.phxConfigQueue||t("config object is necessary to check premium"),window.phxConfigQueue.push((function(){e(this.user.hasPremium())}))}))},waitForElement:function(e,t,i){if(!e)throw new Error("rootElement required");var n;return i&&i.untilDomReady&&(n=function(e){w()&&e()}),function(e,t,i,n){var r=e.querySelector(t);return r?Promise.resolve(r):new Promise((function(r,o){var s=new MutationObserver((function(){var i=e.querySelector(t);return i?(s.disconnect(),void r(i)):void(n&&n((function(){return s.disconnect(),void o(new Error("element not found"))})))}));s.observe(e,i)}))}(e,t,{childList:!0,subtree:!0},n)},whenDomContentLoaded:function(){return y||(y=w()?Promise.resolve():new Promise((function(e,t){document.addEventListener("DOMContentLoaded",e)}))),y},whenPageLoaded:function(){return g||(g="complete"===document.readyState?Promise.resolve():new Promise((function(e,t){window.addEventListener("load",e)}))),g},extractSlotInfo:function(e){return null!=e&&e.zone?"[".concat(null==e?void 0:e.zone,"_").concat(null==e?void 0:e.index,"]"):"[Slot Info Unavailable]"}}},22498:(e,t,i)=>{var n=i(20751);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e){for(var t,i=1;i<arguments.length;i++)t=null==arguments[i]?{}:arguments[i],i%2?o(Object(t),!0).forEach((function(i){h(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}));return e}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(3>arguments.length?e:i):r.value}},a.apply(this,arguments)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function u(){function e(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,r,o){var s=t&&t.prototype instanceof n?t:n,a=Object.create(s.prototype),c=new f(o||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw s;return{value:void 0,done:!0}}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var c=l(a,n);if(c){if(c===C)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=i(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===C)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,r,c),a}function i(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}function n(){}function o(){}function s(){}function a(t){["next","throw","return"].forEach((function(i){e(t,i,(function(e){return this._invoke(i,e)}))}))}function c(e,t){function n(o,s,a,c){var l=i(e[o],e,s);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==r(d)&&g.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var o;this._invoke=function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}}function l(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,l(e,t),"throw"===t.method))return C;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var r=i(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,C;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,C):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,C)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function p(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function t(){for(;++i<e.length;)if(g.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:v}}function v(){return{value:void 0,done:!0}}u=function(){return m};var m={},y=Object.prototype,g=y.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},w=b.iterator||"@@iterator",k=b.asyncIterator||"@@asyncIterator",x=b.toStringTag||"@@toStringTag";try{e({},"")}catch(t){e=function(e,t,i){return e[t]=i}}m.wrap=t;var C={},T={};e(T,w,(function(){return this}));var O=Object.getPrototypeOf,E=O&&O(O(p([])));E&&E!==y&&g.call(E,w)&&(T=E);var _=s.prototype=n.prototype=Object.create(T);return o.prototype=s,e(_,"constructor",s),e(s,"constructor",o),o.displayName=e(s,x,"GeneratorFunction"),m.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},m.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,e(t,x,"GeneratorFunction")),t.prototype=Object.create(_),t},m.awrap=function(e){return{__await:e}},a(c.prototype),e(c.prototype,k,(function(){return this})),m.AsyncIterator=c,m.async=function(e,i,n,r,o){void 0===o&&(o=Promise);var s=new c(t(e,i,n,r),o);return m.isGeneratorFunction(i)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},a(_),e(_,x,"Generator"),e(_,w,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),m.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},m.values=p,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return o.type="throw",o.arg=e,i.next=t,n&&(i.method="next",i.arg=void 0),!!n}if(this.done)throw e;for(var i=this,n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n],o=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var s=g.call(r,"catchLoc"),a=g.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var i,n=this.tryEntries.length-1;0<=n;--n)if((i=this.tryEntries[n]).tryLoc<=this.prev&&g.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,C):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),C},finish:function(e){for(var t,i=this.tryEntries.length-1;0<=i;--i)if((t=this.tryEntries[i]).finallyLoc===e)return this.complete(t.completion,t.afterLoc),h(t),C},catch:function(e){for(var t,i=this.tryEntries.length-1;0<=i;--i)if((t=this.tryEntries[i]).tryLoc===e){var n=t.completion;if("throw"===n.type){var r=n.arg;h(t)}return r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:p(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=void 0),C}},m}function d(e,t,i,n,r,o,s){try{var a=e[o](s),c=a.value}catch(e){return void i(e)}a.done?t(c):Promise.resolve(c).then(n,r)}function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function f(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return v(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function g(e,t,i){return t&&y(e.prototype,t),i&&y(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}var b=i(52784).getDependencyClass,w=i(77965),k=i(24433),x=i(9736),C=x.debounceWithTime,T=x.makeIntersectionObserver,O=k("webcomponents:ad"),E=["1x1","301x50","321x50","729x90","971x90","300x251","300x601","160x601"],_=["appnexus","ix","rubicon"],A="defer-until-event",P="is-hidden";new Error("No eligible ads in view"),b("phoenix-page").then((function(e){var t=function(){function t(){var i=this;m(this,t),this.auctionIndex=0,this.adsInView=new Set;var n=Math.max(568,window.innerHeight);this.stickyAdHeightThreshold=Math.ceil(.33*n);var r=Math.ceil(1*n);this.queueTrigger=e.util.debounce(this.queueAuction.bind(this),300),this.observer=T(this.onIntersection.bind(this),{root:document,rootMargin:"".concat(r,"px 0px")}),this.runPromise=Promise.all(["phxAdvertisingQueue","phxAdAuctionQueue","phxConfigQueue"].map((function(e){return w(e)}))).then((function(e){var t,n,r=(n=3,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,o=[],s=!0,a=!1;try{for(i=i.call(e);!(s=(n=i.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==i.return||i.return()}finally{if(a)throw r}}return o}}(t,n)||p(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],s=r[1],a=r[2];return a.features.isEnabled("use-deferred-in-content-ads")?(i.advertising=o,i.adAuction=s,i.breakpoint=a.breakpoint.get(),i.useStickyInContentAds=a.features.isEnabled("use-sticky-in-content-ads"),void window.addEventListener("scroll",i.queueTrigger)):void i.observer.disconnect()}))}return g(t,[{key:"queueAuction",value:function(){var e=this;0<this.adsInView.size&&this.runPromise.then((function(){e.runPromise=e.runAuction()}))}},{key:"runAuction",value:function(){var e=this,t="dynamic-in_content-"+this.auctionIndex,i=f(this.adsInView.values()).filter((function(e){return!e.isFilled&&!e.isPaused}));if(!i.length)return Promise.resolve();var n=i.map((function(e){return e.config.slotConfig})),r=i.reduce((function(t,i){return t.concat(i.config.units[e.breakpoint])}),[]),o={slots:n,unitVendorConfig:i.reduce((function(e,t){return Object.assign(e,t.config.unitVendorConfig||{})}),{}),units:h({},this.breakpoint,r)};return new Promise((function(n){e.adAuction.dynamicAuction(o,t).then((function(){return e.advertising.dynamicCall({auctionId:t,slots:o.slots})})).then((function(e){e.forEach((function(e){var t;return null===(t=e.element.closest("phoenix-ad"))||void 0===t?void 0:t.handleAd(e)})),n()})).then((function(){return e.useStickyInContentAds&&e.applyStickyClass(i)})).catch((function(e){console.error("Dynamic ad request exception",e),n()}))}))}},{key:"applyStickyClass",value:(i=u().mark((function e(t){var i=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.forEach((function(e){setTimeout((function t(){e.classList.contains("is-loaded")&&e.inView?function(){var t=e.closest(".m-in-content-ad-row"),n=t.getBoundingClientRect();if(!(n.height>i.stickyAdHeightThreshold)){var r=n.top+n.height,o=window.scrollY;t.classList.add("is-sticky");var s=!1,a=function(e){return s=!0},c=function(e){return s=!1},l=25e3;t.addEventListener("mouseenter",a,!1),t.addEventListener("mouseleave",c,!1),window.setTimeout((function e(){return 0<l&&s?(l-=500,void window.setTimeout(e,500)):(window.scrollY>o&&window.scrollY-o>=r?(t.classList.add("is-sticky-animate-out"),window.setTimeout((function(){t.classList.remove("is-sticky","is-sticky-animate-out")}),500)):t.classList.remove("is-sticky"),t.removeEventListener("mouseenter",a),void t.removeEventListener("mouseleave",c))}),5e3)}}():e.classList.contains("is-empty")||setTimeout(t,100)}),100)}));case 1:case"end":return e.stop()}}),e)})),n=function(){var e=this,t=arguments;return new Promise((function(n,r){function o(e){d(a,n,r,o,s,"next",e)}function s(e){d(a,n,r,o,s,"throw",e)}var a=i.apply(e,t);o(void 0)}))},function(e){return n.apply(this,arguments)})},{key:"onIntersection",value:function(e){var t=this,i=(new Date).getTime();e.forEach((function(e){var n=e.target;e.isIntersecting?(n.isPaused=!1,t.adsInView.add(n)):(n.isFilled&&!n._outOfViewTime&&(n._outOfViewTime=i,n.isPaused=!0),t.adsInView.delete(n))})),this.queueTrigger()}},{key:"addAd",value:function(e){var t=this;this.observer.observe(e),this.runPromise.then((function(){t.useStickyInContentAds&&e.observeVisibilityChanges()}))}}]),t;var i,n}(),i=new t,o=function(t){function o(){return m(this,o),h.apply(this,arguments)}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(o,t);var u,d,h=(u=o,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(u);if(d){var i=l(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});return g(o,[{key:"observedBroadcastedEvents",get:function(){var e=this.getAttribute(A)?this.getAttribute(A).split(" "):[];return[].concat(f(e),["phoenix:fixedBottomAd:hide","phoenix:fixedBottomAd:show"])}},{key:"broadcastedEventCallback",value:function(e){e&&this.deferUntilEvent&&-1<this.deferUntilEvent.indexOf(e)?(this._load(),this.deferUntilEvent=!1):"phoenix:fixedBottomAd:hide"===e?this.fixedVisible&&this.firstChild&&(this.firstChild.classList.add("is-offscreen-bottom"),this.inView=!1,this.isPaused=!0,this._debouncedVisibilityChange(!1)):"phoenix:fixedBottomAd:show"===e&&this.fixedVisible&&this.firstChild&&(this.firstChild.classList.remove("is-offscreen-bottom"),this.inView=!0,this.isPaused=!1,this._debouncedVisibilityChange(!0))}},{key:"isHidden",get:function(){return!this.fixedVisible&&!this.offsetParent}},{key:"isPaused",get:function(){return this.hasAttribute("auto-reload-paused")},set:function(e){e?this.setAttribute("auto-reload-paused",e):this.removeAttribute("auto-reload-paused")}},{key:"reloadCount",get:function(){return this._reloadCount}},{key:"connectedCallback",value:function(){var t,i,n=this;a(l(o.prototype),"connectedCallback",this).call(this),this.autoReload=this.hasAttribute("auto-reload"),this.closeButton=this.hasAttribute("close-button"),this.deferUntilEvent=!!this.getAttr(A)&&this.getAttr(A).split(" "),this.fixedVisible=this.hasAttribute("fixed-visible"),this.skipDynamicCall=this.hasAttribute("skip-dynamic-call"),this.scrollToRefreshThreshold=this.getAttr("scroll-to-refresh"),this.skipScrollToRefresh=!1,this.initialIndex=this.getAttr("initial-index"),this.isFilled=!1,this.recirculationOpen=!!document.querySelector(".salish-recirculation-open");var r=parseInt(this.getAttr("container-height"));r&&Number.isInteger(r)&&0<r&&(this.containerHeight=r);var s=parseInt(this.getAttr("container-width"));if(s&&Number.isInteger(s)&&0<s&&(this.containerWidth=s),this.containerClass=this.getAttr("container-class"),!this.hasAttribute("config"))throw new Error("No ad configuration was specified.");var c=this;window.phxConfigQueue||(window.phxConfigQueue=[]),window.phxConfigQueue.push((function(){c.breakpoint=this.breakpoint.get()})),this._visibleOnce=!1,this._debouncedVisibilityChange=C(this._trackVisibilityChange.bind(this),500),this.inView=!1,this.handleAd=this._handleAd.bind(this),this.adLoadedTime=0,this._reloadCount=0,this.adAuctionPromise=w("phxAdAuctionQueue"),window.phxAdvertisingQueue=window.phxAdvertisingQueue||[],this.deferLoad=null===(t=this.config.slotConfig)||void 0===t||null===(i=t.model)||void 0===i?void 0:i.deferLoad,this._initListeners(),this.config.slotId&&!this.hasChildNodes()&&this._addSlotDiv(this.config.slotId),this.initialIndex&&this.config.slotConfig&&this.config.slotConfig.model&&(this.config.slotConfig.model.index=this.initialIndex),e.util.whenPageLoaded().then((function(){if(!n.config.slotId||!n.config.slotConfig)throw new Error("slot id and/or slot config is missing");void 0===n.maxAdReloads&&(n.maxAdReloads=-1===n.config.adReloaderDelay?1:n.config.maxAdReloads||10),n.deferLoad||n.deferUntilEvent||n._load()}))}},{key:"attributeChangedCallback",value:function(e,t,i){if("auto-reload-paused"===e&&this.reloadTimer)if(this.isPaused)this.reloadTimer.pause(),this.prebidReloadTimer.pause(),clearInterval(this.s2RInterval);else if(this.reloadTimer.resume(),this.prebidReloadTimer.resume(),this.scrollToRefreshThreshold){var n=this._scrollToRefreshTickHandler.bind(this);this.s2RInterval=setInterval(n,500)}}},{key:"reload",value:function(e){var t=this._reloadCount,i=this.config.slotConfig;if(t<this.maxAdReloads&&!this.isPaused){if(this.hasChildNodes()){var n=this.handleAd,r=(new Date).getTime();this.prebidTime&&30<(r-this.prebidTime)/1e3&&(e=!1),window.phxAdvertisingQueue.push((function(){this.reloadAd(i,e).then((function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).map(n)}))}))}else this._addSlotDiv(),this._load();this.autoReload&&this.isFilled&&this._setLoadTimer(),this._trackVisibilityChange(!1),this.config.slotConfig.model&&"number"==typeof this.config.slotConfig.model.index&&this.config.slotConfig.model.index++,this._reloadCount++,this._reloadCount>this.maxAdReloads&&this.cancelReloading()}}},{key:"_handleAd",value:function(e){var t,i=this.config.slotConfig;if(!e.filled)return this.isFilled=!1,void this._setLoadTimer();var n=e.sizeDims,r=!1;if(null!==(t=window.pbjs)&&void 0!==t&&t.getAdserverTargetingForAdUnitCode){var o=window.pbjs.getAdserverTargetingForAdUnitCode(this.config.slotId)||{};-1<_.indexOf(o.hb_bidder)&&(r=o.hb_deal)}if(this.skipScrollToRefresh=!1,i.screenSizes&&1===i.screenSizes.length&&"A"===i.screenSizes[0]&&i.model&&"fixed_bottom"===i.model.zone)if("1x1"===n)this.reloadDelay=20;else{var s=e.responseInfo&&e.responseInfo.dfp&&e.responseInfo.dfp.lineItemId;this.reloadDelay=s?20:30}r&&(this.reloadDelay=Math.max(this.reloadDelay,30),this.skipScrollToRefresh=!0);var a,c,l=[];i.config&&i.config.sizes&&i.config.sizes.length&&(c=[],(a=i.config.sizes).some(Array.isArray)?c=a.reduce((function(e,t){return e.push(Array.isArray(t)?t.join("x"):t),e}),[]):2!==a.length||a.some(isNaN)?c=a:c.push(a.join("x")),l=c),-1<l.concat(E).indexOf(n)?this.config.slotId&&this.closeButton&&!this.closeButtonDiv&&this._addCloseButton(this.config.slotId):this.handleNonstandardSize(),this.isFilled=!0,this._debouncedVisibilityChange.cancel(),this._trackVisibilityChange(!0),"none"===this.style.display&&(this.style.display="",this.inView=!0),this.adLoadedTime=(new Date).getTime(),this.autoReload?!this.reloadTimer&&this._setLoadTimer():this.cancelReloading(),"fixed_bottom"===i.model.zone&&this.recirculationOpen&&this._salishRecirculationOpened()}},{key:"cancelReloading",value:function(){this.reloadTimer&&this.reloadTimer.cancel(),this.prebidReloadTimer&&this.prebidReloadTimer.cancel(),clearInterval(this.s2RInterval)}},{key:"handleNonstandardSize",value:function(){this.closeButton&&(this.closeButtonDiv&&this.closeButtonDiv.parentElement.removeChild(this.closeButtonDiv),this.closeButton=!1,this.closeButtonDiv=void 0)}},{key:"_addCloseButton",value:function(e){var t=this;this.closeButtonDiv=document.getElementById(e).nextElementSibling,this.closeButtonDiv.classList.remove(P),this.closeButtonHandler=function(){return t.classList.add(P),t._unload(),!1},this.closeButtonDiv.addEventListener("click",this.closeButtonHandler)}},{key:"_addSlotDiv",value:function(e){var t,i=document.createElement("div"),n=document.createElement("div"),r=this.config.visClasses||[];if(n.id=e,this.config.moduleClass&&r.push(this.config.moduleClass),r.push("is-placeholder"),(t=i.classList).add.apply(t,f(r)),this.containerClass){var o,s=this.containerClass.split(" ");(o=i.classList).add.apply(o,f(s))}this.containerHeight&&(i.style.height=this.containerHeight+"px"),this.containerWidth&&(i.style.width=this.containerWidth+"px"),i.appendChild(n),this.appendChild(i)}},{key:"_updateAdIndexForPrebid",value:function(e){var t=this.config.slotConfig;t.model&&"number"==typeof t.model.index&&e.updateZoneIndex(this.config.slotConfig.id,s(s({},t.model),{},{index:t.model.index+1}))}},{key:"_scrollToRefreshTickHandler",value:function(){var e=this;if(!this.isHidden&&this.adLoadedTime&&(new Date).getTime()-this.adLoadedTime>4e3){var t=this.config.slotConfig,i=Math.max(568,window.innerHeight),r=(window.pageYOffset-this.lastPageYOffset)/i;if(Math.abs(r)>=this.scrollToRefreshThreshold){clearInterval(this.s2RInterval);var o=this.reloadTimer;if(o&&!o.cancelled&&o.remaining()<2e3)this.lastPageYOffset=window.pageYOffset;else{this.cancelReloading();var s="s2r-"+t.id+"-"+this._reloadCount,a=this;this.adAuctionPromise.then((function(e){a._updateAdIndexForPrebid(e),e.rerunAuction(t.id,2e3,s)})).catch((function(e){console.warn("Scroll to refresh auction failed: "+e)})),this.reloadTimer=new n.Z((function(){e.reload(s)}),2010),this.lastPageYOffset=window.pageYOffset}}}}},{key:"_load",value:function(){var e=this.config.slotConfig,t=this.handleAd;window.phxAdvertisingQueue.push((function(){this.getSlotResult(e.id).then(t)})),this.skipDynamicCall||window.phxAdvertisingQueue.push((function(){this.dynamicCall({slots:[e]})})),this.autoReload&&(this.reloadDelay=parseInt(this.config.adReloaderDelay,10)||30,this.fixedVisible)||this.observeVisibilityChanges()}},{key:"onChangeToVisible",value:function(){this.inView=!0,this._visibleOnce=!0,this._debouncedVisibilityChange(!0),this.autoReload&&(this.isPaused=!1,this.isFilled&&(this.adLoadedTime=(new Date).getTime()))}},{key:"onChangeToNotVisible",value:function(){this.inView=!1,this._debouncedVisibilityChange.pending()?this._debouncedVisibilityChange.cancel():this._debouncedVisibilityChange(!1),this.autoReload&&(this.isPaused=!0)}},{key:"_initListeners",value:function(){this.callbacks=this._bindCallbacks(),window.addEventListener("message",this.callbacks.takeover,!1),document.addEventListener("visibilitychange",this.callbacks.browserTabVisibility),document.addEventListener("phxCollection:enterFullscreen",this.callbacks.galleryOpened),document.addEventListener("phxCollection:exitFullscreen",this.callbacks.galleryClosed),this.fixedVisible&&(document.addEventListener("salishRecirculation:opened",this.callbacks.salishRecirculationOpened),document.addEventListener("salishRecirculation:closed",this.callbacks.salishRecirculationClosed)),this.deferLoad&&"in_content"===this.config.slotConfig.model.zone&&i.addAd(this)}},{key:"_setLoadTimer",value:function(){var e=this,t=this.adAuctionPromise,i=this.config.slotConfig;if(i&&i.id){if(this.cancelReloading(),this.autoReload&&!(0>=this.reloadDelay)){var r=i.id+"-"+this._reloadCount,o=Math.max(this.reloadDelay-30,0),s=Math.max(this.reloadDelay-o-3,2);if(this.prebidReloadTimer=new n.Z((function(){if(e._reloadCount<=e.maxAdReloads&&!e.isHidden){var n=e;t.then((function(e){n._updateAdIndexForPrebid(e),e.rerunAuction(i.id,1e3*s,r),n.prebidTime=(new Date).getTime()})).catch((function(e){console.warn("Prebid auction failed: "+e)}))}}),1e3*o),this.reloadTimer=new n.Z((function(){e._reloadCount<=e.maxAdReloads&&!e.isHidden&&e.reload(r)}),1e3*this.reloadDelay),this.scrollToRefreshThreshold&&!this.skipScrollToRefresh){var a=this._scrollToRefreshTickHandler.bind(this);this.lastPageYOffset=window.pageYOffset,this.s2RInterval=setInterval(a,500)}}}else console.warn("Malformed ad slot config missing id; reload timer cancelled.")}},{key:"_bindCallbacks",value:function(){return{browserTabVisibility:this._browserTabVisibilityCallback.bind(this),galleryClosed:this._galleryClosed.bind(this),galleryOpened:this._galleryOpened.bind(this),salishRecirculationOpened:this._salishRecirculationOpened.bind(this),salishRecirculationClosed:this._salishRecirculationClosed.bind(this),takeover:this._takeoverCallback.bind(this)}}},{key:"_takeoverCallback",value:function(e){if(e.origin.match(window.location.host))try{var t=JSON.parse(e.data);"takeoveropened"===t.event?this.isPaused=!0:"takeoverclosed"===t.event&&this.inView&&(this.isPaused=!1)}catch(e){}}},{key:"_galleryOpened",value:function(){this.isPaused=!0}},{key:"_galleryClosed",value:function(){this.inView&&(this.isPaused=!1)}},{key:"smallScreen",get:function(){var e="A"===this.breakpoint?600:1e3;return window.innerHeight<e}},{key:"_salishRecirculationOpened",value:function(){var e=this,t=(new Date).getTime(),i=Math.max(5e3-(t-this.adLoadedTime),0);this.isPaused=!0,window.setTimeout((function(){e.style.display="none",e.inView=!1}),i)}},{key:"_salishRecirculationClosed",value:function(){this.isPaused=!1,this.isFilled&&(this.style.display="",this.inView=!0,this.adLoadedTime=(new Date).getTime())}},{key:"_browserTabVisibilityCallback",value:function(){if(this.inView){var e="visible"===document.visibilityState;this.isPaused=!e,this._trackVisibilityChange(e)}}},{key:"_unload",value:function(){if(!this.unloaded){this.cancelReloading(),this.unobserveVisibilityChanges(),this.closeButtonDiv&&this.closeButtonDiv.removeEventListener("click",this.closeButtonHandler);var e=this.config.slotId;window.phxAdvertisingQueue.push((function(){this.resetAdSlot(e)})),this.autoReload&&this.callbacks&&(window.removeEventListener("message",this.callbacks.takeover),document.removeEventListener("visibilitychange",this.callbacks.browserTabVisibility),document.removeEventListener("phxCollection:enterFullscreen",this.callbacks.galleryOpened),document.removeEventListener("phxCollection:exitFullscreen",this.callbacks.galleryClosed),this.fixedVisible&&(document.removeEventListener("salishRecirculation:opened",this.callbacks.salishRecirculationOpened),document.removeEventListener("salishRecirculation:closed",this.callbacks.salishRecirculationClosed))),this.unloaded=!0}}},{key:"_trackVisibilityChange",value:function(e,t,i){if(this._visibleOnce&&this.config.slotConfig){var n=this.config.slotConfig,r=n.id,o=n.model,s=o.index,a=o.zone;this.emitEvent("phoenix:ad:visibility-changed",{bubbles:!0,detail:{isVisible:e,slotElementId:r,adindex:isNaN(+s)?-1:+s,adzone:a,isFilled:this.isFilled,ts:null!=t?t:Date.now(),tspl:0|(null!=i?i:window.performance.now())}})}}},{key:"disconnectedCallback",value:function(){a(l(o.prototype),"disconnectedCallback",this).call(this),this._unload()}}],[{key:"observedAttributes",get:function(){return["auto-reload-paused"]}}]),o}(e.PhoenixElement);window.customElements.define("phoenix-ad",o),O.end()}))}},e=>{e(e.s=22498)}]);
//# sourceMappingURL=ad.min.js.map